var LANGUAGE_CODE="en";var LANGUAGE_BIDI=false;var catalog=new Array();function pluralidx(a){return(a==1)?0:1}function gettext(a){var b=catalog[a];if(typeof(b)=="undefined"){return a}else{return(typeof(b)=="string")?b:b[0]}}function ngettext(b,a,c){value=catalog[b];if(typeof(value)=="undefined"){return(c==1)?b:a}else{return value[pluralidx(c)]}}function gettext_noop(a){return a}function interpolate(b,c,a){if(a){return b.replace(/%\(\w+\)s/g,function(d){return String(c[d.slice(2,-2)])})}else{return b.replace(/%s/g,function(d){return String(c.shift())})}}window.hgettext=function(a){return gettext(a)};window.hngettext=function(b,a,c){return ngettext(b,a,c)};var dojoLoader={whenLoaded:function(b,a){dojo.require(a);dojo.addOnLoad(b)},scriptGet:function(a){dojoLoader.whenLoaded(a,"dojo.io.script")}};var swfobject=function(){var b="undefined",Q="object",n="Shockwave Flash",p="ShockwaveFlash.ShockwaveFlash",P="application/x-shockwave-flash",m="SWFObjectExprInst",j=window,K=document,T=navigator,o=[],N=[],i=[],d=[],J,Z=null,M=null,l=null,e=false,A=false;var h=function(){var v=typeof K.getElementById!=b&&typeof K.getElementsByTagName!=b&&typeof K.createElement!=b,AC=[0,0,0],x=null;if(typeof T.plugins!=b&&typeof T.plugins[n]==Q){x=T.plugins[n].description;if(x&&!(typeof T.mimeTypes!=b&&T.mimeTypes[P]&&!T.mimeTypes[P].enabledPlugin)){x=x.replace(/^.*\s+(\S+\s+\S+$)/,"$1");AC[0]=parseInt(x.replace(/^(.*)\..*$/,"$1"),10);AC[1]=parseInt(x.replace(/^.*\.(.*)\s.*$/,"$1"),10);AC[2]=/r/.test(x)?parseInt(x.replace(/^.*r(.*)$/,"$1"),10):0}}else{if(typeof j.ActiveXObject!=b){var y=null,AB=false;try{y=new ActiveXObject(p+".7")}catch(t){try{y=new ActiveXObject(p+".6");AC=[6,0,21];y.AllowScriptAccess="always"}catch(t){if(AC[0]==6){AB=true}}if(!AB){try{y=new ActiveXObject(p)}catch(t){}}}if(!AB&&y){try{x=y.GetVariable("$version");if(x){x=x.split(" ")[1].split(",");AC=[parseInt(x[0],10),parseInt(x[1],10),parseInt(x[2],10)]}}catch(t){}}}}var AD=T.userAgent.toLowerCase(),r=T.platform.toLowerCase(),AA=/webkit/.test(AD)?parseFloat(AD.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,q=false,z=r?/win/.test(r):/win/.test(AD),w=r?/mac/.test(r):/mac/.test(AD);
/*@cc_on q=true;@if(@_win32)z=true;@elif(@_mac)w=true;@end@*/
return{w3cdom:v,pv:AC,webkit:AA,ie:q,win:z,mac:w}}();var L=function(){if(!h.w3cdom){return}f(H);if(h.ie&&h.win){try{K.write("<script id=__ie_ondomload defer=true src=//:><\/script>");J=C("__ie_ondomload");if(J){I(J,"onreadystatechange",S)}}catch(q){}}if(h.webkit&&typeof K.readyState!=b){Z=setInterval(function(){if(/loaded|complete/.test(K.readyState)){E()}},10)}if(typeof K.addEventListener!=b){K.addEventListener("DOMContentLoaded",E,null)}R(E)}();function S(){if(J.readyState=="complete"){J.parentNode.removeChild(J);E()}}function E(){if(e){return}if(h.ie&&h.win){var v=a("span");try{var u=K.getElementsByTagName("body")[0].appendChild(v);u.parentNode.removeChild(u)}catch(w){return}}e=true;if(Z){clearInterval(Z);Z=null}var q=o.length;for(var r=0;r<q;r++){o[r]()}}function f(q){if(e){q()}else{o[o.length]=q}}function R(r){if(typeof j.addEventListener!=b){j.addEventListener("load",r,false)}else{if(typeof K.addEventListener!=b){K.addEventListener("load",r,false)}else{if(typeof j.attachEvent!=b){I(j,"onload",r)}else{if(typeof j.onload=="function"){var q=j.onload;j.onload=function(){q();r()}}else{j.onload=r}}}}}function H(){var t=N.length;for(var q=0;q<t;q++){var u=N[q].id;if(h.pv[0]>0){var r=C(u);if(r){N[q].width=r.getAttribute("width")?r.getAttribute("width"):"0";N[q].height=r.getAttribute("height")?r.getAttribute("height"):"0";if(c(N[q].swfVersion)){if(h.webkit&&h.webkit<312){Y(r)}W(u,true)}else{if(N[q].expressInstall&&!A&&c("6.0.65")&&(h.win||h.mac)){k(N[q])}else{O(r)}}}}else{W(u,true)}}}function Y(t){var q=t.getElementsByTagName(Q)[0];if(q){var w=a("embed"),y=q.attributes;if(y){var v=y.length;for(var u=0;u<v;u++){if(y[u].nodeName=="DATA"){w.setAttribute("src",y[u].nodeValue)}else{w.setAttribute(y[u].nodeName,y[u].nodeValue)}}}var x=q.childNodes;if(x){var z=x.length;for(var r=0;r<z;r++){if(x[r].nodeType==1&&x[r].nodeName=="PARAM"){w.setAttribute(x[r].getAttribute("name"),x[r].getAttribute("value"))}}}t.parentNode.replaceChild(w,t)}}function k(w){A=true;var u=C(w.id);if(u){if(w.altContentId){var y=C(w.altContentId);if(y){M=y;l=w.altContentId}}else{M=G(u)}if(!(/%$/.test(w.width))&&parseInt(w.width,10)<310){w.width="310"}if(!(/%$/.test(w.height))&&parseInt(w.height,10)<137){w.height="137"}K.title=K.title.slice(0,47)+" - Flash Player Installation";var z=h.ie&&h.win?"ActiveX":"PlugIn",q=K.title,r="MMredirectURL="+j.location+"&MMplayerType="+z+"&MMdoctitle="+q,x=w.id;if(h.ie&&h.win&&u.readyState!=4){var t=a("div");x+="SWFObjectNew";t.setAttribute("id",x);u.parentNode.insertBefore(t,u);u.style.display="none";var v=function(){u.parentNode.removeChild(u)};I(j,"onload",v)}U({data:w.expressInstall,id:m,width:w.width,height:w.height},{flashvars:r},x)}}function O(t){if(h.ie&&h.win&&t.readyState!=4){var r=a("div");t.parentNode.insertBefore(r,t);r.parentNode.replaceChild(G(t),r);t.style.display="none";var q=function(){t.parentNode.removeChild(t)};I(j,"onload",q)}else{t.parentNode.replaceChild(G(t),t)}}function G(v){var u=a("div");if(h.win&&h.ie){u.innerHTML=v.innerHTML}else{var r=v.getElementsByTagName(Q)[0];if(r){var w=r.childNodes;if(w){var q=w.length;for(var t=0;t<q;t++){if(!(w[t].nodeType==1&&w[t].nodeName=="PARAM")&&!(w[t].nodeType==8)){u.appendChild(w[t].cloneNode(true))}}}}}return u}function U(AG,AE,t){var q,v=C(t);if(v){if(typeof AG.id==b){AG.id=t}if(h.ie&&h.win){var AF="";for(var AB in AG){if(AG[AB]!=Object.prototype[AB]){if(AB.toLowerCase()=="data"){AE.movie=AG[AB]}else{if(AB.toLowerCase()=="styleclass"){AF+=' class="'+AG[AB]+'"'}else{if(AB.toLowerCase()!="classid"){AF+=" "+AB+'="'+AG[AB]+'"'}}}}}var AD="";for(var AA in AE){if(AE[AA]!=Object.prototype[AA]){AD+='<param name="'+AA+'" value="'+AE[AA]+'" />'}}v.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+AF+">"+AD+"</object>";i[i.length]=AG.id;q=C(AG.id)}else{if(h.webkit&&h.webkit<312){var AC=a("embed");AC.setAttribute("type",P);for(var z in AG){if(AG[z]!=Object.prototype[z]){if(z.toLowerCase()=="data"){AC.setAttribute("src",AG[z])}else{if(z.toLowerCase()=="styleclass"){AC.setAttribute("class",AG[z])}else{if(z.toLowerCase()!="classid"){AC.setAttribute(z,AG[z])}}}}}for(var y in AE){if(AE[y]!=Object.prototype[y]){if(y.toLowerCase()!="movie"){AC.setAttribute(y,AE[y])}}}v.parentNode.replaceChild(AC,v);q=AC}else{var u=a(Q);u.setAttribute("type",P);for(var x in AG){if(AG[x]!=Object.prototype[x]){if(x.toLowerCase()=="styleclass"){u.setAttribute("class",AG[x])}else{if(x.toLowerCase()!="classid"){u.setAttribute(x,AG[x])}}}}for(var w in AE){if(AE[w]!=Object.prototype[w]&&w.toLowerCase()!="movie"){F(u,w,AE[w])}}v.parentNode.replaceChild(u,v);q=u}}}return q}function F(t,q,r){var u=a("param");u.setAttribute("name",q);u.setAttribute("value",r);t.appendChild(u)}function X(r){var q=C(r);if(q&&(q.nodeName=="OBJECT"||q.nodeName=="EMBED")){if(h.ie&&h.win){if(q.readyState==4){B(r)}else{j.attachEvent("onload",function(){B(r)})}}else{q.parentNode.removeChild(q)}}}function B(t){var r=C(t);if(r){for(var q in r){if(typeof r[q]=="function"){r[q]=null}}r.parentNode.removeChild(r)}}function C(t){var q=null;try{q=K.getElementById(t)}catch(r){}return q}function a(q){return K.createElement(q)}function I(t,q,r){t.attachEvent(q,r);d[d.length]=[t,q,r]}function c(t){var r=h.pv,q=t.split(".");q[0]=parseInt(q[0],10);q[1]=parseInt(q[1],10)||0;q[2]=parseInt(q[2],10)||0;return(r[0]>q[0]||(r[0]==q[0]&&r[1]>q[1])||(r[0]==q[0]&&r[1]==q[1]&&r[2]>=q[2]))?true:false}function V(v,r){if(h.ie&&h.mac){return}var u=K.getElementsByTagName("head")[0],t=a("style");t.setAttribute("type","text/css");t.setAttribute("media","screen");if(!(h.ie&&h.win)&&typeof K.createTextNode!=b){t.appendChild(K.createTextNode(v+" {"+r+"}"))}u.appendChild(t);if(h.ie&&h.win&&typeof K.styleSheets!=b&&K.styleSheets.length>0){var q=K.styleSheets[K.styleSheets.length-1];if(typeof q.addRule==Q){q.addRule(v,r)}}}function W(t,q){var r=q?"visible":"hidden";if(e&&C(t)){C(t).style.visibility=r}else{V("#"+t,"visibility:"+r)}}function g(s){var r=/[\\\"<>\.;]/;var q=r.exec(s)!=null;return q?encodeURIComponent(s):s}var D=function(){if(h.ie&&h.win){window.attachEvent("onunload",function(){var w=d.length;for(var v=0;v<w;v++){d[v][0].detachEvent(d[v][1],d[v][2])}var t=i.length;for(var u=0;u<t;u++){X(i[u])}for(var r in h){h[r]=null}h=null;for(var q in swfobject){swfobject[q]=null}swfobject=null})}}();return{registerObject:function(u,q,t){if(!h.w3cdom||!u||!q){return}var r={};r.id=u;r.swfVersion=q;r.expressInstall=t?t:false;N[N.length]=r;W(u,false)},getObjectById:function(v){var q=null;if(h.w3cdom){var t=C(v);if(t){var u=t.getElementsByTagName(Q)[0];if(!u||(u&&typeof t.SetVariable!=b)){q=t}else{if(typeof u.SetVariable!=b){q=u}}}}return q},embedSWF:function(x,AE,AB,AD,q,w,r,z,AC){if(!h.w3cdom||!x||!AE||!AB||!AD||!q){return}AB+="";AD+="";if(c(q)){W(AE,false);var AA={};if(AC&&typeof AC===Q){for(var v in AC){if(AC[v]!=Object.prototype[v]){AA[v]=AC[v]}}}AA.data=x;AA.width=AB;AA.height=AD;var y={};if(z&&typeof z===Q){for(var u in z){if(z[u]!=Object.prototype[u]){y[u]=z[u]}}}if(r&&typeof r===Q){for(var t in r){if(r[t]!=Object.prototype[t]){if(typeof y.flashvars!=b){y.flashvars+="&"+t+"="+r[t]}else{y.flashvars=t+"="+r[t]}}}}f(function(){U(AA,y,AE);if(AA.id==AE){W(AE,true)}})}else{if(w&&!A&&c("6.0.65")&&(h.win||h.mac)){A=true;W(AE,false);f(function(){var AF={};AF.id=AF.altContentId=AE;AF.width=AB;AF.height=AD;AF.expressInstall=w;k(AF)})}}},getFlashPlayerVersion:function(){return{major:h.pv[0],minor:h.pv[1],release:h.pv[2]}},hasFlashPlayerVersion:c,createSWF:function(t,r,q){if(h.w3cdom){return U(t,r,q)}else{return undefined}},removeSWF:function(q){if(h.w3cdom){X(q)}},createCSS:function(r,q){if(h.w3cdom){V(r,q)}},addDomLoadEvent:f,addLoadEvent:R,getQueryParamValue:function(v){var u=K.location.search||K.location.hash;if(v==null){return g(u)}if(u){var t=u.substring(1).split("&");for(var r=0;r<t.length;r++){if(t[r].substring(0,t[r].indexOf("="))==v){return g(t[r].substring((t[r].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(A&&M){var q=C(m);if(q){q.parentNode.replaceChild(M,q);if(l){W(l,true);if(h.ie&&h.win){M.style.display="block"}}M=null;l=null;A=false}}}}}();function yui_Namespace(){var b=arguments,g=null,e,c,f;for(e=0;e<b.length;++e){f=b[e].split(".");g=YAHOO;for(c=(f[0]=="YAHOO")?1:0;c<f.length;++c){g[f[c]]=g[f[c]]||{};g=g[f[c]]}}return g}if(typeof YAHOO=="undefined"){var YAHOO={}}if(typeof YAHOO.namespace=="undefined"){YAHOO.namespace=yui_Namespace}YAHOO.ympyui=(function(){var a={};if(typeof a=="undefined"||!a){var a={}}a.namespace=function(){var b=arguments,c=null,e,f,d;for(e=0;e<b.length;e=e+1){d=b[e].split(".");c=a;for(f=(d[0]=="YAHOO")?1:0;f<d.length;f=f+1){c[d[f]]=c[d[f]]||{};c=c[d[f]]}}return c};a.log=function(c,b,d){var e=a.widget.Logger;if(e&&e.log){return e.log(c,b,d)}else{return false}};a.register=function(e,k,b){var f=a.env.modules;if(!f[e]){f[e]={versions:[],builds:[]}}var d=f[e],g=b.version,h=b.build,j=a.env.listeners;d.name=e;d.version=g;d.build=h;d.versions.push(g);d.builds.push(h);d.mainClass=k;for(var c=0;c<j.length;c=c+1){j[c](d)}if(k){k.VERSION=g;k.BUILD=h}else{a.log("mainClass is undefined for module "+e,"warn")}};a.env=a.env||{modules:[],listeners:[]};a.env.getVersion=function(b){return a.env.modules[b]||null};a.env.ua=function(){var c={ie:0,opera:0,gecko:0,webkit:0,mobile:null,air:0};var d=navigator.userAgent,b;if((/KHTML/).test(d)){c.webkit=1}b=d.match(/AppleWebKit\/([^\s]*)/);if(b&&b[1]){c.webkit=parseFloat(b[1]);if(/ Mobile\//.test(d)){c.mobile="Apple"}else{b=d.match(/NokiaN[^\/]*/);if(b){c.mobile=b[0]}}b=d.match(/AdobeAIR\/([^\s]*)/);if(b){c.air=b[0]}}if(!c.webkit){b=d.match(/Opera[\s\/]([^\s]*)/);if(b&&b[1]){c.opera=parseFloat(b[1]);b=d.match(/Opera Mini[^;]*/);if(b){c.mobile=b[0]}}else{b=d.match(/MSIE\s([^;]*)/);if(b&&b[1]){c.ie=parseFloat(b[1])}else{b=d.match(/Gecko\/([^\s]*)/);if(b){c.gecko=1;b=d.match(/rv:([^\s\)]*)/);if(b&&b[1]){c.gecko=parseFloat(b[1])}}}}}return c}();(function(){a.namespace("util","widget","example");if("undefined"!==typeof YAHOO_config){var e=YAHOO_config.listener,b=a.env.listeners,c=true,d;if(e){for(d=0;d<b.length;d=d+1){if(b[d]==e){c=false;break}}if(c){b.push(e)}}}})();a.lang=a.lang||{isArray:function(c){if(c){var b=a.lang;return b.isNumber(c.length)&&b.isFunction(c.splice)}return false},isBoolean:function(b){return typeof b==="boolean"},isFunction:function(b){return typeof b==="function"},isNull:function(b){return b===null},isNumber:function(b){return typeof b==="number"&&isFinite(b)},isObject:function(b){return(b&&(typeof b==="object"||a.lang.isFunction(b)))||false},isString:function(b){return typeof b==="string"},isUndefined:function(b){return typeof b==="undefined"},hasOwnProperty:function(b,c){if(Object.prototype.hasOwnProperty){return b.hasOwnProperty(c)}return !a.lang.isUndefined(b[c])&&b.constructor.prototype[c]!==b[c]},_IEEnumFix:function(f,g){if(a.env.ua.ie){var d=["toString","valueOf"],b;for(b=0;b<d.length;b=b+1){var c=d[b],e=g[c];if(a.lang.isFunction(e)&&e!=Object.prototype[c]){f[c]=e}}}},extend:function(d,c,e){if(!c||!d){throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.")}var f=function(){};f.prototype=c.prototype;d.prototype=new f();d.prototype.constructor=d;d.superclass=c.prototype;if(c.prototype.constructor==Object.prototype.constructor){c.prototype.constructor=c}if(e){for(var b in e){d.prototype[b]=e[b]}a.lang._IEEnumFix(d.prototype,e)}},augmentObject:function(d,e){if(!e||!d){throw new Error("Absorb failed, verify dependencies.")}var b=arguments,f,c,g=b[2];if(g&&g!==true){for(f=2;f<b.length;f=f+1){d[b[f]]=e[b[f]]}}else{for(c in e){if(g||!d[c]){d[c]=e[c]}}a.lang._IEEnumFix(d,e)}},augmentProto:function(c,d){if(!d||!c){throw new Error("Augment failed, verify dependencies.")}var b=[c.prototype,d.prototype];for(var e=2;e<arguments.length;e=e+1){b.push(arguments[e])}a.lang.augmentObject.apply(this,b)},dump:function(e,j){var c=a.lang,b,k,g=[],f="{...}",d="f(){...}",h=", ",l=" => ";if(!c.isObject(e)){return e+""}else{if(e instanceof Date||("nodeType" in e&&"tagName" in e)){return e}else{if(c.isFunction(e)){return d}}}j=(c.isNumber(j))?j:3;if(c.isArray(e)){g.push("[");for(b=0,k=e.length;b<k;b=b+1){if(c.isObject(e[b])){g.push((j>0)?c.dump(e[b],j-1):f)}else{g.push(e[b])}g.push(h)}if(g.length>1){g.pop()}g.push("]")}else{g.push("{");for(b in e){if(c.hasOwnProperty(e,b)){g.push(b+l);if(c.isObject(e[b])){g.push((j>0)?c.dump(e[b],j-1):f)}else{g.push(e[b])}g.push(h)}}if(g.length>1){g.pop()}g.push("}")}return g.join("")},substitute:function(f,d,n){var q,r,s,k,j,g,b=a.lang,l=[],c,p="dump",m=" ",e="{",h="}";for(;;){q=f.lastIndexOf(e);if(q<0){break}r=f.indexOf(h,q);if(q+1>=r){break}c=f.substring(q+1,r);k=c;g=null;s=k.indexOf(m);if(s>-1){g=k.substring(s+1);k=k.substring(0,s)}j=d[k];if(n){j=n(k,j,g)}if(b.isObject(j)){if(b.isArray(j)){j=b.dump(j,parseInt(g,10))}else{g=g||"";var o=g.indexOf(p);if(o>-1){g=g.substring(4)}if(j.toString===Object.prototype.toString||o>-1){j=b.dump(j,parseInt(g,10))}else{j=j.toString()}}}else{if(!b.isString(j)&&!b.isNumber(j)){j="~-"+l.length+"-~";l[l.length]=c}}f=f.substring(0,q)+j+f.substring(r+1)}for(q=l.length-1;q>=0;q=q-1){f=f.replace(new RegExp("~-"+q+"-~"),"{"+l[q]+"}","g")}return f},trim:function(b){try{return b.replace(/^\s+|\s+$/g,"")}catch(c){return b}},merge:function(){var c={},e=arguments;for(var d=0,b=e.length;d<b;d=d+1){a.lang.augmentObject(c,e[d],true)}return c},later:function(g,d,f,b,k){g=g||0;d=d||{};var c=f,h=b,j,e;if(a.lang.isString(f)){c=d[f]}if(!c){throw new TypeError("method undefined")}if(!a.lang.isArray(h)){h=[b]}j=function(){c.apply(d,h)};e=(k)?setInterval(j,g):setTimeout(j,g);return{interval:k,cancel:function(){if(this.interval){clearInterval(e)}else{clearTimeout(e)}}}},isValue:function(c){var b=a.lang;return(b.isObject(c)||b.isString(c)||b.isNumber(c)||b.isBoolean(c))}};a.util.Lang=a.lang;a.lang.augment=a.lang.augmentProto;a.augment=a.lang.augmentProto;a.extend=a.lang.extend;a.register("yahoo",a,{version:"2.5.1",build:"984"});(function(){var d=a.util,k,m,l={},p={},h=window.document;a.env._id_counter=a.env._id_counter||0;var c=a.env.ua.opera,j=a.env.ua.webkit,e=a.env.ua.gecko,o=a.env.ua.ie;var q={HYPHEN:/(-[a-z])/i,ROOT_TAG:/^body|html$/i,OP_SCROLL:/^(?:inline|table-row)$/i};var g=function(s){if(!q.HYPHEN.test(s)){return s}if(l[s]){return l[s]}var r=s;while(q.HYPHEN.exec(r)){r=r.replace(RegExp.$1,RegExp.$1.substr(1).toUpperCase())}l[s]=r;return r};var f=function(r){var s=p[r];if(!s){s=new RegExp("(?:^|\\s+)"+r+"(?:\\s+|$)");p[r]=s}return s};if(h.defaultView&&h.defaultView.getComputedStyle){k=function(u,r){var s=null;if(r=="float"){r="cssFloat"}var t=u.ownerDocument.defaultView.getComputedStyle(u,"");if(t){s=t[g(r)]}return u.style[r]||s}}else{if(h.documentElement.currentStyle&&o){k=function(v,t){switch(g(t)){case"opacity":var r=100;try{r=v.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(s){try{r=v.filters("alpha").opacity}catch(s){}}return r/100;case"float":t="styleFloat";default:var u=v.currentStyle?v.currentStyle[t]:null;return(v.style[t]||u)}}}else{k=function(s,r){return s.style[r]}}}if(o){m=function(t,s,r){switch(s){case"opacity":if(a.lang.isString(t.style.filter)){t.style.filter="alpha(opacity="+r*100+")";if(!t.currentStyle||!t.currentStyle.hasLayout){t.style.zoom=1}}break;case"float":s="styleFloat";default:t.style[s]=r}}}else{m=function(t,s,r){if(s=="float"){s="cssFloat"}t.style[s]=r}}var b=function(s,r){return s&&s.nodeType==1&&(!r||r(s))};a.util.Dom={get:function(s){if(s&&(s.nodeType||s.item)){return s}if(a.lang.isString(s)||!s){return h.getElementById(s)}if(s.length!==undefined){var r=[];for(var t=0,u=s.length;t<u;++t){r[r.length]=d.Dom.get(s[t])}return r}return s},getStyle:function(t,r){r=g(r);var s=function(u){return k(u,r)};return d.Dom.batch(t,s,d.Dom,true)},setStyle:function(u,s,r){s=g(s);var t=function(v){m(v,s,r)};d.Dom.batch(u,t,d.Dom,true)},getXY:function(s){var r=function(t){if((t.parentNode===null||t.offsetParent===null||this.getStyle(t,"display")=="none")&&t!=t.ownerDocument.body){return false}return n(t)};return d.Dom.batch(s,r,d.Dom,true)},getX:function(s){var r=function(t){return d.Dom.getXY(t)[0]};return d.Dom.batch(s,r,d.Dom,true)},getY:function(s){var r=function(t){return d.Dom.getXY(t)[1]};return d.Dom.batch(s,r,d.Dom,true)},setXY:function(u,r,s){var t=function(w){var x=this.getStyle(w,"position");if(x=="static"){this.setStyle(w,"position","relative");x="relative"}var z=this.getXY(w);if(z===false){return false}var v=[parseInt(this.getStyle(w,"left"),10),parseInt(this.getStyle(w,"top"),10)];if(isNaN(v[0])){v[0]=(x=="relative")?0:w.offsetLeft}if(isNaN(v[1])){v[1]=(x=="relative")?0:w.offsetTop}if(r[0]!==null){w.style.left=r[0]-z[0]+v[0]+"px"}if(r[1]!==null){w.style.top=r[1]-z[1]+v[1]+"px"}if(!s){var y=this.getXY(w);if((r[0]!==null&&y[0]!=r[0])||(r[1]!==null&&y[1]!=r[1])){this.setXY(w,r,true)}}};d.Dom.batch(u,t,d.Dom,true)},setX:function(r,s){d.Dom.setXY(r,[s,null])},setY:function(s,r){d.Dom.setXY(s,[null,r])},getRegion:function(s){var r=function(u){if((u.parentNode===null||u.offsetParent===null||this.getStyle(u,"display")=="none")&&u!=u.ownerDocument.body){return false}var t=d.Region.getRegion(u);return t};return d.Dom.batch(s,r,d.Dom,true)},getClientWidth:function(){return d.Dom.getViewportWidth()},getClientHeight:function(){return d.Dom.getViewportHeight()},getElementsByClassName:function(v,r,u,t){r=r||"*";u=(u)?d.Dom.get(u):null||h;if(!u){return[]}var y=[],z=u.getElementsByTagName(r),s=f(v);for(var x=0,w=z.length;x<w;++x){if(s.test(z[x].className)){y[y.length]=z[x];if(t){t.call(z[x],z[x])}}}return y},hasClass:function(s,t){var u=f(t);var r=function(v){return u.test(v.className)};return d.Dom.batch(s,r,d.Dom,true)},addClass:function(s,t){var r=function(u){if(this.hasClass(u,t)){return false}u.className=a.lang.trim([u.className,t].join(" "));return true};return d.Dom.batch(s,r,d.Dom,true)},removeClass:function(s,t){var u=f(t);var r=function(w){if(!t||!this.hasClass(w,t)){return false}var v=w.className;w.className=v.replace(u," ");if(this.hasClass(w,t)){this.removeClass(w,t)}w.className=a.lang.trim(w.className);return true};return d.Dom.batch(s,r,d.Dom,true)},replaceClass:function(s,u,v){if(!v||u===v){return false}var t=f(u);var r=function(w){if(!this.hasClass(w,u)){this.addClass(w,v);return true}w.className=w.className.replace(t," "+v+" ");if(this.hasClass(w,u)){this.replaceClass(w,u,v)}w.className=a.lang.trim(w.className);return true};return d.Dom.batch(s,r,d.Dom,true)},generateId:function(t,r){r=r||"yui-gen";var s=function(v){if(v&&v.id){return v.id}var u=r+a.env._id_counter++;if(v){v.id=u}return u};return d.Dom.batch(t,s,d.Dom,true)||s.apply(d.Dom,arguments)},isAncestor:function(s,r){s=d.Dom.get(s);r=d.Dom.get(r);if(!s||!r){return false}if(s.contains&&r.nodeType&&!j){return s.contains(r)}else{if(s.compareDocumentPosition&&r.nodeType){return !!(s.compareDocumentPosition(r)&16)}else{if(r.nodeType){return !!this.getAncestorBy(r,function(t){return t==s})}}}return false},inDocument:function(r){return this.isAncestor(h.documentElement,r)},getElementsBy:function(r,x,w,u){x=x||"*";w=(w)?d.Dom.get(w):null||h;if(!w){return[]}var v=[],s=w.getElementsByTagName(x);for(var t=0,y=s.length;t<y;++t){if(r(s[t])){v[v.length]=s[t];if(u){u(s[t])}}}return v},batch:function(u,r,s,w){u=(u&&(u.tagName||u.item))?u:d.Dom.get(u);if(!u||!r){return false}var v=(w)?s:window;if(u.tagName||u.length===undefined){return r.call(v,u,s)}var t=[];for(var x=0,y=u.length;x<y;++x){t[t.length]=r.call(v,u[x],s)}return t},getDocumentHeight:function(){var r=(h.compatMode!="CSS1Compat")?h.body.scrollHeight:h.documentElement.scrollHeight;var s=Math.max(r,d.Dom.getViewportHeight());return s},getDocumentWidth:function(){var r=(h.compatMode!="CSS1Compat")?h.body.scrollWidth:h.documentElement.scrollWidth;var s=Math.max(r,d.Dom.getViewportWidth());return s},getViewportHeight:function(){var s=self.innerHeight;var r=h.compatMode;if((r||o)&&!c){s=(r=="CSS1Compat")?h.documentElement.clientHeight:h.body.clientHeight}return s},getViewportWidth:function(){var s=self.innerWidth;var r=h.compatMode;if(r||o){s=(r=="CSS1Compat")?h.documentElement.clientWidth:h.body.clientWidth}return s},getAncestorBy:function(s,r){while(s=s.parentNode){if(b(s,r)){return s}}return null},getAncestorByClassName:function(s,t){s=d.Dom.get(s);if(!s){return null}var r=function(u){return d.Dom.hasClass(u,t)};return d.Dom.getAncestorBy(s,r)},getAncestorByTagName:function(s,t){s=d.Dom.get(s);if(!s){return null}var r=function(u){return u.tagName&&u.tagName.toUpperCase()==t.toUpperCase()};return d.Dom.getAncestorBy(s,r)},getPreviousSiblingBy:function(s,r){while(s){s=s.previousSibling;if(b(s,r)){return s}}return null},getPreviousSibling:function(r){r=d.Dom.get(r);if(!r){return null}return d.Dom.getPreviousSiblingBy(r)},getNextSiblingBy:function(s,r){while(s){s=s.nextSibling;if(b(s,r)){return s}}return null},getNextSibling:function(r){r=d.Dom.get(r);if(!r){return null}return d.Dom.getNextSiblingBy(r)},getFirstChildBy:function(t,r){var s=(b(t.firstChild,r))?t.firstChild:null;return s||d.Dom.getNextSiblingBy(t.firstChild,r)},getFirstChild:function(s,r){s=d.Dom.get(s);if(!s){return null}return d.Dom.getFirstChildBy(s)},getLastChildBy:function(t,r){if(!t){return null}var s=(b(t.lastChild,r))?t.lastChild:null;return s||d.Dom.getPreviousSiblingBy(t.lastChild,r)},getLastChild:function(r){r=d.Dom.get(r);return d.Dom.getLastChildBy(r)},getChildrenBy:function(t,r){var s=d.Dom.getFirstChildBy(t,r);var u=s?[s]:[];d.Dom.getNextSiblingBy(s,function(v){if(!r||r(v)){u[u.length]=v}return false});return u},getChildren:function(r){r=d.Dom.get(r);if(!r){}return d.Dom.getChildrenBy(r)},getDocumentScrollLeft:function(r){r=r||h;return Math.max(r.documentElement.scrollLeft,r.body.scrollLeft)},getDocumentScrollTop:function(r){r=r||h;return Math.max(r.documentElement.scrollTop,r.body.scrollTop)},insertBefore:function(r,s){r=d.Dom.get(r);s=d.Dom.get(s);if(!r||!s||!s.parentNode){return null}return s.parentNode.insertBefore(r,s)},insertAfter:function(r,s){r=d.Dom.get(r);s=d.Dom.get(s);if(!r||!s||!s.parentNode){return null}if(s.nextSibling){return s.parentNode.insertBefore(r,s.nextSibling)}else{return s.parentNode.appendChild(r)}},getClientRegion:function(){var s=d.Dom.getDocumentScrollTop(),t=d.Dom.getDocumentScrollLeft(),r=d.Dom.getViewportWidth()+t,u=d.Dom.getViewportHeight()+s;return new d.Region(s,r,u,t)}};var n=function(){if(h.documentElement.getBoundingClientRect){return function(s){var r=s.getBoundingClientRect();var t=s.ownerDocument;return[r.left+d.Dom.getDocumentScrollLeft(t),r.top+d.Dom.getDocumentScrollTop(t)]}}else{return function(s){var r=[s.offsetLeft,s.offsetTop];var t=s.offsetParent;var u=(j&&d.Dom.getStyle(s,"position")=="absolute"&&s.offsetParent==s.ownerDocument.body);if(t!=s){while(t){r[0]+=t.offsetLeft;r[1]+=t.offsetTop;if(!u&&j&&d.Dom.getStyle(t,"position")=="absolute"){u=true}t=t.offsetParent}}if(u){r[0]-=s.ownerDocument.body.offsetLeft;r[1]-=s.ownerDocument.body.offsetTop}t=s.parentNode;while(t.tagName&&!q.ROOT_TAG.test(t.tagName)){if(t.scrollTop||t.scrollLeft){if(!q.OP_SCROLL.test(d.Dom.getStyle(t,"display"))){if(!c||d.Dom.getStyle(t,"overflow")!=="visible"){r[0]-=t.scrollLeft;r[1]-=t.scrollTop}}}t=t.parentNode}return r}}}()})();a.util.Region=function(d,c,b,e){this.top=d;this[1]=d;this.right=c;this.bottom=b;this.left=e;this[0]=e};a.util.Region.prototype.contains=function(b){return(b.left>=this.left&&b.right<=this.right&&b.top>=this.top&&b.bottom<=this.bottom)};a.util.Region.prototype.getArea=function(){return((this.bottom-this.top)*(this.right-this.left))};a.util.Region.prototype.intersect=function(c){var e=Math.max(this.top,c.top);var d=Math.min(this.right,c.right);var b=Math.min(this.bottom,c.bottom);var f=Math.max(this.left,c.left);if(b>=e&&d>=f){return new a.util.Region(e,d,b,f)}else{return null}};a.util.Region.prototype.union=function(c){var e=Math.min(this.top,c.top);var d=Math.max(this.right,c.right);var b=Math.max(this.bottom,c.bottom);var f=Math.min(this.left,c.left);return new a.util.Region(e,d,b,f)};a.util.Region.prototype.toString=function(){return("Region {top: "+this.top+", right: "+this.right+", bottom: "+this.bottom+", left: "+this.left+"}")};a.util.Region.getRegion=function(e){var c=a.util.Dom.getXY(e);var f=c[1];var d=c[0]+e.offsetWidth;var b=c[1]+e.offsetHeight;var g=c[0];return new a.util.Region(f,d,b,g)};a.util.Point=function(b,c){if(a.lang.isArray(b)){c=b[1];b=b[0]}this.x=this.right=this.left=this[0]=b;this.y=this.top=this.bottom=this[1]=c};a.util.Point.prototype=new a.util.Region();a.register("dom",a.util.Dom,{version:"2.5.1",build:"984"});a.util.CustomEvent=function(d,f,e,b){this.type=d;this.scope=f||window;this.silent=e;this.signature=b||a.util.CustomEvent.LIST;this.subscribers=[];if(!this.silent){}var c="_YUICEOnSubscribe";if(d!==c){this.subscribeEvent=new a.util.CustomEvent(c,this,true)}this.lastError=null};a.util.CustomEvent.LIST=0;a.util.CustomEvent.FLAT=1;a.util.CustomEvent.prototype={subscribe:function(d,c,b){if(!d){throw new Error("Invalid callback for subscriber to '"+this.type+"'")}if(this.subscribeEvent){this.subscribeEvent.fire(d,c,b)}this.subscribers.push(new a.util.Subscriber(d,c,b))},unsubscribe:function(e,c){if(!e){return this.unsubscribeAll()}var d=false;for(var g=0,b=this.subscribers.length;g<b;++g){var f=this.subscribers[g];if(f&&f.contains(e,c)){this._delete(g);d=true}}return d},fire:function(){var b=this.subscribers.length;if(!b&&this.silent){return true}var j=[].slice.call(arguments,0),l=true,c,h=false;if(!this.silent){}var d=this.subscribers.slice();for(c=0;c<b;++c){var f=d[c];if(!f){h=true}else{if(!this.silent){}var g=f.getScope(this.scope);if(this.signature==a.util.CustomEvent.FLAT){var e=null;if(j.length>0){e=j[0]}try{l=f.fn.call(g,e,f.obj)}catch(m){this.lastError=m}}else{try{l=f.fn.call(g,this.type,j,f.obj)}catch(k){this.lastError=k}}if(false===l){if(!this.silent){}return false}}}return true},unsubscribeAll:function(){for(var b=this.subscribers.length-1;b>-1;b--){this._delete(b)}this.subscribers=[];return b},_delete:function(b){var c=this.subscribers[b];if(c){delete c.fn;delete c.obj}this.subscribers.splice(b,1)},toString:function(){return"CustomEvent: '"+this.type+"', scope: "+this.scope}};a.util.Subscriber=function(d,c,b){this.fn=d;this.obj=a.lang.isUndefined(c)?null:c;this.override=b};a.util.Subscriber.prototype.getScope=function(b){if(this.override){if(this.override===true){return this.obj}else{return this.override}}return b};a.util.Subscriber.prototype.contains=function(b,c){if(c){return(this.fn==b&&this.obj==c)}else{return(this.fn==b)}};a.util.Subscriber.prototype.toString=function(){return"Subscriber { obj: "+this.obj+", override: "+(this.override||"no")+" }"};if(!a.util.Event){a.util.Event=function(){var h=false;var g=[];var f=[];var j=[];var l=[];var c=0;var k=[];var d=[];var e=0;var b={63232:38,63233:40,63234:37,63235:39,63276:33,63277:34,25:9};return{POLL_RETRYS:2000,POLL_INTERVAL:20,EL:0,TYPE:1,FN:2,WFN:3,UNLOAD_OBJ:3,ADJ_SCOPE:4,OBJ:5,OVERRIDE:6,lastError:null,isSafari:a.env.ua.webkit,webkit:a.env.ua.webkit,isIE:a.env.ua.ie,_interval:null,_dri:null,DOMReady:false,startInterval:function(){if(!this._interval){var n=this;var m=function(){n._tryPreloadAttach()};this._interval=setInterval(m,this.POLL_INTERVAL)}},onAvailable:function(p,s,o,q,r){var n=(a.lang.isString(p))?[p]:p;for(var m=0;m<n.length;m=m+1){k.push({id:n[m],fn:s,obj:o,override:q,checkReady:r})}c=this.POLL_RETRYS;this.startInterval()},onContentReady:function(p,n,o,m){this.onAvailable(p,n,o,m,true)},onDOMReady:function(n,o,m){if(this.DOMReady){setTimeout(function(){var p=window;if(m){if(m===true){p=o}else{p=m}}n.call(p,"DOMReady",[],o)},0)}else{this.DOMReadyEvent.subscribe(n,o,m)}},addListener:function(y,A,p,u,z){if(!p||!p.call){return false}if(this._isValidCollection(y)){var o=true;for(var t=0,r=y.length;t<r;++t){o=this.on(y[t],A,p,u,z)&&o}return o}else{if(a.lang.isString(y)){var v=this.getEl(y);if(v){y=v}else{this.onAvailable(y,function(){a.util.Event.on(y,A,p,u,z)});return true}}}if(!y){return false}if("unload"==A&&u!==this){f[f.length]=[y,A,p,u,z];return true}var m=y;if(z){if(z===true){m=u}else{m=z}}var x=function(B){return p.call(m,a.util.Event.getEvent(B,y),u)};var n=[y,A,p,x,m,u,z];var s=g.length;g[s]=n;if(this.useLegacyEvent(y,A)){var w=this.getLegacyIndex(y,A);if(w==-1||y!=j[w][0]){w=j.length;d[y.id+A]=w;j[w]=[y,A,y["on"+A]];l[w]=[];y["on"+A]=function(B){a.util.Event.fireLegacyEvent(a.util.Event.getEvent(B),w)}}l[w].push(n)}else{try{this._simpleAdd(y,A,x,false)}catch(q){this.lastError=q;this.removeListener(y,A,p);return false}}return true},fireLegacyEvent:function(r,t){var p=true,v,n,o,m,q;n=l[t].slice();for(var u=0,s=n.length;u<s;++u){o=n[u];if(o&&o[this.WFN]){m=o[this.ADJ_SCOPE];q=o[this.WFN].call(m,r);p=(p&&q)}}v=j[t];if(v&&v[2]){v[2](r)}return p},getLegacyIndex:function(m,o){var n=this.generateId(m)+o;if(typeof d[n]=="undefined"){return -1}else{return d[n]}},useLegacyEvent:function(m,o){if(this.webkit&&("click"==o||"dblclick"==o)){var n=parseInt(this.webkit,10);if(!isNaN(n)&&n<418){return true}}return false},removeListener:function(w,x,o){var t,q,m;if(typeof w=="string"){w=this.getEl(w)}else{if(this._isValidCollection(w)){var n=true;for(t=w.length-1;t>-1;t--){n=(this.removeListener(w[t],x,o)&&n)}return n}}if(!o||!o.call){return this.purgeElement(w,false,x)}if("unload"==x){for(t=f.length-1;t>-1;t--){m=f[t];if(m&&m[0]==w&&m[1]==x&&m[2]==o){f.splice(t,1);return true}}return false}var s=null;var r=arguments[3];if("undefined"===typeof r){r=this._getCacheIndex(w,x,o)}if(r>=0){s=g[r]}if(!w||!s){return false}if(this.useLegacyEvent(w,x)){var u=this.getLegacyIndex(w,x);var v=l[u];if(v){for(t=0,q=v.length;t<q;++t){m=v[t];if(m&&m[this.EL]==w&&m[this.TYPE]==x&&m[this.FN]==o){v.splice(t,1);break}}}}else{try{this._simpleRemove(w,x,s[this.WFN],false)}catch(p){this.lastError=p;return false}}delete g[r][this.WFN];delete g[r][this.FN];g.splice(r,1);return true},getTarget:function(o,m){var n=o.target||o.srcElement;return this.resolveTextNode(n)},resolveTextNode:function(m){try{if(m&&3==m.nodeType){return m.parentNode}}catch(n){}return m},getPageX:function(m){var n=m.pageX;if(!n&&0!==n){n=m.clientX||0;if(this.isIE){n+=this._getScrollLeft()}}return n},getPageY:function(n){var m=n.pageY;if(!m&&0!==m){m=n.clientY||0;if(this.isIE){m+=this._getScrollTop()}}return m},getXY:function(m){return[this.getPageX(m),this.getPageY(m)]},getRelatedTarget:function(m){var n=m.relatedTarget;if(!n){if(m.type=="mouseout"){n=m.toElement}else{if(m.type=="mouseover"){n=m.fromElement}}}return this.resolveTextNode(n)},getTime:function(o){if(!o.time){var m=new Date().getTime();try{o.time=m}catch(n){this.lastError=n;return m}}return o.time},stopEvent:function(m){this.stopPropagation(m);this.preventDefault(m)},stopPropagation:function(m){if(m.stopPropagation){m.stopPropagation()}else{m.cancelBubble=true}},preventDefault:function(m){if(m.preventDefault){m.preventDefault()}else{m.returnValue=false}},getEvent:function(p,n){var m=p||window.event;if(!m){var o=this.getEvent.caller;while(o){m=o.arguments[0];if(m&&Event==m.constructor){break}o=o.caller}}return m},getCharCode:function(m){var n=m.keyCode||m.charCode||0;if(a.env.ua.webkit&&(n in b)){n=b[n]}return n},_getCacheIndex:function(p,o,q){for(var r=0,m=g.length;r<m;r=r+1){var n=g[r];if(n&&n[this.FN]==q&&n[this.EL]==p&&n[this.TYPE]==o){return r}}return -1},generateId:function(n){var m=n.id;if(!m){m="yuievtautoid-"+e;++e;n.id=m}return m},_isValidCollection:function(m){try{return(m&&typeof m!=="string"&&m.length&&!m.tagName&&!m.alert&&typeof m[0]!=="undefined")}catch(n){return false}},elCache:{},getEl:function(m){return(typeof m==="string")?document.getElementById(m):m},clearCache:function(){},DOMReadyEvent:new a.util.CustomEvent("DOMReady",this),_load:function(m){if(!h){h=true;var n=a.util.Event;n._ready();n._tryPreloadAttach()}},_ready:function(m){var n=a.util.Event;if(!n.DOMReady){n.DOMReady=true;n.DOMReadyEvent.fire();n._simpleRemove(document,"DOMContentLoaded",n._ready)}},_tryPreloadAttach:function(){if(k.length===0){c=0;clearInterval(this._interval);this._interval=null;return}if(this.locked){return}if(this.isIE){if(!this.DOMReady){this.startInterval();return}}this.locked=true;var p=!h;if(!p){p=(c>0&&k.length>0)}var q=[];var o=function(v,u){var w=v;if(u.override){if(u.override===true){w=u.obj}else{w=u.override}}u.fn.call(w,u.obj)};var m,n,r,s,t=[];for(m=0,n=k.length;m<n;m=m+1){r=k[m];if(r){s=this.getEl(r.id);if(s){if(r.checkReady){if(h||s.nextSibling||!p){t.push(r);k[m]=null}}else{o(s,r);k[m]=null}}else{q.push(r)}}}for(m=0,n=t.length;m<n;m=m+1){r=t[m];o(this.getEl(r.id),r)}c--;if(p){for(m=k.length-1;m>-1;m--){r=k[m];if(!r||!r.id){k.splice(m,1)}}this.startInterval()}else{clearInterval(this._interval);this._interval=null}this.locked=false},purgeElement:function(r,q,o){var t=(a.lang.isString(r))?this.getEl(r):r;var p=this.getListeners(t,o),s,n;if(p){for(s=p.length-1;s>-1;s--){var m=p[s];this.removeListener(t,m.type,m.fn)}}if(q&&t&&t.childNodes){for(s=0,n=t.childNodes.length;s<n;++s){this.purgeElement(t.childNodes[s],q,o)}}},getListeners:function(t,v){var q=[],u;if(!v){u=[g,f]}else{if(v==="unload"){u=[f]}else{u=[g]}}var o=(a.lang.isString(t))?this.getEl(t):t;for(var r=0;r<u.length;r=r+1){var m=u[r];if(m){for(var p=0,n=m.length;p<n;++p){var s=m[p];if(s&&s[this.EL]===o&&(!v||v===s[this.TYPE])){q.push({type:s[this.TYPE],fn:s[this.FN],obj:s[this.OBJ],adjust:s[this.OVERRIDE],scope:s[this.ADJ_SCOPE],index:p})}}}}return(q.length)?q:null},_unload:function(o){var u=a.util.Event,r,s,t,p,q,n=f.slice();for(r=0,p=f.length;r<p;++r){t=n[r];if(t){var m=window;if(t[u.ADJ_SCOPE]){if(t[u.ADJ_SCOPE]===true){m=t[u.UNLOAD_OBJ]}else{m=t[u.ADJ_SCOPE]}}t[u.FN].call(m,u.getEvent(o,t[u.EL]),t[u.UNLOAD_OBJ]);n[r]=null;t=null;m=null}}f=null;if(g){for(s=g.length-1;s>-1;s--){t=g[s];if(t){u.removeListener(t[u.EL],t[u.TYPE],t[u.FN],s)}}t=null}j=null;u._simpleRemove(window,"unload",u._unload)},_getScrollLeft:function(){return this._getScroll()[1]},_getScrollTop:function(){return this._getScroll()[0]},_getScroll:function(){var n=document.documentElement,m=document.body;if(n&&(n.scrollTop||n.scrollLeft)){return[n.scrollTop,n.scrollLeft]}else{if(m){return[m.scrollTop,m.scrollLeft]}else{return[0,0]}}},regCE:function(){},_simpleAdd:function(){if(window.addEventListener){return function(p,o,m,n){p.addEventListener(o,m,(n))}}else{if(window.attachEvent){return function(p,o,m,n){p.attachEvent("on"+o,m)}}else{return function(){}}}}(),_simpleRemove:function(){if(window.removeEventListener){return function(p,o,m,n){p.removeEventListener(o,m,(n))}}else{if(window.detachEvent){return function(m,o,n){m.detachEvent("on"+o,n)}}else{return function(){}}}}()}}();(function(){var b=a.util.Event;b.on=b.addListener;if(b.isIE){a.util.Event.onDOMReady(a.util.Event._tryPreloadAttach,a.util.Event,true);var c=document.createElement("p");b._dri=setInterval(function(){try{c.doScroll("left");clearInterval(b._dri);b._dri=null;b._ready();c=null}catch(d){}},b.POLL_INTERVAL)}else{if(b.webkit&&b.webkit<525){b._dri=setInterval(function(){var d=document.readyState;if("loaded"==d||"complete"==d){clearInterval(b._dri);b._dri=null;b._ready()}},b.POLL_INTERVAL)}else{b._simpleAdd(document,"DOMContentLoaded",b._ready)}}b._simpleAdd(window,"load",b._load);b._simpleAdd(window,"unload",b._unload);b._tryPreloadAttach()})()}a.util.EventProvider=function(){};a.util.EventProvider.prototype={__yui_events:null,__yui_subscribers:null,subscribe:function(b,f,c,d){this.__yui_events=this.__yui_events||{};var e=this.__yui_events[b];if(e){e.subscribe(f,c,d)}else{this.__yui_subscribers=this.__yui_subscribers||{};var g=this.__yui_subscribers;if(!g[b]){g[b]=[]}g[b].push({fn:f,obj:c,override:d})}},unsubscribe:function(g,e,c){this.__yui_events=this.__yui_events||{};var b=this.__yui_events;if(g){var d=b[g];if(d){return d.unsubscribe(e,c)}}else{var h=true;for(var f in b){if(a.lang.hasOwnProperty(b,f)){h=h&&b[f].unsubscribe(e,c)}}return h}return false},unsubscribeAll:function(b){return this.unsubscribe(b)},createEvent:function(h,b){this.__yui_events=this.__yui_events||{};var e=b||{};var f=this.__yui_events;if(f[h]){}else{var g=e.scope||this;var k=(e.silent);var d=new a.util.CustomEvent(h,g,k,a.util.CustomEvent.FLAT);f[h]=d;if(e.onSubscribeCallback){d.subscribeEvent.subscribe(e.onSubscribeCallback)}this.__yui_subscribers=this.__yui_subscribers||{};var j=this.__yui_subscribers[h];if(j){for(var c=0;c<j.length;++c){d.subscribe(j[c].fn,j[c].obj,j[c].override)}}}return f[h]},fireEvent:function(e,f,b,g){this.__yui_events=this.__yui_events||{};var c=this.__yui_events[e];if(!c){return null}var h=[];for(var d=1;d<arguments.length;++d){h.push(arguments[d])}return c.fire.apply(c,h)},hasEvent:function(b){if(this.__yui_events){if(this.__yui_events[b]){return true}}return false}};a.util.KeyListener=function(b,c,g,f){if(!b){}else{if(!c){}else{if(!g){}}}if(!f){f=a.util.KeyListener.KEYDOWN}var e=new a.util.CustomEvent("keyPressed");this.enabledEvent=new a.util.CustomEvent("enabled");this.disabledEvent=new a.util.CustomEvent("disabled");if(typeof b=="string"){b=document.getElementById(b)}if(typeof g=="function"){e.subscribe(g)}else{e.subscribe(g.fn,g.scope,g.correctScope)}function d(h,j){if(!c.shift){c.shift=false}if(!c.alt){c.alt=false}if(!c.ctrl){c.ctrl=false}if(h.shiftKey==c.shift&&h.altKey==c.alt&&h.ctrlKey==c.ctrl){var l;if(c.keys instanceof Array){for(var k=0;k<c.keys.length;k++){l=c.keys[k];if(l==h.charCode){e.fire(h.charCode,h);break}else{if(l==h.keyCode){e.fire(h.keyCode,h);break}}}}else{l=c.keys;if(l==h.charCode){e.fire(h.charCode,h)}else{if(l==h.keyCode){e.fire(h.keyCode,h)}}}}}this.enable=function(){if(!this.enabled){a.util.Event.addListener(b,f,d);this.enabledEvent.fire(c)}this.enabled=true};this.disable=function(){if(this.enabled){a.util.Event.removeListener(b,f,d);this.disabledEvent.fire(c)}this.enabled=false};this.toString=function(){return"KeyListener ["+c.keys+"] "+b.tagName+(b.id?"["+b.id+"]":"")}};a.util.KeyListener.KEYDOWN="keydown";a.util.KeyListener.KEYUP="keyup";a.util.KeyListener.KEY={ALT:18,BACK_SPACE:8,CAPS_LOCK:20,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,META:224,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PRINTSCREEN:44,RIGHT:39,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,UP:38};a.register("event",a.util.Event,{version:"2.5.1",build:"984"});a.register("yahoo-dom-event",a,{version:"2.5.1",build:"984"});a.util.Event._load();return a})();var isMWPSupported=true;var badUserAgentStrings=["NETSCAPE6","NETSCAPE/7"];if(navigator){var len=badUserAgentStrings.length;for(var i=0;i<len;i++){if(navigator.userAgent.toUpperCase().indexOf(badUserAgentStrings[i])!==-1){isMWPSupported=false}}}if(isMWPSupported===true){if(typeof YAHOO.mediaplayer=="undefined"){YAHOO.namespace("YAHOO.mediaplayer")}YAHOO.mediaplayer.playerAlreadyLoaded=function(){if(YAHOO.mediaplayer.Controller){return true}var d=document.getElementsByTagName("script");if(d.length>0){var c=d.length;for(var b=0;b<c;b++){var a=d[b];var e=a.getAttribute("src");if(e&&e.length>0&&(e.indexOf("http://l.yimg.com/us.js.yimg.com/lib/mus/js/ymwp/mediaplayer-")>-1||e.indexOf("http://l.yimg.com/us.js.yimg.com/lib/mus/js/ymwp/webplayer-")>-1)){return true}}}};if(YAHOO.mediaplayer.playerAlreadyLoaded()!==true){YAHOO.mediaplayer.partnerId="42858483";if(typeof YMPParams=="undefined"){var YMPParams={}}YAHOO.mediaplayer.loadPlayerScript=function(){if(Boolean(arguments.callee.bCalled)||(YAHOO.mediaplayer.playerAlreadyLoaded()===true)){return}arguments.callee.bCalled=true;function a(){var d="-min-2.0.31.js";var c="http://l.yimg.com/us.js.yimg.com/lib/mus/js/ymwp/";return c+"mediaplayer"+d}var b=a();if(b&&b.length>0){YAHOO.mediaplayer.elPlayerSource=document.createElement("script");YAHOO.mediaplayer.elPlayerSource.type="text/javascript";YAHOO.mediaplayer.elPlayerSource.src=b;document.getElementsByTagName("head")[0].appendChild(YAHOO.mediaplayer.elPlayerSource)}};YAHOO.ympyui.util.Event.addListener(window,"load",YAHOO.mediaplayer.loadPlayerScript);YAHOO.namespace("YAHOO.MediaPlayer");YAHOO.MediaPlayer=function(){this.controller=null};YAHOO.MediaPlayer.onAPIReady=new YAHOO.ympyui.util.CustomEvent("onAPIReady",null,false,YAHOO.ympyui.util.CustomEvent.FLAT)}}if(!dojo._hasResource["dojo.regexp"]){dojo._hasResource["dojo.regexp"]=true;dojo.provide("dojo.regexp");dojo.regexp.escapeString=function(b,a){return b.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(c){if(a&&a.indexOf(c)!=-1){return c}return"\\"+c})};dojo.regexp.buildGroupRE=function(c,f,e){if(!(c instanceof Array)){return f(c)}var a=[];for(var d=0;d<c.length;d++){a.push(f(c[d]))}return dojo.regexp.group(a.join("|"),e)};dojo.regexp.group=function(b,a){return"("+(a?"?:":"")+b+")"}}if(!dojo._hasResource["dojo.cookie"]){dojo._hasResource["dojo.cookie"]=true;dojo.provide("dojo.cookie");dojo.cookie=function(a,m,l){var k=document.cookie;if(arguments.length==1){var h=k.match(new RegExp("(?:^|; )"+dojo.regexp.escapeString(a)+"=([^;]*)"));return h?decodeURIComponent(h[1]):undefined}else{l=l||{};var f=l.expires;if(typeof f=="number"){var j=new Date();j.setTime(j.getTime()+f*24*60*60*1000);f=l.expires=j}if(f&&f.toUTCString){l.expires=f.toUTCString()}m=encodeURIComponent(m);var b=a+"="+m,g;for(g in l){b+="; "+g;var e=l[g];if(e!==true){b+="="+e}}document.cookie=b}};dojo.cookie.isSupported=function(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1})}}return navigator.cookieEnabled}}if(!dojo._hasResource["dojo.back"]){dojo._hasResource["dojo.back"]=true;dojo.provide("dojo.back");(function(){var n=dojo.back;function m(){var v=window.location.hash;if(v.charAt(0)=="#"){v=v.substring(1)}return dojo.isMozilla?v:decodeURIComponent(v)}function g(v){if(!v){v=""}window.location.hash=encodeURIComponent(v);s=history.length}if(dojo.exists("tests.back-hash")){n.getHash=m;n.setHash=g}var q=(typeof(window)!=="undefined")?window.location.href:"";var c=(typeof(window)!=="undefined")?m():"";var p=null;var o=null;var b=null;var f=null;var k=[];var u=[];var a=false;var d=false;var s;function j(){var w=u.pop();if(!w){return}var v=u[u.length-1];if(!v&&u.length==0){v=p}if(v){if(v.kwArgs.back){v.kwArgs.back()}else{if(v.kwArgs.backButton){v.kwArgs.backButton()}else{if(v.kwArgs.handle){v.kwArgs.handle("back")}}}}k.push(w)}n.goBack=j;function t(){var v=k.pop();if(!v){return}if(v.kwArgs.forward){v.kwArgs.forward()}else{if(v.kwArgs.forwardButton){v.kwArgs.forwardButton()}else{if(v.kwArgs.handle){v.kwArgs.handle("forward")}}}u.push(v)}n.goForward=t;function l(w,v,x){return{url:w,kwArgs:v,urlHash:x}}function e(w){var v=w.split("?");if(v.length<2){return null}else{return v[1]}}function r(){var v=(dojo.config.dojoIframeHistoryUrl||dojo.moduleUrl("dojo","resources/iframe_history.html"))+"?"+(new Date()).getTime();a=true;if(f){dojo.isWebKit?f.location=v:window.frames[f.name].location=v}else{}return v}function h(){if(!d){var v=u.length;var x=m();if((x===c||window.location.href==q)&&(v==1)){j();return}if(k.length>0){if(k[k.length-1].urlHash===x){t();return}}if((v>=2)&&(u[v-2])){if(u[v-2].urlHash===x){j();return}}if(dojo.isSafari&&dojo.isSafari<3){var w=history.length;if(w>s){t()}else{if(w<s){j()}}s=w}}}n.init=function(){if(dojo.byId("dj_history")){return}var v=dojo.config.dojoIframeHistoryUrl||dojo.moduleUrl("dojo","resources/iframe_history.html");document.write('<iframe style="border:0;width:1px;height:1px;position:absolute;visibility:hidden;bottom:0;right:0;" name="dj_history" id="dj_history" src="'+v+'"></iframe>')};n.setInitialState=function(v){p=l(q,v,c)};n.addToHistory=function(w){k=[];var z=null;var v=null;if(!f){if(dojo.config.useXDomain&&!dojo.config.dojoIframeHistoryUrl){console.warn("dojo.back: When using cross-domain Dojo builds, please save iframe_history.html to your domain and set djConfig.dojoIframeHistoryUrl to the path on your domain to iframe_history.html")}f=window.frames.dj_history}if(!b){b=dojo.create("a",{style:{display:"none"}},dojo.body())}if(w.changeUrl){z=""+((w.changeUrl!==true)?w.changeUrl:(new Date()).getTime());if(u.length==0&&p.urlHash==z){p=l(v,w,z);return}else{if(u.length>0&&u[u.length-1].urlHash==z){u[u.length-1]=l(v,w,z);return}}d=true;setTimeout(function(){g(z);d=false},1);b.href=z;if(dojo.isIE){v=r();var B=w.back||w.backButton||w.handle;var A=function(C){if(m()!=""){setTimeout(function(){g(z)},1)}B.apply(this,[C])};if(w.back){w.back=A}else{if(w.backButton){w.backButton=A}else{if(w.handle){w.handle=A}}}var y=w.forward||w.forwardButton||w.handle;var x=function(C){if(m()!=""){g(z)}if(y){y.apply(this,[C])}};if(w.forward){w.forward=x}else{if(w.forwardButton){w.forwardButton=x}else{if(w.handle){w.handle=x}}}}else{if(!dojo.isIE){if(!o){o=setInterval(h,200)}}}}else{v=r()}u.push(l(v,w,z))};n._iframeLoaded=function(v,x){var w=e(x.href);if(w==null){if(u.length==1){j()}return}if(a){a=false;return}if(u.length>=2&&w==e(u[u.length-2].url)){j()}else{if(k.length>0&&w==e(k[k.length-1].url)){t()}}}})()}if(!dojo._hasResource["dojo.i18n"]){dojo._hasResource["dojo.i18n"]=true;dojo.provide("dojo.i18n");dojo.i18n.getLocalization=function(b,c,h){h=dojo.i18n.normalizeLocale(h);var a=h.split("-");var d=[b,"nls",c].join(".");var k=dojo._loadedModules[d];if(k){var j;for(var e=a.length;e>0;e--){var g=a.slice(0,e).join("_");if(k[g]){j=k[g];break}}if(!j){j=k.ROOT}if(j){var f=function(){};f.prototype=j;return new f()}}throw new Error("Bundle not found: "+c+" in "+b+" , locale="+h)};dojo.i18n.normalizeLocale=function(b){var a=b?b.toLowerCase():dojo.locale;if(a=="root"){a="ROOT"}return a};dojo.i18n._requireLocalization=function(a,b,p,l){var h=dojo.i18n.normalizeLocale(p);var e=[a,"nls",b].join(".");var d="";if(l){var o=l.split(",");for(var j=0;j<o.length;j++){if(h.indexOf(o[j])==0){if(o[j].length>d.length){d=o[j]}}}if(!d){d="ROOT"}}var m=l?d:h;var r=dojo._loadedModules[e];var c=null;if(r){if(dojo.config.localizationComplete&&r._built){return}var g=m.replace(/-/g,"_");var n=e+"."+g;c=dojo._loadedModules[n]}if(!c){r=dojo.provide(e);var f=dojo._getModuleSymbols(a);var k=f.concat("nls").join("/");var q;dojo.i18n._searchLocalePath(m,l,function(w){var x=w.replace(/-/g,"_");var v=e+"."+x;var t=false;if(!dojo._loadedModules[v]){dojo.provide(v);var u=[k];if(w!="ROOT"){u.push(w)}u.push(b);var s=u.join("/")+".js";t=dojo._loadPath(s,null,function(A){var z=function(){};z.prototype=q;r[x]=new z();for(var y in A){r[x][y]=A[y]}})}else{t=true}if(t&&r[x]){q=r[x]}else{r[x]=q}if(l){return true}})}if(l&&h!=d){r[h.replace(/-/g,"_")]=r[d.replace(/-/g,"_")]}};(function(){var a=dojo.config.extraLocale;if(a){if(!a instanceof Array){a=[a]}var b=dojo.i18n._requireLocalization;dojo.i18n._requireLocalization=function(e,d,c,g){b(e,d,c,g);if(c){return}for(var f=0;f<a.length;f++){b(e,d,a[f],g)}}}})();dojo.i18n._searchLocalePath=function(h,k,c){h=dojo.i18n.normalizeLocale(h);var a=h.split("-");var b=[];for(var e=a.length;e>0;e--){b.push(a.slice(0,e).join("-"))}b.push(false);if(k){b.reverse()}for(var d=b.length-1;d>=0;d--){var f=b[d]||"ROOT";var g=c(f);if(g){break}}};dojo.i18n._preloadLocalizations=function(e,b){function c(f){f=dojo.i18n.normalizeLocale(f);dojo.i18n._searchLocalePath(f,true,function(h){for(var g=0;g<b.length;g++){if(b[g]==h){dojo.require(e+"_"+h);return true}}return false})}c();var a=dojo.config.extraLocale||[];for(var d=0;d<a.length;d++){c(a[d])}}}if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.string.rep=function(c,b){if(b<=0||!c){return""}var a=[];for(;;){if(b&1){a.push(c)}if(!(b>>=1)){break}c+=c}return a.join("")};dojo.string.pad=function(f,c,d,a){if(!d){d="0"}var b=String(f),e=dojo.string.rep(d,Math.ceil((c-b.length)/d.length));return a?b+e:e+b};dojo.string.substitute=function(c,d,b,a){a=a||dojo.global;b=(!b)?function(e){return e}:dojo.hitch(a,b);return c.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(e,f,h){var g=dojo.getObject(f,false,d);if(h){g=dojo.getObject(h,false,a).call(a,g,f)}return b(g,f).toString()})};dojo.string.trim=String.prototype.trim?dojo.trim:function(b){b=b.replace(/^\s+/,"");for(var a=b.length-1;a>=0;a--){if(/\S/.test(b.charAt(a))){b=b.substring(0,a+1);break}}return b}}if(!dojo._hasResource["dojo.number"]){dojo._hasResource["dojo.number"]=true;dojo.provide("dojo.number");dojo.number.format=function(e,c){c=dojo.mixin({},c||{});var a=dojo.i18n.normalizeLocale(c.locale);var b=dojo.i18n.getLocalization("dojo.cldr","number",a);c.customs=b;var d=c.pattern||b[(c.type||"decimal")+"Format"];if(isNaN(e)||Math.abs(e)==Infinity){return null}return dojo.number._applyPattern(e,d,c)};dojo.number._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;dojo.number._applyPattern=function(f,e,j){j=j||{};var g=j.customs.group;var b=j.customs.decimal;var a=e.split(";");var h=a[0];e=a[(f<0)?1:0]||("-"+h);if(e.indexOf("%")!=-1){f*=100}else{if(e.indexOf("\u2030")!=-1){f*=1000}else{if(e.indexOf("\u00a4")!=-1){g=j.customs.currencyGroup||g;b=j.customs.currencyDecimal||b;e=e.replace(/\u00a4{1,3}/,function(k){var l=["symbol","currency","displayName"][k.length-1];return j[l]||j.currency||""})}else{if(e.indexOf("E")!=-1){throw new Error("exponential notation not supported")}}}}var d=dojo.number._numberPatternRE;var c=h.match(d);if(!c){throw new Error("unable to find a number expression in pattern: "+e)}if(j.fractional===false){j.places=0}return e.replace(d,dojo.number._formatAbsolute(f,c[0],{decimal:b,group:g,places:j.places,round:j.round}))};dojo.number.round=function(d,b,a){var c=10/(a||10);return(c*+d).toFixed(b)/c};if((0.9).toFixed()==0){(function(){var a=dojo.number.round;dojo.number.round=function(e,f,b){var g=Math.pow(10,-f||0),c=Math.abs(e);if(!e||c>=g||c*Math.pow(10,f+1)<5){g=0}return a(e,f,b)+(e>0?g:-g)}})()}dojo.number._formatAbsolute=function(n,o,b){b=b||{};if(b.places===true){b.places=0}if(b.places===Infinity){b.places=6}var c=o.split(".");var l=(b.places>=0)?b.places:(c[1]&&c[1].length)||0;if(!(b.round<0)){n=dojo.number.round(n,l,b.round)}var m=String(Math.abs(n)).split(".");var e=m[1]||"";if(b.places){var s=dojo.isString(b.places)&&b.places.indexOf(",");if(s){b.places=b.places.substring(s+1)}m[1]=dojo.string.pad(e.substr(0,b.places),b.places,"0",true)}else{if(c[1]&&b.places!==0){var p=c[1].lastIndexOf("0")+1;if(p>e.length){m[1]=dojo.string.pad(e,p,"0",true)}var j=c[1].length;if(j<e.length){m[1]=e.substr(0,j)}}else{if(m[1]){m.pop()}}}var k=c[0].replace(",","");p=k.indexOf("0");if(p!=-1){p=k.length-p;if(p>m[0].length){m[0]=dojo.string.pad(m[0],p)}if(k.indexOf("#")==-1){m[0]=m[0].substr(m[0].length-p)}}var g=c[0].lastIndexOf(",");var a,d;if(g!=-1){a=c[0].length-g-1;var h=c[0].substr(0,g);g=h.lastIndexOf(",");if(g!=-1){d=h.length-g-1}}var f=[];for(var q=m[0];q;){var r=q.length-a;f.push((r>0)?q.substr(r):q);q=(r>0)?q.slice(0,r):"";if(d){a=d;delete d}}m[0]=f.reverse().join(b.group||",");return m.join(b.decimal||".")};dojo.number.regexp=function(a){return dojo.number._parseInfo(a).regexp};dojo.number._parseInfo=function(j){j=j||{};var f=dojo.i18n.normalizeLocale(j.locale);var k=dojo.i18n.getLocalization("dojo.cldr","number",f);var d=j.pattern||k[(j.type||"decimal")+"Format"];var g=k.group;var c=k.decimal;var e=1;if(d.indexOf("%")!=-1){e/=100}else{if(d.indexOf("\u2030")!=-1){e/=1000}else{var b=d.indexOf("\u00a4")!=-1;if(b){g=k.currencyGroup||g;c=k.currencyDecimal||c}}}var a=d.split(";");if(a.length==1){a.push("-"+a[0])}var h=dojo.regexp.buildGroupRE(a,function(l){l="(?:"+dojo.regexp.escapeString(l,".")+")";return l.replace(dojo.number._numberPatternRE,function(q){var n={signed:false,separator:j.strict?g:[g,""],fractional:j.fractional,decimal:c,exponent:false};var p=q.split(".");var o=j.places;if(p.length==1||o===0){n.fractional=false}else{if(o===undefined){o=j.pattern?p[1].lastIndexOf("0")+1:Infinity}if(o&&j.fractional==undefined){n.fractional=true}if(!j.places&&(o<p[1].length)){o+=","+p[1].length}n.places=o}var m=p[0].split(",");if(m.length>1){n.groupSize=m.pop().length;if(m.length>1){n.groupSize2=m.pop().length}}return"("+dojo.number._realNumberRegexp(n)+")"})},true);if(b){h=h.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(l,n,o,p){var q=["symbol","currency","displayName"][o.length-1];var m=dojo.regexp.escapeString(j[q]||j.currency||"");n=n?"[\\s\\xa0]":"";p=p?"[\\s\\xa0]":"";if(!j.strict){if(n){n+="*"}if(p){p+="*"}return"(?:"+n+m+p+")?"}return n+m+p})}return{regexp:h.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:g,decimal:c,factor:e}};dojo.number.parse=function(d,a){var c=dojo.number._parseInfo(a);var b=(new RegExp("^"+c.regexp+"$")).exec(d);if(!b){return NaN}var e=b[1];if(!b[1]){if(!b[2]){return NaN}e=b[2];c.factor*=-1}e=e.replace(new RegExp("["+c.group+"\\s\\xa0]","g"),"").replace(c.decimal,".");return e*c.factor};dojo.number._realNumberRegexp=function(a){a=a||{};if(!("places" in a)){a.places=Infinity}if(typeof a.decimal!="string"){a.decimal="."}if(!("fractional" in a)||/^0/.test(a.places)){a.fractional=[true,false]}if(!("exponent" in a)){a.exponent=[true,false]}if(!("eSigned" in a)){a.eSigned=[true,false]}var b=dojo.number._integerRegexp(a);var e=dojo.regexp.buildGroupRE(a.fractional,function(g){var f="";if(g&&(a.places!==0)){f="\\"+a.decimal;if(a.places==Infinity){f="(?:"+f+"\\d+)?"}else{f+="\\d{"+a.places+"}"}}return f},true);var c=dojo.regexp.buildGroupRE(a.exponent,function(f){if(f){return"([eE]"+dojo.number._integerRegexp({signed:a.eSigned})+")"}return""});var d=b+e;if(e){d="(?:(?:"+d+")|(?:"+e+"))"}return d+c};dojo.number._integerRegexp=function(a){a=a||{};if(!("signed" in a)){a.signed=[true,false]}if(!("separator" in a)){a.separator=""}else{if(!("groupSize" in a)){a.groupSize=3}}var b=dojo.regexp.buildGroupRE(a.signed,function(d){return d?"[-+]":""},true);var c=dojo.regexp.buildGroupRE(a.separator,function(f){if(!f){return"(?:\\d+)"}f=dojo.regexp.escapeString(f);if(f==" "){f="\\s"}else{if(f=="\xa0"){f="\\s\\xa0"}}var d=a.groupSize,e=a.groupSize2;if(e){var g="(?:0|[1-9]\\d{0,"+(e-1)+"}(?:["+f+"]\\d{"+e+"})*["+f+"]\\d{"+d+"})";return((d-e)>0)?"(?:"+g+"|(?:0|[1-9]\\d{0,"+(d-1)+"}))":g}return"(?:0|[1-9]\\d{0,"+(d-1)+"}(?:["+f+"]\\d{"+d+"})*)"},true);return b+c}}if(!dojo._hasResource["dojo.io.script"]){dojo._hasResource["dojo.io.script"]=true;dojo.provide("dojo.io.script");dojo.io.script={get:function(c){var a=this._makeScriptDeferred(c);var b=a.ioArgs;dojo._ioAddQueryToUrl(b);if(this._canAttach(b)){this.attach(b.id,b.url,c.frameDoc)}dojo._ioWatch(a,this._validCheck,this._ioCheck,this._resHandle);return a},attach:function(e,a,c){var d=(c||dojo.doc);var b=d.createElement("script");b.type="text/javascript";b.src=a;b.id=e;b.charset="utf-8";d.getElementsByTagName("head")[0].appendChild(b)},remove:function(b,a){dojo.destroy(dojo.byId(b,a));if(this["jsonp_"+b]){delete this["jsonp_"+b]}},_makeScriptDeferred:function(c){var a=dojo._ioSetArgs(c,this._deferredCancel,this._deferredOk,this._deferredError);var b=a.ioArgs;b.id=dojo._scopeName+"IoScript"+(this._counter++);b.canDelete=false;if(c.callbackParamName){b.query=b.query||"";if(b.query.length>0){b.query+="&"}b.query+=c.callbackParamName+"="+(c.frameDoc?"parent.":"")+dojo._scopeName+".io.script.jsonp_"+b.id+"._jsonpCallback";b.frameDoc=c.frameDoc;b.canDelete=true;a._jsonpCallback=this._jsonpCallback;this["jsonp_"+b.id]=a}return a},_deferredCancel:function(a){a.canceled=true;if(a.ioArgs.canDelete){dojo.io.script._addDeadScript(a.ioArgs)}},_deferredOk:function(a){if(a.ioArgs.canDelete){dojo.io.script._addDeadScript(a.ioArgs)}if(a.ioArgs.json){return a.ioArgs.json}else{return a.ioArgs}},_deferredError:function(b,a){if(a.ioArgs.canDelete){if(b.dojoType=="timeout"){dojo.io.script.remove(a.ioArgs.id,a.ioArgs.frameDoc)}else{dojo.io.script._addDeadScript(a.ioArgs)}}return b},_deadScripts:[],_counter:1,_addDeadScript:function(a){dojo.io.script._deadScripts.push({id:a.id,frameDoc:a.frameDoc});a.frameDoc=null},_validCheck:function(b){var a=dojo.io.script;var c=a._deadScripts;if(c&&c.length>0){for(var d=0;d<c.length;d++){a.remove(c[d].id,c[d].frameDoc);c[d].frameDoc=null}dojo.io.script._deadScripts=[]}return true},_ioCheck:function(dfd){if(dfd.ioArgs.json){return true}var checkString=dfd.ioArgs.args.checkString;if(checkString&&eval("typeof("+checkString+") != 'undefined'")){return true}return false},_resHandle:function(a){if(dojo.io.script._ioCheck(a)){a.callback(a)}else{a.errback(new Error("inconceivable dojo.io.script._resHandle error"))}},_canAttach:function(a){return true},_jsonpCallback:function(a){this.ioArgs.json=a}}}if(!dojo._hasResource["dojo.dnd.common"]){dojo._hasResource["dojo.dnd.common"]=true;dojo.provide("dojo.dnd.common");dojo.dnd._isMac=navigator.appVersion.indexOf("Macintosh")>=0;dojo.dnd._copyKey=dojo.dnd._isMac?"metaKey":"ctrlKey";dojo.dnd.getCopyKeyState=function(a){return a[dojo.dnd._copyKey]};dojo.dnd._uniqueId=0;dojo.dnd.getUniqueId=function(){var a;do{a=dojo._scopeName+"Unique"+(++dojo.dnd._uniqueId)}while(dojo.byId(a));return a};dojo.dnd._empty={};dojo.dnd.isFormElement=function(b){var a=b.target;if(a.nodeType==3){a=a.parentNode}return" button textarea input select option ".indexOf(" "+a.tagName.toLowerCase()+" ")>=0};dojo.dnd._lmb=dojo.isIE?1:0;dojo.dnd._isLmbPressed=dojo.isIE?function(a){return a.button&1}:function(a){return a.button===0}}if(!dojo._hasResource["dojo.dnd.autoscroll"]){dojo._hasResource["dojo.dnd.autoscroll"]=true;dojo.provide("dojo.dnd.autoscroll");dojo.dnd.getViewport=function(){var f=dojo.doc,c=f.documentElement,e=window,a=dojo.body();if(dojo.isMozilla){return{w:c.clientWidth,h:e.innerHeight}}else{if(!dojo.isOpera&&e.innerWidth){return{w:e.innerWidth,h:e.innerHeight}}else{if(!dojo.isOpera&&c&&c.clientWidth){return{w:c.clientWidth,h:c.clientHeight}}else{if(a.clientWidth){return{w:a.clientWidth,h:a.clientHeight}}}}}return null};dojo.dnd.V_TRIGGER_AUTOSCROLL=32;dojo.dnd.H_TRIGGER_AUTOSCROLL=32;dojo.dnd.V_AUTOSCROLL_VALUE=16;dojo.dnd.H_AUTOSCROLL_VALUE=16;dojo.dnd.autoScroll=function(d){var c=dojo.dnd.getViewport(),b=0,a=0;if(d.clientX<dojo.dnd.H_TRIGGER_AUTOSCROLL){b=-dojo.dnd.H_AUTOSCROLL_VALUE}else{if(d.clientX>c.w-dojo.dnd.H_TRIGGER_AUTOSCROLL){b=dojo.dnd.H_AUTOSCROLL_VALUE}}if(d.clientY<dojo.dnd.V_TRIGGER_AUTOSCROLL){a=-dojo.dnd.V_AUTOSCROLL_VALUE}else{if(d.clientY>c.h-dojo.dnd.V_TRIGGER_AUTOSCROLL){a=dojo.dnd.V_AUTOSCROLL_VALUE}}window.scrollBy(b,a)};dojo.dnd._validNodes={div:1,p:1,td:1};dojo.dnd._validOverflow={auto:1,scroll:1};dojo.dnd.autoScrollNodes=function(k){for(var d=k.target;d;){if(d.nodeType==1&&(d.tagName.toLowerCase() in dojo.dnd._validNodes)){var u=dojo.getComputedStyle(d);if(u.overflow.toLowerCase() in dojo.dnd._validOverflow){var l=dojo._getContentBox(d,u),q=dojo._abs(d,true);var o=Math.min(dojo.dnd.H_TRIGGER_AUTOSCROLL,l.w/2),j=Math.min(dojo.dnd.V_TRIGGER_AUTOSCROLL,l.h/2),c=k.pageX-q.x,a=k.pageY-q.y,r=0,p=0;if(dojo.isWebKit||dojo.isOpera){c+=dojo.body().scrollLeft,a+=dojo.body().scrollTop}if(c>0&&c<l.w){if(c<o){r=-o}else{if(c>l.w-o){r=o}}}if(a>0&&a<l.h){if(a<j){p=-j}else{if(a>l.h-j){p=j}}}var f=d.scrollLeft,g=d.scrollTop;d.scrollLeft=d.scrollLeft+r;d.scrollTop=d.scrollTop+p;if(f!=d.scrollLeft||g!=d.scrollTop){return}}}try{d=d.parentNode}catch(m){d=null}}dojo.dnd.autoScroll(k)}}if(!dojo._hasResource["dojo.dnd.Mover"]){dojo._hasResource["dojo.dnd.Mover"]=true;dojo.provide("dojo.dnd.Mover");dojo.declare("dojo.dnd.Mover",null,{constructor:function(f,g,c){this.node=dojo.byId(f);this.marginBox={l:g.pageX,t:g.pageY};this.mouseButton=g.button;var b=this.host=c,j=f.ownerDocument,a=dojo.connect(j,"onmousemove",this,"onFirstMove");this.events=[dojo.connect(j,"onmousemove",this,"onMouseMove"),dojo.connect(j,"onmouseup",this,"onMouseUp"),dojo.connect(j,"ondragstart",dojo.stopEvent),dojo.connect(j.body,"onselectstart",dojo.stopEvent),a];if(b&&b.onMoveStart){b.onMoveStart(this)}},onMouseMove:function(b){dojo.dnd.autoScroll(b);var a=this.marginBox;this.host.onMove(this,{l:a.l+b.pageX,t:a.t+b.pageY});dojo.stopEvent(b)},onMouseUp:function(a){if(dojo.isWebKit&&dojo.dnd._isMac&&this.mouseButton==2?a.button==0:this.mouseButton==a.button){this.destroy()}dojo.stopEvent(a)},onFirstMove:function(){var n=this.node.style,d,k,e=this.host;switch(n.position){case"relative":case"absolute":d=Math.round(parseFloat(n.left));k=Math.round(parseFloat(n.top));break;default:n.position="absolute";var c=dojo.marginBox(this.node);var g=dojo.doc.body;var j=dojo.getComputedStyle(g);var a=dojo._getMarginBox(g,j);var f=dojo._getContentBox(g,j);d=c.l-(f.l-a.l);k=c.t-(f.t-a.t);break}this.marginBox.l=d-this.marginBox.l;this.marginBox.t=k-this.marginBox.t;if(e&&e.onFirstMove){e.onFirstMove(this)}dojo.disconnect(this.events.pop())},destroy:function(){dojo.forEach(this.events,dojo.disconnect);var a=this.host;if(a&&a.onMoveStop){a.onMoveStop(this)}this.events=this.node=this.host=null}})}if(!dojo._hasResource["dojo.dnd.Moveable"]){dojo._hasResource["dojo.dnd.Moveable"]=true;dojo.provide("dojo.dnd.Moveable");dojo.declare("dojo.dnd.Moveable",null,{handle:"",delay:0,skip:false,constructor:function(a,b){this.node=dojo.byId(a);if(!b){b={}}this.handle=b.handle?dojo.byId(b.handle):null;if(!this.handle){this.handle=this.node}this.delay=b.delay>0?b.delay:0;this.skip=b.skip;this.mover=b.mover?b.mover:dojo.dnd.Mover;this.events=[dojo.connect(this.handle,"onmousedown",this,"onMouseDown"),dojo.connect(this.handle,"ondragstart",this,"onSelectStart"),dojo.connect(this.handle,"onselectstart",this,"onSelectStart")]},markupFactory:function(b,a){return new dojo.dnd.Moveable(a,b)},destroy:function(){dojo.forEach(this.events,dojo.disconnect);this.events=this.node=this.handle=null},onMouseDown:function(a){if(this.skip&&dojo.dnd.isFormElement(a)){return}if(this.delay){this.events.push(dojo.connect(this.handle,"onmousemove",this,"onMouseMove"),dojo.connect(this.handle,"onmouseup",this,"onMouseUp"));this._lastX=a.pageX;this._lastY=a.pageY}else{this.onDragDetected(a)}dojo.stopEvent(a)},onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>this.delay){this.onMouseUp(a);this.onDragDetected(a)}dojo.stopEvent(a)},onMouseUp:function(b){for(var a=0;a<2;++a){dojo.disconnect(this.events.pop())}dojo.stopEvent(b)},onSelectStart:function(a){if(!this.skip||!dojo.dnd.isFormElement(a)){dojo.stopEvent(a)}},onDragDetected:function(a){new this.mover(this.node,a,this)},onMoveStart:function(a){dojo.publish("/dnd/move/start",[a]);dojo.addClass(dojo.body(),"dojoMove");dojo.addClass(this.node,"dojoMoveItem")},onMoveStop:function(a){dojo.publish("/dnd/move/stop",[a]);dojo.removeClass(dojo.body(),"dojoMove");dojo.removeClass(this.node,"dojoMoveItem")},onFirstMove:function(a){},onMove:function(b,a){this.onMoving(b,a);var c=b.node.style;c.left=a.l+"px";c.top=a.t+"px";this.onMoved(b,a)},onMoving:function(b,a){},onMoved:function(b,a){}})}if(!dojo._hasResource["dojo.dnd.move"]){dojo._hasResource["dojo.dnd.move"]=true;dojo.provide("dojo.dnd.move");dojo.declare("dojo.dnd.move.constrainedMoveable",dojo.dnd.Moveable,{constraints:function(){},within:false,markupFactory:function(b,a){return new dojo.dnd.move.constrainedMoveable(a,b)},constructor:function(a,b){if(!b){b={}}this.constraints=b.constraints;this.within=b.within},onFirstMove:function(a){var d=this.constraintBox=this.constraints.call(this,a);d.r=d.l+d.w;d.b=d.t+d.h;if(this.within){var b=dojo.marginBox(a.node);d.r-=b.w;d.b-=b.h}},onMove:function(b,a){var e=this.constraintBox,d=b.node.style;d.left=(a.l<e.l?e.l:e.r<a.l?e.r:a.l)+"px";d.top=(a.t<e.t?e.t:e.b<a.t?e.b:a.t)+"px"}});dojo.declare("dojo.dnd.move.boxConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{box:{},markupFactory:function(b,a){return new dojo.dnd.move.boxConstrainedMoveable(a,b)},constructor:function(b,c){var a=c&&c.box;this.constraints=function(){return a}}});dojo.declare("dojo.dnd.move.parentConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{area:"content",markupFactory:function(b,a){return new dojo.dnd.move.parentConstrainedMoveable(a,b)},constructor:function(b,c){var a=c&&c.area;this.constraints=function(){var g=this.node.parentNode,e=dojo.getComputedStyle(g),f=dojo._getMarginBox(g,e);if(a=="margin"){return f}var d=dojo._getMarginExtents(g,e);f.l+=d.l,f.t+=d.t,f.w-=d.w,f.h-=d.h;if(a=="border"){return f}d=dojo._getBorderExtents(g,e);f.l+=d.l,f.t+=d.t,f.w-=d.w,f.h-=d.h;if(a=="padding"){return f}d=dojo._getPadExtents(g,e);f.l+=d.l,f.t+=d.t,f.w-=d.w,f.h-=d.h;return f}}});dojo.dnd.move.constrainedMover=function(a,c){dojo.deprecated("dojo.dnd.move.constrainedMover, use dojo.dnd.move.constrainedMoveable instead");var b=function(f,g,d){dojo.dnd.Mover.call(this,f,g,d)};dojo.extend(b,dojo.dnd.Mover.prototype);dojo.extend(b,{onMouseMove:function(h){dojo.dnd.autoScroll(h);var d=this.marginBox,j=this.constraintBox,f=d.l+h.pageX,g=d.t+h.pageY;f=f<j.l?j.l:j.r<f?j.r:f;g=g<j.t?j.t:j.b<g?j.b:g;this.host.onMove(this,{l:f,t:g})},onFirstMove:function(){dojo.dnd.Mover.prototype.onFirstMove.call(this);var e=this.constraintBox=a.call(this);e.r=e.l+e.w;e.b=e.t+e.h;if(c){var d=dojo.marginBox(this.node);e.r-=d.w;e.b-=d.h}}});return b};dojo.dnd.move.boxConstrainedMover=function(b,a){dojo.deprecated("dojo.dnd.move.boxConstrainedMover, use dojo.dnd.move.boxConstrainedMoveable instead");return dojo.dnd.move.constrainedMover(function(){return b},a)};dojo.dnd.move.parentConstrainedMover=function(c,b){dojo.deprecated("dojo.dnd.move.parentConstrainedMover, use dojo.dnd.move.parentConstrainedMoveable instead");var a=function(){var g=this.node.parentNode,e=dojo.getComputedStyle(g),f=dojo._getMarginBox(g,e);if(c=="margin"){return f}var d=dojo._getMarginExtents(g,e);f.l+=d.l,f.t+=d.t,f.w-=d.w,f.h-=d.h;if(c=="border"){return f}d=dojo._getBorderExtents(g,e);f.l+=d.l,f.t+=d.t,f.w-=d.w,f.h-=d.h;if(c=="padding"){return f}d=dojo._getPadExtents(g,e);f.l+=d.l,f.t+=d.t,f.w-=d.w,f.h-=d.h;return f};return dojo.dnd.move.constrainedMover(a,b)};dojo.dnd.constrainedMover=dojo.dnd.move.constrainedMover;dojo.dnd.boxConstrainedMover=dojo.dnd.move.boxConstrainedMover;dojo.dnd.parentConstrainedMover=dojo.dnd.move.parentConstrainedMover}if(!dojo._hasResource["dojo.dnd.TimedMoveable"]){dojo._hasResource["dojo.dnd.TimedMoveable"]=true;dojo.provide("dojo.dnd.TimedMoveable");(function(){var a=dojo.dnd.Moveable.prototype.onMove;dojo.declare("dojo.dnd.TimedMoveable",dojo.dnd.Moveable,{timeout:40,constructor:function(b,c){if(!c){c={}}if(c.timeout&&typeof c.timeout=="number"&&c.timeout>=0){this.timeout=c.timeout}},markupFactory:function(c,b){return new dojo.dnd.TimedMoveable(b,c)},onMoveStop:function(b){if(b._timer){clearTimeout(b._timer);a.call(this,b,b._leftTop)}dojo.dnd.Moveable.prototype.onMoveStop.apply(this,arguments)},onMove:function(c,b){c._leftTop=b;if(!c._timer){var d=this;c._timer=setTimeout(function(){c._timer=null;a.call(d,c,c._leftTop)},this.timeout)}}})})()}if(!dojo._hasResource["dojo.fx.Toggler"]){dojo._hasResource["dojo.fx.Toggler"]=true;dojo.provide("dojo.fx.Toggler");dojo.declare("dojo.fx.Toggler",null,{constructor:function(a){var b=this;dojo.mixin(b,a);b.node=a.node;b._showArgs=dojo.mixin({},a);b._showArgs.node=b.node;b._showArgs.duration=b.showDuration;b.showAnim=b.showFunc(b._showArgs);b._hideArgs=dojo.mixin({},a);b._hideArgs.node=b.node;b._hideArgs.duration=b.hideDuration;b.hideAnim=b.hideFunc(b._hideArgs);dojo.connect(b.showAnim,"beforeBegin",dojo.hitch(b.hideAnim,"stop",true));dojo.connect(b.hideAnim,"beforeBegin",dojo.hitch(b.showAnim,"stop",true))},node:null,showFunc:dojo.fadeIn,hideFunc:dojo.fadeOut,showDuration:200,hideDuration:200,show:function(a){return this.showAnim.play(a||0)},hide:function(a){return this.hideAnim.play(a||0)}})}if(!dojo._hasResource["dojo.fx"]){dojo._hasResource["dojo.fx"]=true;dojo.provide("dojo.fx");(function(){var c=dojo,b={_fire:function(d,f){if(this[d]){this[d].apply(this,f||[])}return this}};var e=function(d){this._index=-1;this._animations=d||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;c.forEach(this._animations,function(f){this.duration+=f.duration;if(f.delay){this.duration+=f.delay}},this)};c.extend(e,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){c.disconnect(this._onAnimateCtx);c.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd")}else{this._current=this._animations[++this._index];this._onAnimateCtx=c.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=c.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true)}},play:function(g,d){if(!this._current){this._current=this._animations[this._index=0]}if(!d&&this._current.status()=="playing"){return this}var f=c.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin")}),j=c.connect(this._current,"onBegin",this,function(k){this._fire("onBegin",arguments)}),h=c.connect(this._current,"onPlay",this,function(k){this._fire("onPlay",arguments);c.disconnect(f);c.disconnect(j);c.disconnect(h)});if(this._onAnimateCtx){c.disconnect(this._onAnimateCtx)}this._onAnimateCtx=c.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){c.disconnect(this._onEndCtx)}this._onEndCtx=c.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var d=c.connect(this._current,"onPause",this,function(f){this._fire("onPause",arguments);c.disconnect(d)});this._current.pause()}return this},gotoPercent:function(f,d){this.pause();var g=this.duration*f;this._current=null;c.some(this._animations,function(h){if(h.duration<=g){this._current=h;return true}g-=h.duration;return false});if(this._current){this._current.gotoPercent(g/this._current.duration,d)}return this},stop:function(d){if(this._current){if(d){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true)}this._current=this._animations[this._index]}var f=c.connect(this._current,"onStop",this,function(g){this._fire("onStop",arguments);c.disconnect(f)});this._current.stop()}return this},status:function(){return this._current?this._current.status():"stopped"},destroy:function(){if(this._onAnimateCtx){c.disconnect(this._onAnimateCtx)}if(this._onEndCtx){c.disconnect(this._onEndCtx)}}});c.extend(e,b);dojo.fx.chain=function(d){return new e(d)};var a=function(f){this._animations=f||[];this._connects=[];this._finished=0;this.duration=0;c.forEach(f,function(g){var h=g.duration;if(g.delay){h+=g.delay}if(this.duration<h){this.duration=h}this._connects.push(c.connect(g,"onEnd",this,"_onEnd"))},this);this._pseudoAnimation=new c._Animation({curve:[0,1],duration:this.duration});var d=this;c.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop"],function(g){d._connects.push(c.connect(d._pseudoAnimation,g,function(){d._fire(g,arguments)}))})};c.extend(a,{_doAction:function(f,d){c.forEach(this._animations,function(g){g[f].apply(g,d)});return this},_onEnd:function(){if(++this._finished==this._animations.length){this._fire("onEnd")}},_call:function(g,d){var f=this._pseudoAnimation;f[g].apply(f,d)},play:function(f,d){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(g,d){var f=this.duration*g;c.forEach(this._animations,function(h){h.gotoPercent(h.duration<f?1:(f/h.duration),d)});this._call("gotoPercent",arguments);return this},stop:function(d){this._doAction("stop",arguments);this._call("stop",arguments);return this},status:function(){return this._pseudoAnimation.status()},destroy:function(){c.forEach(this._connects,dojo.disconnect)}});c.extend(a,b);dojo.fx.combine=function(d){return new a(d)};dojo.fx.wipeIn=function(d){d.node=c.byId(d.node);var g=d.node,f=g.style,j;var h=c.animateProperty(c.mixin({properties:{height:{start:function(){j=f.overflow;f.overflow="hidden";if(f.visibility=="hidden"||f.display=="none"){f.height="1px";f.display="";f.visibility="";return 1}else{var k=c.style(g,"height");return Math.max(k,1)}},end:function(){return g.scrollHeight}}}},d));c.connect(h,"onEnd",function(){f.height="auto";f.overflow=j});return h};dojo.fx.wipeOut=function(d){var g=d.node=c.byId(d.node),f=g.style,j;var h=c.animateProperty(c.mixin({properties:{height:{end:1}}},d));c.connect(h,"beforeBegin",function(){j=f.overflow;f.overflow="hidden";f.display=""});c.connect(h,"onEnd",function(){f.overflow=j;f.height="auto";f.display="none"});return h};dojo.fx.slideTo=function(d){var f=d.node=c.byId(d.node),j=null,h=null;var k=(function(l){return function(){var n=c.getComputedStyle(l);var o=n.position;j=(o=="absolute"?l.offsetTop:parseInt(n.top)||0);h=(o=="absolute"?l.offsetLeft:parseInt(n.left)||0);if(o!="absolute"&&o!="relative"){var m=c.coords(l,true);j=m.y;h=m.x;l.style.position="absolute";l.style.top=j+"px";l.style.left=h+"px"}}})(f);k();var g=c.animateProperty(c.mixin({properties:{top:d.top||0,left:d.left||0}},d));c.connect(g,"beforeBegin",g,k);return g}})()}if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function(){var a=dojo.doc;if(a.selection){var c=a.selection;if(c.type=="Text"){return !c.createRange().htmlText.length}else{return !c.createRange().length}}else{var d=dojo.global;var b=d.getSelection();if(dojo.isString(b)){return !b}else{return !b||b.isCollapsed||!b.toString()}}},getBookmark:function(){var e,d=dojo.doc.selection;if(d){var b=d.createRange();if(d.type.toUpperCase()=="CONTROL"){if(b.length){e=[];var c=0,a=b.length;while(c<a){e.push(b.item(c++))}}else{e=null}}else{e=b.getBookmark()}}else{if(window.getSelection){d=dojo.global.getSelection();if(d){b=d.getRangeAt(0);e=b.cloneRange()}}else{console.warn("No idea how to store the current selection for this browser!")}}return e},moveToBookmark:function(d){var a=dojo.doc;if(a.selection){var b;if(dojo.isArray(d)){b=a.body.createControlRange();dojo.forEach(d,function(e){b.addElement(e)})}else{b=a.selection.createRange();b.moveToBookmark(d)}b.select()}else{var c=dojo.global.getSelection&&dojo.global.getSelection();if(c&&c.removeAllRanges){c.removeAllRanges();c.addRange(d)}else{console.warn("No idea how to restore selection for this browser!")}}},getFocus:function(b,a){return{node:b&&dojo.isDescendant(dijit._curFocus,b.domNode)?dijit._prevFocus:dijit._curFocus,bookmark:!dojo.withGlobal(a||dojo.global,dijit.isCollapsed)?dojo.withGlobal(a||dojo.global,dijit.getBookmark):null,openedForWindow:a}},focus:function(d){if(!d){return}var c="node" in d?d.node:d,b=d.bookmark,a=d.openedForWindow;if(c){var g=(c.tagName.toLowerCase()=="iframe")?c.contentWindow:c;if(g&&g.focus){try{g.focus()}catch(f){}}dijit._onFocusNode(c)}if(b&&dojo.withGlobal(a||dojo.global,dijit.isCollapsed)){if(a){a.focus()}try{dojo.withGlobal(a||dojo.global,dijit.moveToBookmark,null,[b])}catch(f){}}},_activeStack:[],registerIframe:function(a){dijit.registerWin(a.contentWindow,a)},registerWin:function(b,a){dojo.connect(b.document,"onmousedown",function(d){dijit._justMouseDowned=true;setTimeout(function(){dijit._justMouseDowned=false},0);dijit._onTouchNode(a||d.target||d.srcElement)});var c=b.document;if(c){if(dojo.isIE){c.attachEvent("onactivate",function(d){if(d.srcElement.tagName.toLowerCase()!="#document"){dijit._onFocusNode(a||d.srcElement)}});c.attachEvent("ondeactivate",function(d){dijit._onBlurNode(a||d.srcElement)})}else{c.addEventListener("focus",function(d){dijit._onFocusNode(a||d.target)},true);c.addEventListener("blur",function(d){dijit._onBlurNode(a||d.target)},true)}}c=null},_onBlurNode:function(a){dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._justMouseDowned){return}if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer)}dijit._clearActiveWidgetsTimer=setTimeout(function(){delete dijit._clearActiveWidgetsTimer;dijit._setStack([]);dijit._prevFocus=null},100)},_onTouchNode:function(b){if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);delete dijit._clearActiveWidgetsTimer}var a=[];try{while(b){if(b.dijitPopupParent){b=dijit.byId(b.dijitPopupParent).domNode}else{if(b.tagName&&b.tagName.toLowerCase()=="body"){if(b===dojo.body()){break}b=dijit.getDocumentWindow(b.ownerDocument).frameElement}else{var d=b.getAttribute&&b.getAttribute("widgetId");if(d){a.unshift(d)}b=b.parentNode}}}}catch(c){}dijit._setStack(a)},_onFocusNode:function(a){if(!a){return}if(a.nodeType==9){return}dijit._onTouchNode(a);if(a==dijit._curFocus){return}if(dijit._curFocus){dijit._prevFocus=dijit._curFocus}dijit._curFocus=a;dojo.publish("focusNode",[a])},_setStack:function(a){var e=dijit._activeStack;dijit._activeStack=a;for(var c=0;c<Math.min(e.length,a.length);c++){if(e[c]!=a[c]){break}}for(var b=e.length-1;b>=c;b--){var d=dijit.byId(e[b]);if(d){d._focused=false;d._hasBeenBlurred=true;if(d._onBlur){d._onBlur()}if(d._setStateClass){d._setStateClass()}dojo.publish("widgetBlur",[d])}}for(b=c;b<a.length;b++){d=dijit.byId(a[b]);if(d){d._focused=true;if(d._onFocus){d._onFocus()}if(d._setStateClass){d._setStateClass()}dojo.publish("widgetFocus",[d])}}}});dojo.addOnLoad(function(){dijit.registerWin(window)})}if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={}},add:function(a){if(this._hash[a.id]){throw new Error("Tried to register widget with id=="+a.id+" but that id is already registered")}this._hash[a.id]=a},remove:function(a){delete this._hash[a]},forEach:function(a){for(var b in this._hash){a(this._hash[b])}},filter:function(b){var a=new dijit.WidgetSet();this.forEach(function(c){if(b(c)){a.add(c)}});return a},byId:function(a){return this._hash[a]},byClass:function(a){return this.filter(function(b){return b.declaredClass==a})}});dijit.registry=new dijit.WidgetSet();dijit._widgetTypeCtr={};dijit.getUniqueId=function(a){var b;do{b=a+"_"+(a in dijit._widgetTypeCtr?++dijit._widgetTypeCtr[a]:dijit._widgetTypeCtr[a]=0)}while(dijit.byId(b));return b};dijit.findWidgets=function(a){var b=[];function c(d){var j=dojo.isIE?d.children:d.childNodes,e=0,g;while(g=j[e++]){if(g.nodeType!=1){continue}var f=g.getAttribute("widgetId");if(f){var h=dijit.byId(f);b.push(h)}else{c(g)}}}c(a);return b};if(dojo.isIE){dojo.addOnWindowUnload(function(){dojo.forEach(dijit.findWidgets(dojo.body()),function(a){if(a.destroyRecursive){a.destroyRecursive()}else{if(a.destroy){a.destroy()}}})})}dijit.byId=function(a){return(dojo.isString(a))?dijit.registry.byId(a):a};dijit.byNode=function(a){return dijit.registry.byId(a.getAttribute("widgetId"))};dijit.getEnclosingWidget=function(a){while(a){if(a.getAttribute&&a.getAttribute("widgetId")){return dijit.registry.byId(a.getAttribute("widgetId"))}a=a.parentNode}return null};dijit._tabElements={area:true,button:true,input:true,object:true,select:true,textarea:true};dijit._isElementShown=function(b){var a=dojo.style(b);return(a.visibility!="hidden")&&(a.visibility!="collapsed")&&(a.display!="none")&&(dojo.attr(b,"type")!="hidden")};dijit.isTabNavigable=function(d){if(dojo.hasAttr(d,"disabled")){return false}var a=dojo.hasAttr(d,"tabindex");var c=dojo.attr(d,"tabindex");if(a&&c>=0){return true}var b=d.nodeName.toLowerCase();if(((b=="a"&&dojo.hasAttr(d,"href"))||dijit._tabElements[b])&&(!a||c>=0)){return true}return false};dijit._getTabNavigable=function(b){var g,e,a,c,f,h;var d=function(j){dojo.query("> *",j).forEach(function(m){var l=dijit._isElementShown(m);if(l&&dijit.isTabNavigable(m)){var k=dojo.attr(m,"tabindex");if(!dojo.hasAttr(m,"tabindex")||k==0){if(!g){g=m}e=m}else{if(k>0){if(!a||k<c){c=k;a=m}if(!f||k>=h){h=k;f=m}}}}if(l&&m.nodeName.toUpperCase()!="SELECT"){d(m)}})};if(dijit._isElementShown(b)){d(b)}return{first:g,last:e,lowest:a,highest:f}};dijit.getFirstInTabbingOrder=function(a){var b=dijit._getTabNavigable(dojo.byId(a));return b.lowest?b.lowest:b.first};dijit.getLastInTabbingOrder=function(a){var b=dijit._getTabNavigable(dojo.byId(a));return b.last?b.last:b.highest};dijit.defaultDuration=dojo.config.defaultDuration||200}if(!dojo._hasResource["dojo.AdapterRegistry"]){dojo._hasResource["dojo.AdapterRegistry"]=true;dojo.provide("dojo.AdapterRegistry");dojo.AdapterRegistry=function(a){this.pairs=[];this.returnWrappers=a||false};dojo.extend(dojo.AdapterRegistry,{register:function(c,b,e,a,d){this.pairs[((d)?"unshift":"push")]([c,b,e,a])},match:function(){for(var a=0;a<this.pairs.length;a++){var b=this.pairs[a];if(b[1].apply(this,arguments)){if((b[3])||(this.returnWrappers)){return b[2]}else{return b[2].apply(this,arguments)}}}throw new Error("No match found")},unregister:function(a){for(var b=0;b<this.pairs.length;b++){var c=this.pairs[b];if(c[0]==a){this.pairs.splice(b,1);return true}}return false}})}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function(){var b=(dojo.doc.compatMode=="BackCompat")?dojo.body():dojo.doc.documentElement;var a=dojo._docScroll();return{w:b.clientWidth,h:b.clientHeight,l:a.x,t:a.y}};dijit.placeOnScreen=function(b,e,a,c){var d=dojo.map(a,function(f){var g={corner:f,pos:{x:e.x,y:e.y}};if(c){g.pos.x+=f.charAt(1)=="L"?c.x:-c.x;g.pos.y+=f.charAt(0)=="T"?c.y:-c.y}return g});return dijit._place(b,d)};dijit._place=function(c,e,b){var a=dijit.getViewport();if(!c.parentNode||String(c.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(c)}var d=null;dojo.some(e,function(j){var q=j.corner;var n=j.pos;if(b){b(c,j.aroundCorner,q)}var f=c.style;var m=f.display;var o=f.visibility;f.visibility="hidden";f.display="";var p=dojo.marginBox(c);f.display=m;f.visibility=o;var l=(q.charAt(1)=="L"?n.x:Math.max(a.l,n.x-p.w)),k=(q.charAt(0)=="T"?n.y:Math.max(a.t,n.y-p.h)),t=(q.charAt(1)=="L"?Math.min(a.l+a.w,l+p.w):n.x),s=(q.charAt(0)=="T"?Math.min(a.t+a.h,k+p.h):n.y),g=t-l,r=s-k,h=(p.w-g)+(p.h-r);if(d==null||h<d.overflow){d={corner:q,aroundCorner:j.aroundCorner,x:l,y:k,w:g,h:r,overflow:h}}return !h});c.style.left=d.x+"px";c.style.top=d.y+"px";if(d.overflow&&b){b(c,d.aroundCorner,d.corner)}return d};dijit.placeOnScreenAroundNode=function(d,b,h,c){b=dojo.byId(b);var e=b.style.display;b.style.display="";var a=b.offsetWidth;var g=b.offsetHeight;var f=dojo.coords(b,true);b.style.display=e;return dijit._placeOnScreenAroundRect(d,f.x,f.y,a,g,h,c)};dijit.placeOnScreenAroundRectangle=function(c,a,d,b){return dijit._placeOnScreenAroundRect(c,a.x,a.y,a.width,a.height,d,b)};dijit._placeOnScreenAroundRect=function(c,g,f,b,h,e,d){var j=[];for(var a in e){j.push({aroundCorner:a,corner:e[a],pos:{x:g+(a.charAt(1)=="L"?0:b),y:f+(a.charAt(0)=="T"?0:h)}})}return dijit._place(c,j,d)};dijit.placementRegistry=new dojo.AdapterRegistry();dijit.placementRegistry.register("node",function(b,a){return typeof a=="object"&&typeof a.offsetWidth!="undefined"&&typeof a.offsetHeight!="undefined"},dijit.placeOnScreenAroundNode);dijit.placementRegistry.register("rect",function(b,a){return typeof a=="object"&&"x" in a&&"y" in a&&"width" in a&&"height" in a},dijit.placeOnScreenAroundRectangle);dijit.placeOnScreenAroundElement=function(c,a,d,b){return dijit.placementRegistry.match.apply(dijit.placementRegistry,arguments)}}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function(b){if(dojo.isIE&&window!==document.parentWindow&&!b._parentWindow){b.parentWindow.execScript("document._parentWindow = window;","Javascript");var a=b._parentWindow;b._parentWindow=null;return a}return b._parentWindow||b.parentWindow||b.defaultView}}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup=new function(){var a=[],b=1000,c=1;this.prepare=function(e){var d=e.style;d.visibility="hidden";d.position="absolute";d.top="-9999px";if(d.display=="none"){d.display=""}dojo.body().appendChild(e)};this.open=function(m){var l=m.popup,k=m.orient||{BL:"TL",TL:"BL"},n=m.around,f=(m.around&&m.around.id)?(m.around.id+"_dropdown"):("popup_"+c++);var e=dojo.create("div",{id:f,"class":"dijitPopup",style:{zIndex:b+a.length,visibility:"hidden"}},dojo.body());dijit.setWaiRole(e,"presentation");e.style.left=e.style.top="0px";if(m.parent){e.dijitPopupParent=m.parent.id}var o=l.domNode.style;o.display="";o.visibility="";o.position="";o.top="0px";e.appendChild(l.domNode);var j=new dijit.BackgroundIframe(e);var h=n?dijit.placeOnScreenAroundElement(e,n,k,l.orient?dojo.hitch(l,"orient"):null):dijit.placeOnScreen(e,m,k=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],m.padding);e.style.visibility="visible";var g=[];var d=function(){for(var p=a.length-1;p>0&&a[p].parent===a[p-1].widget;p--){}return a[p]};g.push(dojo.connect(e,"onkeypress",this,function(p){if(p.charOrCode==dojo.keys.ESCAPE&&m.onCancel){dojo.stopEvent(p);m.onCancel()}else{if(p.charOrCode===dojo.keys.TAB){dojo.stopEvent(p);var q=d();if(q&&q.onCancel){q.onCancel()}}}}));if(l.onCancel){g.push(dojo.connect(l,"onCancel",null,m.onCancel))}g.push(dojo.connect(l,l.onExecute?"onExecute":"onChange",null,function(){var p=d();if(p&&p.onExecute){p.onExecute()}}));a.push({wrapper:e,iframe:j,widget:l,parent:m.parent,onExecute:m.onExecute,onCancel:m.onCancel,onClose:m.onClose,handlers:g});if(l.onOpen){l.onOpen(h)}return h};this.close=function(e){while(dojo.some(a,function(k){return k.widget==e})){var h=a.pop(),j=h.wrapper,f=h.iframe,g=h.widget,d=h.onClose;if(g.onClose){g.onClose()}dojo.forEach(h.handlers,dojo.disconnect);if(!g||!g.domNode){return}this.prepare(g.domNode);f.destroy();dojo.destroy(j);if(d){d()}}}}();dijit._frames=new function(){var a=[];this.pop=function(){var c;if(a.length){c=a.pop();c.style.display=""}else{if(dojo.isIE){var d=dojo.config.dojoBlankHtmlUrl||(dojo.moduleUrl("dojo","resources/blank.html")+"")||'javascript:""';var b="<iframe src='"+d+"' style='position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity=\"0\");'>";c=dojo.doc.createElement(b)}else{c=dojo.create("iframe");c.src='javascript:""';c.className="dijitBackgroundIframe"}c.tabIndex=-1;dojo.body().appendChild(c)}return c};this.push=function(b){b.style.display="none";if(dojo.isIE){b.style.removeExpression("width");b.style.removeExpression("height")}a.push(b)}}();dijit.BackgroundIframe=function(b){if(!b.id){throw new Error("no id")}if(dojo.isIE<7||(dojo.isFF<3&&dojo.hasClass(dojo.body(),"dijit_a11y"))){var a=dijit._frames.pop();b.appendChild(a);if(dojo.isIE){a.style.setExpression("width",dojo._scopeName+".doc.getElementById('"+b.id+"').offsetWidth");a.style.setExpression("height",dojo._scopeName+".doc.getElementById('"+b.id+"').offsetHeight")}this.iframe=a}};dojo.extend(dijit.BackgroundIframe,{destroy:function(){if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe}}})}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function(x){try{x=dojo.byId(x);var G=dojo.doc;var p=dojo.body();var q=p.parentNode;if((!(dojo.isFF>=3||dojo.isIE||dojo.isWebKit)||x==p||x==q)&&(typeof x.scrollIntoView=="function")){x.scrollIntoView(false);return}var A=dojo._isBodyLtr();var h=dojo.isIE>=8&&!k;var j=!A&&!h;var g=p;var k=G.compatMode=="BackCompat";if(k){q._offsetWidth=q._clientWidth=p._offsetWidth=p.clientWidth;q._offsetHeight=q._clientHeight=p._offsetHeight=p.clientHeight}else{if(dojo.isWebKit){p._offsetWidth=p._clientWidth=q.clientWidth;p._offsetHeight=p._clientHeight=q.clientHeight}else{g=q}q._offsetHeight=q.clientHeight;q._offsetWidth=q.clientWidth}function f(H){var I=dojo.isIE;return((I<=6||(I>=7&&k))?false:(dojo.style(H,"position").toLowerCase()=="fixed"))}function n(K){var L=K.parentNode;var N=K.offsetParent;if(N==null||f(K)){N=q;L=(K==p)?q:null}K._offsetParent=N;K._parent=L;var M=dojo._getBorderExtents(K);K._borderStart={H:(h&&!A)?(M.w-M.l):M.l,V:M.t};K._borderSize={H:M.w,V:M.h};K._scrolledAmount={H:K.scrollLeft,V:K.scrollTop};K._offsetSize={H:K._offsetWidth||K.offsetWidth,V:K._offsetHeight||K.offsetHeight};K._offsetStart={H:(h&&!A)?N.clientWidth-K.offsetLeft-K._offsetSize.H:K.offsetLeft,V:K.offsetTop};K._clientSize={H:K._clientWidth||K.clientWidth,V:K._clientHeight||K.clientHeight};if(K!=p&&K!=q&&K!=x){for(var I in K._offsetSize){var J=K._offsetSize[I]-K._clientSize[I]-K._borderSize[I];var H=K._clientSize[I]>0&&J>0;if(H){K._offsetSize[I]-=J;if(dojo.isIE&&j&&I=="H"){K._offsetStart[I]+=J}}}}}var c=x;while(c!=null){if(f(c)){x.scrollIntoView(false);return}n(c);c=c._parent}if(dojo.isIE&&x._parent){var a=x._offsetParent;x._offsetStart.H+=a._borderStart.H;x._offsetStart.V+=a._borderStart.V}if(dojo.isIE>=7&&g==q&&j&&p._offsetStart&&p._offsetStart.H==0){var b=q.scrollWidth-q._offsetSize.H;if(b>0){p._offsetStart.H=-b}}if(dojo.isIE<=6&&!k){q._offsetSize.H+=q._borderSize.H;q._offsetSize.V+=q._borderSize.V}if(j&&p._offsetStart&&g==q&&q._scrolledAmount){var w=p._offsetStart.H;if(w<0){q._scrolledAmount.H+=w;p._offsetStart.H=0}}c=x;while(c){var o=c._parent;if(!o){break}if(o.tagName=="TD"){var B=o._parent._parent._parent;if(o!=c._offsetParent&&o._offsetParent!=c._offsetParent){o=B}}var D=c._offsetParent==o;for(var u in c._offsetStart){var m=u=="H"?"V":"H";if(j&&u=="H"&&(o!=q)&&(o!=p)&&(dojo.isIE||dojo.isWebKit)&&o._clientSize.H>0&&o.scrollWidth>o._clientSize.H){var F=o.scrollWidth-o._clientSize.H;if(F>0){o._scrolledAmount.H-=F}}if(o._offsetParent.tagName=="TABLE"){if(dojo.isIE){o._offsetStart[u]-=o._offsetParent._borderStart[u];o._borderStart[u]=o._borderSize[u]=0}else{o._offsetStart[u]+=o._offsetParent._borderStart[u]}}if(dojo.isIE){o._offsetStart[u]+=o._offsetParent._borderStart[u]}var d=c._offsetStart[u]-o._scrolledAmount[u]-(D?0:o._offsetStart[u])-o._borderStart[u];var v=d+c._offsetSize[u]-o._offsetSize[u]+o._borderSize[u];var e=(u=="H")?"scrollLeft":"scrollTop";var l=u=="H"&&j;var E=l?-v:d;var z=l?-d:v;var s=(E*z<=0)?0:Math[(E<0)?"max":"min"](E,z);if(s!=0){var C=o[e];o[e]+=(l)?-s:s;var r=o[e]-C}if(D){c._offsetStart[u]+=o._offsetStart[u]}c._offsetStart[u]-=o[e]}c._parent=o._parent;c._offsetParent=o._offsetParent}o=x;var t;while(o&&o.removeAttribute){t=o.parentNode;o.removeAttribute("_offsetParent");o.removeAttribute("_parent");o=t}}catch(y){console.error("scrollIntoView: "+y);x.scrollIntoView(false)}}}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");(function(){var j=dojo,h=j.doc.documentElement,a=j.isIE,e=j.isOpera,g=Math.floor,b=j.isFF,k=j.boxModel.replace(/-/,""),f={dj_ie:a,dj_ie6:g(a)==6,dj_ie7:g(a)==7,dj_iequirks:a&&j.isQuirks,dj_opera:e,dj_opera8:g(e)==8,dj_opera9:g(e)==9,dj_khtml:j.isKhtml,dj_webkit:j.isWebKit,dj_safari:j.isSafari,dj_gecko:j.isMozilla,dj_ff2:g(b)==2,dj_ff3:g(b)==3};f["dj_"+k]=true;for(var c in f){if(f[c]){if(h.className){h.className+=" "+c}else{h.className=c}}}dojo._loaders.unshift(function(){if(!dojo._isBodyLtr()){h.className+=" dijitRtl";for(var d in f){if(f[d]){h.className+=" "+d+"-rtl"}}}})})()}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=(this._currentTimeout<0)?this._initialDelay:((this._subsequentDelay>1)?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay));this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(a,g,c,f,e,b,d){if(e!=this._obj){this.stop();this._initialDelay=d||500;this._subsequentDelay=b||0.9;this._obj=e;this._evt=a;this._node=c;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(g,f);this._fireEventAndReload()}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null}},addKeyListener:function(c,a,f,e,b,d){if(a.keyCode){a.charOrCode=a.keyCode;dojo.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0")}else{if(a.charCode){a.charOrCode=String.fromCharCode(a.charCode);dojo.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0")}}return[dojo.connect(c,"onkeypress",this,function(g){if(g.charOrCode==a.charOrCode&&(a.ctrlKey===undefined||a.ctrlKey==g.ctrlKey)&&(a.altKey===undefined||a.altKey==g.ctrlKey)&&(a.shiftKey===undefined||a.shiftKey==g.ctrlKey)){dojo.stopEvent(g);dijit.typematic.trigger(a,f,c,e,a,b,d)}else{if(dijit.typematic._obj==a){dijit.typematic.stop()}}}),dojo.connect(c,"onkeyup",this,function(g){if(dijit.typematic._obj==a){dijit.typematic.stop()}})]},addMouseListener:function(c,f,e,b,d){var a=dojo.connect;return[a(c,"mousedown",this,function(g){dojo.stopEvent(g);dijit.typematic.trigger(g,f,c,e,c,b,d)}),a(c,"mouseup",this,function(g){dojo.stopEvent(g);dijit.typematic.stop()}),a(c,"mouseout",this,function(g){dojo.stopEvent(g);dijit.typematic.stop()}),a(c,"mousemove",this,function(g){dojo.stopEvent(g)}),a(c,"dblclick",this,function(g){dojo.stopEvent(g);if(dojo.isIE){dijit.typematic.trigger(g,f,c,e,c,b,d);setTimeout(dojo.hitch(this,dijit.typematic.stop),50)}})]},addListener:function(d,e,a,g,f,b,c){return this.addKeyListener(e,a,g,f,b,c).concat(this.addMouseListener(d,g,f,b,c))}}}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.wai={onload:function(){var d=dojo.create("div",{id:"a11yTestNode",style:{cssText:'border: 1px solid;border-color:red green;position: absolute;height: 5px;top: -999px;background-image: url("'+(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif"))+'");'}},dojo.body());var b=dojo.getComputedStyle(d);if(b){var a=b.backgroundImage;var c=(b.borderTopColor==b.borderRightColor)||(a!=null&&(a=="none"||a=="url(invalid-url:)"));dojo[c?"addClass":"removeClass"](dojo.body(),"dijit_a11y");if(dojo.isIE){d.outerHTML=""}else{dojo.body().removeChild(d)}}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload)}dojo.mixin(dijit,{_XhtmlRoles:/banner|contentinfo|definition|main|navigation|search|note|secondary|seealso/,hasWaiRole:function(a,c){var b=this.getWaiRole(a);return c?(b.indexOf(c)>-1):(b.length>0)},getWaiRole:function(a){return dojo.trim((dojo.attr(a,"role")||"").replace(this._XhtmlRoles,"").replace("wairole:",""))},setWaiRole:function(c,e){var d=dojo.attr(c,"role")||"";if(dojo.isFF<3||!this._XhtmlRoles.test(d)){dojo.attr(c,"role",dojo.isFF<3?"wairole:"+e:e)}else{if((" "+d+" ").indexOf(" "+e+" ")<0){var b=dojo.trim(d.replace(this._XhtmlRoles,""));var a=dojo.trim(d.replace(b,""));dojo.attr(c,"role",a+(a?" ":"")+e)}}},removeWaiRole:function(c,e){var a=dojo.attr(c,"role");if(!a){return}if(e){var d=dojo.isFF<3?"wairole:"+e:e;var b=dojo.trim((" "+a+" ").replace(" "+d+" "," "));dojo.attr(c,"role",b)}else{c.removeAttribute("role")}},hasWaiState:function(a,b){if(dojo.isFF<3){return a.hasAttributeNS("http://www.w3.org/2005/07/aaa",b)}return a.hasAttribute?a.hasAttribute("aria-"+b):!!a.getAttribute("aria-"+b)},getWaiState:function(a,b){if(dojo.isFF<3){return a.getAttributeNS("http://www.w3.org/2005/07/aaa",b)}return a.getAttribute("aria-"+b)||""},setWaiState:function(a,c,b){if(dojo.isFF<3){a.setAttributeNS("http://www.w3.org/2005/07/aaa","aaa:"+c,b)}else{a.setAttribute("aria-"+c,b)}},removeWaiState:function(a,b){if(dojo.isFF<3){a.removeAttributeNS("http://www.w3.org/2005/07/aaa",b)}else{a.removeAttribute("aria-"+b)}}})}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base")}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.require("dijit._base");dojo.connect(dojo,"connect",function(b,a){if(b&&dojo.isFunction(b._onConnect)){b._onConnect(a)}});dijit._connectOnUseEventHandler=function(a){};(function(){var b={};var a=function(c){if(!b[c]){var g=[];var d;var f=dojo.getObject(c).prototype;for(var e in f){if(dojo.isFunction(f[e])&&(d=e.match(/^_set([a-zA-Z]*)Attr$/))&&d[1]){g.push(d[1].charAt(0).toLowerCase()+d[1].substr(1))}}b[c]=g}return b[c]||[]};dojo.declare("dijit._Widget",null,{id:"",lang:"",dir:"","class":"",style:"",title:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_deferredConnects:{onClick:"",onDblClick:"",onKeyDown:"",onKeyPress:"",onKeyUp:"",onMouseMove:"",onMouseDown:"",onMouseOut:"",onMouseOver:"",onMouseLeave:"",onMouseEnter:"",onMouseUp:""},onClick:dijit._connectOnUseEventHandler,onDblClick:dijit._connectOnUseEventHandler,onKeyDown:dijit._connectOnUseEventHandler,onKeyPress:dijit._connectOnUseEventHandler,onKeyUp:dijit._connectOnUseEventHandler,onMouseDown:dijit._connectOnUseEventHandler,onMouseMove:dijit._connectOnUseEventHandler,onMouseOut:dijit._connectOnUseEventHandler,onMouseOver:dijit._connectOnUseEventHandler,onMouseLeave:dijit._connectOnUseEventHandler,onMouseEnter:dijit._connectOnUseEventHandler,onMouseUp:dijit._connectOnUseEventHandler,_blankGif:(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif")),postscript:function(d,c){this.create(d,c)},create:function(f,d){this.srcNodeRef=dojo.byId(d);this._connects=[];this._deferredConnects=dojo.clone(this._deferredConnects);for(var c in this.attributeMap){delete this._deferredConnects[c]}for(c in this._deferredConnects){if(this[c]!==dijit._connectOnUseEventHandler){delete this._deferredConnects[c]}}if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id}if(f){this.params=f;dojo.mixin(this,f)}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"))}dijit.registry.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var e=this.srcNodeRef;if(e&&e.parentNode){e.parentNode.replaceChild(this.domNode,e)}for(c in this.params){this._onConnect(c)}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id)}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef}this._created=true},_applyAttributes:function(){var d=function(e,f){if((f.params&&e in f.params)||f[e]){f.attr(e,f[e])}};for(var c in this.attributeMap){d(c,this)}dojo.forEach(a(this.declaredClass),function(e){if(!(e in this.attributeMap)){d(e,this)}},this)},postMixInProperties:function(){},buildRendering:function(){this.domNode=this.srcNodeRef||dojo.create("div")},postCreate:function(){},startup:function(){this._started=true},destroyRecursive:function(c){this.destroyDescendants(c);this.destroy(c)},destroy:function(c){this.uninitialize();dojo.forEach(this._connects,function(d){dojo.forEach(d,dojo.disconnect)});dojo.forEach(this._supportingWidgets||[],function(d){if(d.destroy){d.destroy()}});this.destroyRendering(c);dijit.registry.remove(this.id)},destroyRendering:function(c){if(this.bgIframe){this.bgIframe.destroy(c);delete this.bgIframe}if(this.domNode){if(c){dojo.removeAttr(this.domNode,"widgetId")}else{dojo.destroy(this.domNode)}delete this.domNode}if(this.srcNodeRef){if(!c){dojo.destroy(this.srcNodeRef)}delete this.srcNodeRef}},destroyDescendants:function(c){dojo.forEach(this.getChildren(),function(d){if(d.destroyRecursive){d.destroyRecursive(c)}})},uninitialize:function(){return false},onFocus:function(){},onBlur:function(){},_onFocus:function(c){this.onFocus()},_onBlur:function(){this.onBlur()},_onConnect:function(c){if(c in this._deferredConnects){var d=this[this._deferredConnects[c]||"domNode"];this.connect(d,c.toLowerCase(),c);delete this._deferredConnects[c]}},_setClassAttr:function(c){var d=this[this.attributeMap["class"]||"domNode"];dojo.removeClass(d,this["class"]);this["class"]=c;dojo.addClass(d,c)},_setStyleAttr:function(c){var d=this[this.attributeMap.style||"domNode"];if(dojo.isObject(c)){dojo.style(d,c)}else{if(d.style.cssText){d.style.cssText+="; "+c}else{d.style.cssText=c}}this["style"]=c},setAttribute:function(c,d){dojo.deprecated(this.declaredClass+"::setAttribute() is deprecated. Use attr() instead.","","2.0");this.attr(c,d)},_attrToDom:function(d,e){var c=this.attributeMap[d];dojo.forEach(dojo.isArray(c)?c:[c],function(h){var g=this[h.node||h||"domNode"];var f=h.type||"attribute";switch(f){case"attribute":if(dojo.isFunction(e)){e=dojo.hitch(this,e)}if(/^on[A-Z][a-zA-Z]*$/.test(d)){d=d.toLowerCase()}dojo.attr(g,d,e);break;case"innerHTML":g.innerHTML=e;break;case"class":dojo.removeClass(g,this[d]);dojo.addClass(g,e);break}},this);this[d]=e},attr:function(e,f){var d=arguments.length;if(d==1&&!dojo.isString(e)){for(var c in e){this.attr(c,e[c])}return this}var g=this._getAttrNames(e);if(d==2){if(this[g.s]){return this[g.s](f)||this}else{if(e in this.attributeMap){this._attrToDom(e,f)}this[e]=f}return this}else{if(this[g.g]){return this[g.g]()}else{return this[e]}}},_attrPairNames:{},_getAttrNames:function(e){var c=this._attrPairNames;if(c[e]){return c[e]}var d=e.charAt(0).toUpperCase()+e.substr(1);return c[e]={n:e+"Node",s:"_set"+d+"Attr",g:"_get"+d+"Attr"}},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getDescendants:function(){if(this.containerNode){var c=dojo.query("[widgetId]",this.containerNode);return c.map(dijit.byNode)}else{return[]}},getChildren:function(){if(this.containerNode){return dijit.findWidgets(this.containerNode)}else{return[]}},nodesWithKeyClick:["input","button"],connect:function(h,g,k){var j=dojo;var e=dojo.connect;var f=[];if(g=="ondijitclick"){if(!this.nodesWithKeyClick[h.nodeName]){var c=j.hitch(this,k);f.push(e(h,"onkeydown",this,function(d){if(!j.isFF&&d.keyCode==j.keys.ENTER&&!d.ctrlKey&&!d.shiftKey&&!d.altKey&&!d.metaKey){return c(d)}else{if(d.keyCode==j.keys.SPACE){j.stopEvent(d)}}}),e(h,"onkeyup",this,function(d){if(d.keyCode==j.keys.SPACE&&!d.ctrlKey&&!d.shiftKey&&!d.altKey&&!d.metaKey){return c(d)}}));if(j.isFF){f.push(e(h,"onkeypress",this,function(d){if(d.keyCode==j.keys.ENTER&&!d.ctrlKey&&!d.shiftKey&&!d.altKey&&!d.metaKey){return c(d)}}))}}g="onclick"}f.push(e(h,g,this,k));this._connects.push(f);return f},disconnect:function(d){for(var c=0;c<this._connects.length;c++){if(this._connects[c]==d){dojo.forEach(d,dojo.disconnect);this._connects.splice(c,1);return}}},isLeftToRight:function(){return dojo._isBodyLtr()},isFocusable:function(){return this.focus&&(dojo.style(this.domNode,"display")!="none")},placeAt:function(d,c){if(d.declaredClass&&d.addChild){d.addChild(this,c)}else{dojo.place(this.domNode,d,c)}return this}})})()}if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.date.stamp.fromISOString=function(e,b){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/}var c=dojo.date.stamp._isoRegExp.exec(e);var a=null;if(c){c.shift();if(c[1]){c[1]--}if(c[6]){c[6]*=1000}if(b){b=new Date(b);dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(g){return b["get"+g]()}).forEach(function(h,g){if(c[g]===undefined){c[g]=h}})}a=new Date(c[0]||1970,c[1]||0,c[2]||1,c[3]||0,c[4]||0,c[5]||0,c[6]||0);var f=0;var d=c[7]&&c[7].charAt(0);if(d!="Z"){f=((c[8]||0)*60)+(Number(c[9])||0);if(d!="-"){f*=-1}}if(d){f-=a.getTimezoneOffset()}if(f){a.setTime(a.getTime()+f*60000)}}return a};dojo.date.stamp.toISOString=function(f,l){var k=function(m){return(m<10)?"0"+m:m};l=l||{};var e=[];var h=l.zulu?"getUTC":"get";var c="";if(l.selector!="time"){var g=f[h+"FullYear"]();c=["0000".substr((g+"").length)+g,k(f[h+"Month"]()+1),k(f[h+"Date"]())].join("-")}e.push(c);if(l.selector!="date"){var b=[k(f[h+"Hours"]()),k(f[h+"Minutes"]()),k(f[h+"Seconds"]())].join(":");var a=f[h+"Milliseconds"]();if(l.milliseconds){b+="."+(a<100?"0":"")+k(a)}if(l.zulu){b+="Z"}else{if(l.selector!="time"){var j=f.getTimezoneOffset();var d=Math.abs(j);b+=(j>0?"-":"+")+k(Math.floor(d/60))+":"+k(d%60)}}e.push(b)}return e.join("T")}}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");dojo.parser=new function(){var f=dojo;var a=f._scopeName+"Type";var h="["+a+"]";var b=0,k={};var g=function(d,o){var n=o||k;if(dojo.isIE){var p=d.__dojoNameCache;if(p&&n[p]===d){return p}}var m;do{m="__"+b++}while(m in n);n[m]=d;return m};function l(d){if(f.isString(d)){return"string"}if(typeof d=="number"){return"number"}if(typeof d=="boolean"){return"boolean"}if(f.isFunction(d)){return"function"}if(f.isArray(d)){return"array"}if(d instanceof Date){return"date"}if(d instanceof f._Url){return"url"}return"object"}function e(m,d){switch(d){case"string":return m;case"number":return m.length?Number(m):NaN;case"boolean":return typeof m=="boolean"?m:!(m.toLowerCase()=="false");case"function":if(f.isFunction(m)){m=m.toString();m=f.trim(m.substring(m.indexOf("{")+1,m.length-1))}try{if(m.search(/[^\w\.]+/i)!=-1){m=g(new Function(m),this)}return f.getObject(m,false)}catch(n){return new Function()}case"array":return m?m.split(/\s*,\s*/):[];case"date":switch(m){case"":return new Date("");case"now":return new Date();default:return f.date.stamp.fromISOString(m)}case"url":return f.baseUrl+m;default:return f.fromJson(m)}}var j={};function c(n){if(!j[n]){var d=f.getObject(n);if(!f.isFunction(d)){throw new Error("Could not load class '"+n+"'. Did you spell the name correctly and use a full path, like 'dijit.form.Button'?")}var o=d.prototype;var r={},q={};for(var m in o){if(m.charAt(0)=="_"){continue}if(m in q){continue}var p=o[m];r[m]=l(p)}j[n]={cls:d,params:r}}return j[n]}this._functionFromScript=function(m){var n="";var p="";var d=m.getAttribute("args");if(d){f.forEach(d.split(/\s*,\s*/),function(r,q){n+="var "+r+" = arguments["+q+"]; "})}var o=m.getAttribute("with");if(o&&o.length){f.forEach(o.split(/\s*,\s*/),function(q){n+="with("+q+"){";p+="}"})}return new Function(n+m.innerHTML+p)};this.instantiate=function(m,d){var n=[];d=d||{};f.forEach(m,function(q){if(!q){return}var y=a in d?d[a]:q.getAttribute(a);if(!y||!y.length){return}var v=c(y),w=v.cls,o=w._noScript||w.prototype._noScript;var r={},t=q.attributes;for(var p in v.params){var C=p in d?{value:d[p],specified:true}:t.getNamedItem(p);if(!C||(!C.specified&&(!dojo.isIE||p.toLowerCase()!="value"))){continue}var A=C.value;switch(p){case"class":A="className" in d?d.className:q.className;break;case"style":A="style" in d?d.style:(q.style&&q.style.cssText)}var u=v.params[p];if(typeof A=="string"){r[p]=e(A,u)}else{r[p]=A}}if(!o){var s=[],D=[];f.query("> script[type^='dojo/']",q).orphan().forEach(function(E){var G=E.getAttribute("event"),F=E.getAttribute("type"),H=f.parser._functionFromScript(E);if(G){if(F=="dojo/connect"){s.push({event:G,func:H})}else{r[G]=H}}else{D.push(H)}})}var z=w.markupFactory;if(!z&&w.prototype){z=w.prototype.markupFactory}var B=z?z(r,q,w):new w(r,q);n.push(B);var x=q.getAttribute("jsId");if(x){f.setObject(x,B)}if(!o){f.forEach(s,function(E){f.connect(B,E.event,null,E.func)});f.forEach(D,function(E){E.call(B)})}});f.forEach(n,function(o){if(o&&o.startup&&!o._started&&(!o.getParent||!o.getParent())){o.startup()}});return n};this.parse=function(d){var m=f.query(h,d);var n=this.instantiate(m);return n}}();(function(){var a=function(){if(dojo.config.parseOnLoad==true){dojo.parser.parse()}};if(dojo.exists("dijit.wai.onload")&&(dijit.wai.onload===dojo._loaders[0])){dojo._loaders.splice(1,0,a)}else{dojo._loaders.unshift(a)}})()}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateString:null,templatePath:null,widgetsInTemplate:false,_skipNodeCache:false,_stringRepl:function(a){var b=this.declaredClass,c=this;return dojo.string.substitute(a,this,function(e,d){if(d.charAt(0)=="!"){e=dojo.getObject(d.substr(1),false,c)}if(typeof e=="undefined"){throw new Error(b+" template:"+d)}if(e==null){return""}return d.charAt(0)=="!"?e:e.toString().replace(/"/g,"&quot;")},this)},buildRendering:function(){var b=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);var c;if(dojo.isString(b)){c=dojo._toDom(this._stringRepl(b))}else{c=b.cloneNode(true)}this.domNode=c;this._attachTemplateNodes(c);if(this.widgetsInTemplate){var a=(this._supportingWidgets=dojo.parser.parse(c));this._attachTemplateNodes(a,function(e,d){return e[d]})}this._fillContent(this.srcNodeRef)},_fillContent:function(b){var a=this.containerNode;if(b&&a){while(b.hasChildNodes()){a.appendChild(b.firstChild)}}},_attachTemplateNodes:function(d,g){g=g||function(s,r){return s.getAttribute(r)};var b=dojo.isArray(d)?d:(d.all||d.getElementsByTagName("*"));var l=dojo.isArray(d)?0:-1;for(;l<b.length;l++){var c=(l==-1)?d:b[l];if(this.widgetsInTemplate&&g(c,"dojoType")){continue}var e=g(c,"dojoAttachPoint");if(e){var m,o=e.split(/\s*,\s*/);while((m=o.shift())){if(dojo.isArray(this[m])){this[m].push(c)}else{this[m]=c}}}var k=g(c,"dojoAttachEvent");if(k){var a,p=k.split(/\s*,\s*/);var f=dojo.trim;while((a=p.shift())){if(a){var h=null;if(a.indexOf(":")!=-1){var q=a.split(":");a=f(q[0]);h=f(q[1])}else{a=f(a)}if(!h){h=a}this.connect(c,a,h)}}}var j=g(c,"waiRole");if(j){dijit.setWaiRole(c,j)}var n=g(c,"waiState");if(n){dojo.forEach(n.split(/\s*,\s*/),function(s){if(s.indexOf("-")!=-1){var r=s.split("-");dijit.setWaiState(c,r[0],r[1])}})}}}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function(c,d,f){var e=dijit._Templated._templateCache;var a=d||c;var b=e[a];if(b){if(!b.ownerDocument||b.ownerDocument==dojo.doc){return b}dojo.destroy(b)}if(!d){d=dijit._Templated._sanitizeTemplateString(dojo.trim(dojo._getText(c)))}d=dojo.string.trim(d);if(f||d.match(/\$\{([^\}]+)\}/g)){return(e[a]=d)}else{return(e[a]=dojo._toDom(d))}};dijit._Templated._sanitizeTemplateString=function(a){if(a){a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(b){a=b[1]}}else{a=""}return a};if(dojo.isIE){dojo.addOnWindowUnload(function(){var a=dijit._Templated._templateCache;for(var b in a){var c=a[b];if(!isNaN(c.nodeType)){dojo.destroy(c)}delete a[b]}})}dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""})}if(!dojo._hasResource["dijit.form._FormMixin"]){dojo._hasResource["dijit.form._FormMixin"]=true;dojo.provide("dijit.form._FormMixin");dojo.declare("dijit.form._FormMixin",null,{reset:function(){dojo.forEach(this.getDescendants(),function(a){if(a.reset){a.reset()}})},validate:function(){var a=false;return dojo.every(dojo.map(this.getDescendants(),function(c){c._hasBeenBlurred=true;var b=c.disabled||!c.validate||c.validate();if(!b&&!a){dijit.scrollIntoView(c.containerNode||c.domNode);c.focus();a=true}return b}),function(b){return b})},setValues:function(a){dojo.deprecated(this.declaredClass+"::setValues() is deprecated. Use attr('value', val) instead.","","2.0");return this.attr("value",a)},_setValueAttr:function(e){var d={};dojo.forEach(this.getDescendants(),function(g){if(!g.name){return}var f=d[g.name]||(d[g.name]=[]);f.push(g)});for(var b in d){if(!d.hasOwnProperty(b)){continue}var c=d[b],a=dojo.getObject(b,false,e);if(a===undefined){continue}if(!dojo.isArray(a)){a=[a]}if(typeof c[0].checked=="boolean"){dojo.forEach(c,function(f,g){f.attr("value",dojo.indexOf(a,f.value)!=-1)})}else{if(c[0]._multiValue){c[0].attr("value",a)}else{dojo.forEach(c,function(f,g){f.attr("value",a[g])})}}}},getValues:function(){dojo.deprecated(this.declaredClass+"::getValues() is deprecated. Use attr('value') instead.","","2.0");return this.attr("value")},_getValueAttr:function(){var a={};dojo.forEach(this.getDescendants(),function(e){var b=e.name;if(!b||e.disabled){return}var d=e.attr("value");if(typeof e.checked=="boolean"){if(/Radio/.test(e.declaredClass)){if(d!==false){dojo.setObject(b,d,a)}else{d=dojo.getObject(b,false,a);if(d===undefined){dojo.setObject(b,null,a)}}}else{var c=dojo.getObject(b,false,a);if(!c){c=[];dojo.setObject(b,c,a)}if(d!==false){c.push(d)}}}else{dojo.setObject(b,d,a)}});return a},isValid:function(){this._invalidWidgets=dojo.filter(this.getDescendants(),function(a){return !a.disabled&&a.isValid&&!a.isValid()});return !this._invalidWidgets.length},onValidStateChange:function(a){},_widgetChange:function(a){var b=this._lastValidState;if(!a||this._lastValidState===undefined){b=this.isValid();if(this._lastValidState===undefined){this._lastValidState=b}}else{if(a.isValid){this._invalidWidgets=dojo.filter(this._invalidWidgets||[],function(c){return(c!=a)},this);if(!a.isValid()&&!a.attr("disabled")){this._invalidWidgets.push(a)}b=(this._invalidWidgets.length===0)}}if(b!==this._lastValidState){this._lastValidState=b;this.onValidStateChange(b)}},connectChildren:function(){dojo.forEach(this._changeConnections,dojo.hitch(this,"disconnect"));var b=this;var a=this._changeConnections=[];dojo.forEach(dojo.filter(this.getDescendants(),function(c){return c.validate}),function(c){a.push(b.connect(c,"validate",dojo.hitch(b,"_widgetChange",c)));a.push(b.connect(c,"_setDisabledAttr",dojo.hitch(b,"_widgetChange",c)))});this._widgetChange(null)},startup:function(){this.inherited(arguments);this._changeConnections=[];this.connectChildren()}})}if(!dojo._hasResource["dijit._DialogMixin"]){dojo._hasResource["dijit._DialogMixin"]=true;dojo.provide("dijit._DialogMixin");dojo.declare("dijit._DialogMixin",null,{attributeMap:dijit._Widget.prototype.attributeMap,execute:function(a){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.attr("value"))},_getFocusItems:function(b){var a=dijit._getTabNavigable(dojo.byId(b));this._firstFocusItem=a.lowest||a.first||b;this._lastFocusItem=a.last||a.highest||this._firstFocusItem;if(dojo.isMoz&&this._firstFocusItem.tagName.toLowerCase()=="input"&&dojo.attr(this._firstFocusItem,"type").toLowerCase()=="file"){dojo.attr(b,"tabindex","0");this._firstFocusItem=b}}})}if(!dojo._hasResource["dijit.DialogUnderlay"]){dojo._hasResource["dijit.DialogUnderlay"]=true;dojo.provide("dijit.DialogUnderlay");dojo.declare("dijit.DialogUnderlay",[dijit._Widget,dijit._Templated],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' dojoAttachPoint='node'></div></div>",dialogId:"","class":"",attributeMap:{id:"domNode"},_setDialogIdAttr:function(a){dojo.attr(this.node,"id",a+"_underlay")},_setClassAttr:function(a){this.node.className="dijitDialogUnderlay "+a},postCreate:function(){dojo.body().appendChild(this.domNode);this.bgIframe=new dijit.BackgroundIframe(this.domNode)},layout:function(){var b=this.node.style,c=this.domNode.style;c.display="none";var a=dijit.getViewport();c.top=a.t+"px";c.left=a.l+"px";b.width=a.w+"px";b.height=a.h+"px";c.display="block"},show:function(){this.domNode.style.display="block";this.layout();if(this.bgIframe.iframe){this.bgIframe.iframe.style.display="block"}},hide:function(){this.domNode.style.display="none";if(this.bgIframe.iframe){this.bgIframe.iframe.style.display="none"}},uninitialize:function(){if(this.bgIframe){this.bgIframe.destroy()}}})}if(!dojo._hasResource["dijit._Contained"]){dojo._hasResource["dijit._Contained"]=true;dojo.provide("dijit._Contained");dojo.declare("dijit._Contained",null,{getParent:function(){for(var b=this.domNode.parentNode;b;b=b.parentNode){var c=b.getAttribute&&b.getAttribute("widgetId");if(c){var a=dijit.byId(c);return a.isContainer?a:null}}return null},_getSibling:function(b){var a=this.domNode;do{a=a[b+"Sibling"]}while(a&&a.nodeType!=1);if(!a){return null}var c=a.getAttribute("widgetId");return dijit.byId(c)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var a=this.getParent();if(!a||!a.getIndexOfChild){return -1}return a.getIndexOfChild(this)}})}if(!dojo._hasResource["dijit._Container"]){dojo._hasResource["dijit._Container"]=true;dojo.provide("dijit._Container");dojo.declare("dijit._Container",null,{isContainer:true,buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode}},addChild:function(d,a){var b=this.containerNode;if(a&&typeof a=="number"){var c=this.getChildren();if(c&&c.length>=a){b=c[a-1].domNode;a="after"}}dojo.place(d.domNode,b,a);if(this._started&&!d._started){d.startup()}},removeChild:function(b){if(typeof b=="number"&&b>0){b=this.getChildren()[b]}if(!b||!b.domNode){return}var a=b.domNode;a.parentNode.removeChild(a)},_nextElement:function(a){do{a=a.nextSibling}while(a&&a.nodeType!=1);return a},_firstElement:function(a){a=a.firstChild;if(a&&a.nodeType!=1){a=this._nextElement(a)}return a},getChildren:function(){return dojo.query("> [widgetId]",this.containerNode).map(dijit.byNode)},hasChildren:function(){return !!this._firstElement(this.containerNode)},destroyDescendants:function(a){dojo.forEach(this.getChildren(),function(b){b.destroyRecursive(a)})},_getSiblingOfChild:function(d,a){var b=d.domNode;var c=(a>0?"nextSibling":"previousSibling");do{b=b[c]}while(b&&(b.nodeType!=1||!dijit.byNode(b)));return b?dijit.byNode(b):null},getIndexOfChild:function(e){var b=this.getChildren();for(var a=0,d;d=b[a];a++){if(d==e){return a}}return -1}})}if(!dojo._hasResource["dijit.layout._LayoutWidget"]){dojo._hasResource["dijit.layout._LayoutWidget"]=true;dojo.provide("dijit.layout._LayoutWidget");dojo.declare("dijit.layout._LayoutWidget",[dijit._Widget,dijit._Container,dijit._Contained],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,postCreate:function(){dojo.addClass(this.domNode,"dijitContainer");dojo.addClass(this.domNode,this.baseClass)},startup:function(){if(this._started){return}dojo.forEach(this.getChildren(),function(a){a.startup()});if(!this.getParent||!this.getParent()){this.resize();this._viewport=dijit.getViewport();this.connect(dojo.global,"onresize",function(){var a=dijit.getViewport();if(a.w!=this._viewport.w||a.h!=this._viewport.h){this._viewport=a;this.resize()}})}this.inherited(arguments)},resize:function(a,h){var b=this.domNode;if(a){dojo.marginBox(b,a);if(a.t){b.style.top=a.t+"px"}if(a.l){b.style.left=a.l+"px"}}var j=h||{};dojo.mixin(j,a||{});if(!("h" in j)||!("w" in j)){j=dojo.mixin(dojo.marginBox(b),j)}var d=dojo.getComputedStyle(b);var g=dojo._getMarginExtents(b,d);var c=dojo._getBorderExtents(b,d);var f=(this._borderBox={w:j.w-(g.w+c.w),h:j.h-(g.h+c.h)});var e=dojo._getPadExtents(b,d);this._contentBox={l:dojo._toPixelValue(b,d.paddingLeft),t:dojo._toPixelValue(b,d.paddingTop),w:f.w-e.w,h:f.h-e.h};this.layout()},layout:function(){},_setupChild:function(a){dojo.addClass(a.domNode,this.baseClass+"-child");if(a.baseClass){dojo.addClass(a.domNode,this.baseClass+"-"+a.baseClass)}},addChild:function(b,a){this.inherited(arguments);if(this._started){this._setupChild(b)}},removeChild:function(a){dojo.removeClass(a.domNode,this.baseClass+"-child");if(a.baseClass){dojo.removeClass(a.domNode,this.baseClass+"-"+a.baseClass)}this.inherited(arguments)}});dijit.layout.marginBox2contentBox=function(d,e){var b=dojo.getComputedStyle(d);var c=dojo._getMarginExtents(d,b);var a=dojo._getPadBorderExtents(d,b);return{l:dojo._toPixelValue(d,b.paddingLeft),t:dojo._toPixelValue(d,b.paddingTop),w:e.w-(c.w+a.w),h:e.h-(c.h+a.h)}};(function(){var b=function(c){return c.substring(0,1).toUpperCase()+c.substring(1)};var a=function(c,d){c.resize?c.resize(d):dojo.marginBox(c.domNode,d);dojo.mixin(c,dojo.marginBox(c.domNode));dojo.mixin(c,d)};dijit.layout.layoutChildren=function(c,e,d){e=dojo.mixin({},e);dojo.addClass(c,"dijitLayoutContainer");d=dojo.filter(d,function(f){return f.layoutAlign!="client"}).concat(dojo.filter(d,function(f){return f.layoutAlign=="client"}));dojo.forEach(d,function(j){var h=j.domNode,g=j.layoutAlign;var f=h.style;f.left=e.l+"px";f.top=e.t+"px";f.bottom=f.right="auto";dojo.addClass(h,"dijitAlign"+b(g));if(g=="top"||g=="bottom"){a(j,{w:e.w});e.h-=j.h;if(g=="top"){e.t+=j.h}else{f.top=e.t+e.h+"px"}}else{if(g=="left"||g=="right"){a(j,{h:e.h});e.w-=j.w;if(g=="left"){e.l+=j.w}else{f.left=e.l+e.w+"px"}}else{if(g=="client"){a(j,e)}}}})}})()}if(!dojo._hasResource["dojo.html"]){dojo._hasResource["dojo.html"]=true;dojo.provide("dojo.html");(function(){var a=0;dojo.html._secureForInnerHtml=function(b){return b.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"")};dojo.html._emptyNode=dojo.empty;dojo.html._setNodeContent=function(f,b,j){if(j){dojo.html._emptyNode(f)}if(typeof b=="string"){var g="",e="",c=0,d=f.nodeName.toLowerCase();switch(d){case"tr":g="<tr>";e="</tr>";c+=1;case"tbody":case"thead":g="<tbody>"+g;e+="</tbody>";c+=1;case"table":g="<table>"+g;e+="</table>";c+=1;break}if(c){var h=f.ownerDocument.createElement("div");h.innerHTML=g+b+e;do{h=h.firstChild}while(--c);dojo.forEach(h.childNodes,function(k){f.appendChild(k.cloneNode(true))})}else{f.innerHTML=b}}else{if(b.nodeType){f.appendChild(b)}else{dojo.forEach(b,function(k){f.appendChild(k.cloneNode(true))})}}return f};dojo.declare("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,constructor:function(c,b){dojo.mixin(this,c||{});b=this.node=dojo.byId(this.node||b);if(!this.id){this.id=["Setter",(b)?b.id||b.tagName:"",a++].join("_")}if(!(this.node||b)){new Error(this.declaredClass+": no node provided to "+this.id)}},set:function(b,c){if(undefined!==b){this.content=b}if(c){this._mixin(c)}this.onBegin();this.setContent();this.onEnd();return this.node},setContent:function(){var b=this.node;if(!b){console.error("setContent given no node")}try{b=dojo.html._setNodeContent(b,this.content)}catch(d){var c=this.onContentError(d);try{b.innerHTML=c}catch(d){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+d.message,d)}}this.node=b},empty:function(){if(this.parseResults&&this.parseResults.length){dojo.forEach(this.parseResults,function(b){if(b.destroy){b.destroy()}});delete this.parseResults}dojo.html._emptyNode(this.node)},onBegin:function(){var b=this.content;if(dojo.isString(b)){if(this.cleanContent){b=dojo.html._secureForInnerHtml(b)}if(this.extractContent){var c=b.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(c){b=c[1]}}}this.empty();this.content=b;return this.node},onEnd:function(){if(this.parseContent){this._parse()}return this.node},tearDown:function(){delete this.parseResults;delete this.node;delete this.content},onContentError:function(b){return"Error occured setting content: "+b},_mixin:function(d){var c={},b;for(b in d){if(b in c){continue}this[b]=d[b]}},_parse:function(){var b=this.node;try{this.parseResults=dojo.parser.parse(b,true)}catch(c){this._onError("Content",c,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(c,e,b){var d=this["on"+c+"Error"].call(this,e);if(b){console.error(b,e)}else{if(d){dojo.html._setNodeContent(this.node,d,true)}}}});dojo.html.set=function(c,b,d){if(undefined==b){console.warn("dojo.html.set: no cont argument provided, using empty string");b=""}if(!d){return dojo.html._setNodeContent(c,b,true)}else{var e=new dojo.html._ContentSetter(dojo.mixin(d,{content:b,node:c}));return e.set()}}})()}if(!dojo._hasResource["dijit.layout.ContentPane"]){dojo._hasResource["dijit.layout.ContentPane"]=true;dojo.provide("dijit.layout.ContentPane");dojo.declare("dijit.layout.ContentPane",dijit._Widget,{href:"",extractContent:false,parseOnLoad:true,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",doLayout:true,ioArgs:{},isContainer:true,postMixInProperties:function(){this.inherited(arguments);var a=dojo.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=dojo.string.substitute(this.loadingMessage,a);this.errorMessage=dojo.string.substitute(this.errorMessage,a);if(!this.href&&this.srcNodeRef&&this.srcNodeRef.innerHTML){this.isLoaded=true}},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode}},postCreate:function(){this.domNode.title="";if(!dojo.attr(this.domNode,"role")){dijit.setWaiRole(this.domNode,"group")}dojo.addClass(this.domNode,this.baseClass)},startup:function(){if(this._started){return}if(this.isLoaded){dojo.forEach(this.getChildren(),function(a){a.startup()});if(this.doLayout){this._checkIfSingleChild()}if(!this._singleChild||!dijit._Contained.prototype.getParent.call(this)){this._scheduleLayout()}}this._loadCheck();this.inherited(arguments)},_checkIfSingleChild:function(){var c=dojo.query(">",this.containerNode),a=c.filter(function(d){return dojo.hasAttr(d,"dojoType")||dojo.hasAttr(d,"widgetId")}),b=dojo.filter(a.map(dijit.byNode),function(d){return d&&d.domNode&&d.resize});if(c.length==a.length&&b.length==1){this._singleChild=b[0]}else{delete this._singleChild}},setHref:function(a){dojo.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use attr('href', ...) instead.","","2.0");return this.attr("href",a)},_setHrefAttr:function(a){this.cancel();this.href=a;if(this._created&&(this.preload||this._isShown())){return this.refresh()}else{this._hrefChanged=true}},setContent:function(a){dojo.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use attr('content', ...) instead.","","2.0");this.attr("content",a)},_setContentAttr:function(a){this.href="";this.cancel();this._setContent(a||"");this._isDownloaded=false},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel()}delete this._xhrDfd},uninitialize:function(){if(this._beingDestroyed){this.cancel()}},destroyRecursive:function(a){if(this._beingDestroyed){return}this._beingDestroyed=true;this.inherited(arguments)},resize:function(b){dojo.marginBox(this.domNode,b);var c=this.containerNode,d=dojo.mixin(dojo.marginBox(c),b||{});var a=(this._contentBox=dijit.layout.marginBox2contentBox(c,d));if(this._singleChild&&this._singleChild.resize){this._singleChild.resize({w:a.w,h:a.h})}},_isShown:function(){if("open" in this){return this.open}else{var a=this.domNode;return(a.style.display!="none")&&(a.style.visibility!="hidden")&&!dojo.hasClass(a,"dijitHidden")}},_onShow:function(){if(this._needLayout){this._layoutChildren()}this._loadCheck();if(this.onShow){this.onShow()}},_loadCheck:function(){if((this.href&&!this._xhrDfd)&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)&&(this.preload||this._isShown())){delete this._hrefChanged;this.refresh()}},refresh:function(){this.cancel();this._setContent(this.onDownloadStart(),true);var b=this;var c={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(dojo.isObject(this.ioArgs)){dojo.mixin(c,this.ioArgs)}var a=(this._xhrDfd=(this.ioMethod||dojo.xhrGet)(c));a.addCallback(function(d){try{b._isDownloaded=true;b._setContent(d,false);b.onDownloadEnd()}catch(e){b._onError("Content",e)}delete b._xhrDfd;return d});a.addErrback(function(d){if(!a.canceled){b._onError("Download",d)}delete b._xhrDfd;return d})},_onLoadHandler:function(a){this.isLoaded=true;try{this.onLoad(a)}catch(b){console.error("Error "+this.widgetId+" running custom onLoad code: "+b.message)}},_onUnloadHandler:function(){this.isLoaded=false;try{this.onUnload()}catch(a){console.error("Error "+this.widgetId+" running custom onUnload code: "+a.message)}},destroyDescendants:function(){if(this.isLoaded){this._onUnloadHandler()}var a=this._contentSetter;dojo.forEach(this.getChildren(),function(b){if(b.destroyRecursive){b.destroyRecursive()}});if(a){dojo.forEach(a.parseResults,function(b){if(b.destroyRecursive&&b.domNode&&b.domNode.parentNode==dojo.body()){b.destroyRecursive()}});delete a.parseResults}dojo.html._emptyNode(this.containerNode)},_setContent:function(a,d){this.destroyDescendants();delete this._singleChild;var c=this._contentSetter;if(!(c&&c instanceof dojo.html._ContentSetter)){c=this._contentSetter=new dojo.html._ContentSetter({node:this.containerNode,_onError:dojo.hitch(this,this._onError),onContentError:dojo.hitch(this,function(g){var f=this.onContentError(g);try{this.containerNode.innerHTML=f}catch(g){console.error("Fatal "+this.id+" could not change content due to "+g.message,g)}})})}var b=dojo.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:this.parseOnLoad},this._contentSetterParams||{});dojo.mixin(c,b);c.set((dojo.isObject(a)&&a.domNode)?a.domNode:a);delete this._contentSetterParams;if(!d){dojo.forEach(this.getChildren(),function(e){e.startup()});if(this.doLayout){this._checkIfSingleChild()}this._scheduleLayout();this._onLoadHandler(a)}},_onError:function(b,d,a){var c=this["on"+b+"Error"].call(this,d);if(a){console.error(a,d)}else{if(c){this._setContent(c,true)}}},_scheduleLayout:function(){if(this._isShown()){this._layoutChildren()}else{this._needLayout=true}},_layoutChildren:function(){if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||dojo.contentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else{dojo.forEach(this.getChildren(),function(b){if(b.resize){b.resize()}})}delete this._needLayout},onLoad:function(a){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(a){},onDownloadError:function(a){return this.errorMessage},onDownloadEnd:function(){}})}if(!dojo._hasResource["dijit.TooltipDialog"]){dojo._hasResource["dijit.TooltipDialog"]=true;dojo.provide("dijit.TooltipDialog");dojo.declare("dijit.TooltipDialog",[dijit.layout.ContentPane,dijit._Templated,dijit.form._FormMixin,dijit._DialogMixin],{title:"",doLayout:false,autofocus:true,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:null,templateString:'<div waiRole="presentation">\n\t<div class="dijitTooltipContainer" waiRole="presentation">\n\t\t<div class ="dijitTooltipContents dijitTooltipFocusNode" dojoAttachPoint="containerNode" tabindex="-1" waiRole="dialog"></div>\n\t</div>\n\t<div class="dijitTooltipConnector" waiRole="presentation"></div>\n</div>\n',postCreate:function(){this.inherited(arguments);this.connect(this.containerNode,"onkeypress","_onKey");this.containerNode.title=this.title},orient:function(d,a,b){var e=this._currentOrientClass;if(e){dojo.removeClass(this.domNode,e)}e="dijitTooltipAB"+(b.charAt(1)=="L"?"Left":"Right")+" dijitTooltip"+(b.charAt(0)=="T"?"Below":"Above");dojo.addClass(this.domNode,e);this._currentOrientClass=e},onOpen:function(a){this.orient(this.domNode,a.aroundCorner,a.corner);this._onShow();if(this.autofocus){this._getFocusItems(this.containerNode);dijit.focus(this._firstFocusItem)}},_onKey:function(a){var c=a.target;var b=dojo.keys;if(a.charOrCode===b.TAB){this._getFocusItems(this.containerNode)}var d=(this._firstFocusItem==this._lastFocusItem);if(a.charOrCode==b.ESCAPE){this.onCancel();dojo.stopEvent(a)}else{if(c==this._firstFocusItem&&a.shiftKey&&a.charOrCode===b.TAB){if(!d){dijit.focus(this._lastFocusItem)}dojo.stopEvent(a)}else{if(c==this._lastFocusItem&&a.charOrCode===b.TAB&&!a.shiftKey){if(!d){dijit.focus(this._firstFocusItem)}dojo.stopEvent(a)}else{if(a.charOrCode===b.TAB){a.stopPropagation()}}}}}})}if(!dojo._hasResource["dijit.Dialog"]){dojo._hasResource["dijit.Dialog"]=true;dojo.provide("dijit.Dialog");dojo.declare("dijit.Dialog",[dijit.layout.ContentPane,dijit._Templated,dijit.form._FormMixin,dijit._DialogMixin],{templateString:null,templateString:'<div class="dijitDialog" tabindex="-1" waiRole="dialog" waiState="labelledby-${id}_title">\n\t<div dojoAttachPoint="titleBar" class="dijitDialogTitleBar">\n\t<span dojoAttachPoint="titleNode" class="dijitDialogTitle" id="${id}_title"></span>\n\t<span dojoAttachPoint="closeButtonNode" class="dijitDialogCloseIcon" dojoAttachEvent="onclick: onCancel, onmouseenter: _onCloseEnter, onmouseleave: _onCloseLeave" title="${buttonCancel}">\n\t\t<span dojoAttachPoint="closeText" class="closeText" title="${buttonCancel}">x</span>\n\t</span>\n\t</div>\n\t\t<div dojoAttachPoint="containerNode" class="dijitDialogPaneContent"></div>\n</div>\n',attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{title:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}]}),open:false,duration:dijit.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,doLayout:false,draggable:true,_fixSizes:true,postMixInProperties:function(){var a=dojo.i18n.getLocalization("dijit","common");dojo.mixin(this,a);this.inherited(arguments)},postCreate:function(){dojo.style(this.domNode,{visibility:"hidden",position:"absolute",display:"",top:"-9999px"});dojo.body().appendChild(this.domNode);this.inherited(arguments);this.connect(this,"onExecute","hide");this.connect(this,"onCancel","hide");this._modalconnects=[]},onLoad:function(){this._position();this.inherited(arguments)},_endDrag:function(c){if(c&&c.node&&c.node===this.domNode){var a=dijit.getViewport();var b=c._leftTop||dojo.coords(c.node,true);this._relativePosition={t:b.t-a.t,l:b.l-a.l}}},_setup:function(){var b=this.domNode;if(this.titleBar&&this.draggable){this._moveable=(dojo.isIE==6)?new dojo.dnd.TimedMoveable(b,{handle:this.titleBar}):new dojo.dnd.Moveable(b,{handle:this.titleBar,timeout:0});dojo.subscribe("/dnd/move/stop",this,"_endDrag")}else{dojo.addClass(b,"dijitDialogFixed")}var c={dialogId:this.id,"class":dojo.map(this["class"].split(/\s/),function(d){return d+"_underlay"}).join(" ")};var a=dijit._underlay;if(!a){a=dijit._underlay=new dijit.DialogUnderlay(c)}this._fadeIn=dojo.fadeIn({node:b,duration:this.duration,beforeBegin:function(){a.attr(c);a.show()},onEnd:dojo.hitch(this,function(){if(this.autofocus){this._getFocusItems(this.domNode);dijit.focus(this._firstFocusItem)}})});this._fadeOut=dojo.fadeOut({node:b,duration:this.duration,onEnd:function(){b.style.visibility="hidden";b.style.top="-9999px";dijit._underlay.hide()}})},uninitialize:function(){var a=false;if(this._fadeIn&&this._fadeIn.status()=="playing"){a=true;this._fadeIn.stop()}if(this._fadeOut&&this._fadeOut.status()=="playing"){a=true;this._fadeOut.stop()}if(this.open||a){dijit._underlay.hide()}if(this._moveable){this._moveable.destroy()}},_size:function(){var b=dojo.marginBox(this.domNode);var a=dijit.getViewport();if(b.w>=a.w||b.h>=a.h){dojo.style(this.containerNode,{width:Math.min(b.w,Math.floor(a.w*0.75))+"px",height:Math.min(b.h,Math.floor(a.h*0.75))+"px",overflow:"auto",position:"relative"})}},_position:function(){if(!dojo.hasClass(dojo.body(),"dojoMove")){var b=this.domNode;var a=dijit.getViewport();var c=this._relativePosition;var d=c?null:dojo.marginBox(b);dojo.style(b,{left:Math.floor(a.l+(c?c.l:(a.w-d.w)/2))+"px",top:Math.floor(a.t+(c?c.t:(a.h-d.h)/2))+"px"})}},_onKey:function(a){if(a.charOrCode){var b=dojo.keys;var c=a.target;if(a.charOrCode===b.TAB){this._getFocusItems(this.domNode)}var f=(this._firstFocusItem==this._lastFocusItem);if(c==this._firstFocusItem&&a.shiftKey&&a.charOrCode===b.TAB){if(!f){dijit.focus(this._lastFocusItem)}dojo.stopEvent(a)}else{if(c==this._lastFocusItem&&a.charOrCode===b.TAB&&!a.shiftKey){if(!f){dijit.focus(this._firstFocusItem)}dojo.stopEvent(a)}else{while(c){if(c==this.domNode){if(a.charOrCode==b.ESCAPE){this.onCancel()}else{return}}c=c.parentNode}if(a.charOrCode!==b.TAB){dojo.stopEvent(a)}else{if(!dojo.isOpera){try{this._firstFocusItem.focus()}catch(d){}}}}}}},show:function(){if(this.open){return}if(!this._alreadyInitialized){this._setup();this._alreadyInitialized=true}if(this._fadeOut.status()=="playing"){this._fadeOut.stop()}this._modalconnects.push(dojo.connect(window,"onscroll",this,"layout"));this._modalconnects.push(dojo.connect(window,"onresize",this,function(){var a=dijit.getViewport();if(!this._oldViewport||a.h!=this._oldViewport.h||a.w!=this._oldViewport.w){this.layout();this._oldViewport=a}}));this._modalconnects.push(dojo.connect(dojo.doc.documentElement,"onkeypress",this,"_onKey"));dojo.style(this.domNode,{opacity:0,visibility:""});if(this._fixSizes){dojo.style(this.containerNode,{width:"auto",height:"auto"})}this.open=true;this._onShow();this._size();this._position();this._fadeIn.play();this._savedFocus=dijit.getFocus(this)},hide:function(){if(!this._alreadyInitialized){return}if(this._fadeIn.status()=="playing"){this._fadeIn.stop()}this._fadeOut.play();if(this._scrollConnected){this._scrollConnected=false}dojo.forEach(this._modalconnects,dojo.disconnect);this._modalconnects=[];if(this.refocus){this.connect(this._fadeOut,"onEnd",dojo.hitch(dijit,"focus",this._savedFocus))}if(this._relativePosition){delete this._relativePosition}this.open=false},layout:function(){if(this.domNode.style.visibility!="hidden"){dijit._underlay.layout();this._position()}},destroy:function(){dojo.forEach(this._modalconnects,dojo.disconnect);if(this.refocus&&this.open){setTimeout(dojo.hitch(dijit,"focus",this._savedFocus),25)}this.inherited(arguments)},_onCloseEnter:function(){dojo.addClass(this.closeButtonNode,"dijitDialogCloseIcon-hover")},_onCloseLeave:function(){dojo.removeClass(this.closeButtonNode,"dijitDialogCloseIcon-hover")}})}if(!dojo._hasResource["dijit.ProgressBar"]){dojo._hasResource["dijit.ProgressBar"]=true;dojo.provide("dijit.ProgressBar");dojo.declare("dijit.ProgressBar",[dijit._Widget,dijit._Templated],{progress:"0",maximum:100,places:0,indeterminate:false,templateString:'<div class="dijitProgressBar dijitProgressBarEmpty"\n\t><div waiRole="progressbar" tabindex="0" dojoAttachPoint="internalProgress" class="dijitProgressBarFull"\n\t\t><div class="dijitProgressBarTile"></div\n\t\t><span style="visibility:hidden">&nbsp;</span\n\t></div\n\t><div dojoAttachPoint="label" class="dijitProgressBarLabel" id="${id}_label">&nbsp;</div\n\t><img dojoAttachPoint="indeterminateHighContrastImage" class="dijitProgressBarIndeterminateHighContrastImage"\n\t></img\n></div>\n',_indeterminateHighContrastImagePath:dojo.moduleUrl("dijit","themes/a11y/indeterminate_progress.gif"),postCreate:function(){this.inherited(arguments);this.indeterminateHighContrastImage.setAttribute("src",this._indeterminateHighContrastImagePath);this.update()},update:function(a){dojo.mixin(this,a||{});var c=this.internalProgress;var b=1,d;if(this.indeterminate){d="addClass";dijit.removeWaiState(c,"valuenow");dijit.removeWaiState(c,"valuemin");dijit.removeWaiState(c,"valuemax")}else{d="removeClass";if(String(this.progress).indexOf("%")!=-1){b=Math.min(parseFloat(this.progress)/100,1);this.progress=b*this.maximum}else{this.progress=Math.min(this.progress,this.maximum);b=this.progress/this.maximum}var e=this.report(b);this.label.firstChild.nodeValue=e;dijit.setWaiState(c,"describedby",this.label.id);dijit.setWaiState(c,"valuenow",this.progress);dijit.setWaiState(c,"valuemin",0);dijit.setWaiState(c,"valuemax",this.maximum)}dojo[d](this.domNode,"dijitProgressBarIndeterminate");c.style.width=(b*100)+"%";this.onChange()},report:function(a){return dojo.number.format(a,{type:"percent",places:this.places,locale:this.lang})},onChange:function(){}})}if(!dojo._hasResource["dijit.form._FormWidget"]){dojo._hasResource["dijit.form._FormWidget"]=true;dojo.provide("dijit.form._FormWidget");dojo.declare("dijit.form._FormWidget",[dijit._Widget,dijit._Templated],{baseClass:"",name:"",alt:"",value:"",type:"text",tabIndex:"0",disabled:false,readOnly:false,intermediateChanges:false,scrollOnFocus:true,attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{value:"focusNode",disabled:"focusNode",readOnly:"focusNode",id:"focusNode",tabIndex:"focusNode",alt:"focusNode"}),postMixInProperties:function(){this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";this.inherited(arguments)},_setDisabledAttr:function(a){this.disabled=a;dojo.attr(this.focusNode,"disabled",a);dijit.setWaiState(this.focusNode,"disabled",a);if(a){this._hovering=false;this._active=false;this.focusNode.removeAttribute("tabIndex")}else{this.focusNode.setAttribute("tabIndex",this.tabIndex)}this._setStateClass()},setDisabled:function(a){dojo.deprecated("setDisabled("+a+") is deprecated. Use attr('disabled',"+a+") instead.","","2.0");this.attr("disabled",a)},_onFocus:function(a){if(this.scrollOnFocus){dijit.scrollIntoView(this.domNode)}this.inherited(arguments)},_onMouse:function(b){var c=b.currentTarget;if(c&&c.getAttribute){this.stateModifier=c.getAttribute("stateModifier")||""}if(!this.disabled){switch(b.type){case"mouseenter":case"mouseover":this._hovering=true;this._active=this._mouseDown;break;case"mouseout":case"mouseleave":this._hovering=false;this._active=false;break;case"mousedown":this._active=true;this._mouseDown=true;var a=this.connect(dojo.body(),"onmouseup",function(){if(this._mouseDown&&this.isFocusable()){this.focus()}this._active=false;this._mouseDown=false;this._setStateClass();this.disconnect(a)});break}this._setStateClass()}},isFocusable:function(){return !this.disabled&&!this.readOnly&&this.focusNode&&(dojo.style(this.domNode,"display")!="none")},focus:function(){dijit.focus(this.focusNode)},_setStateClass:function(){var d=this.baseClass.split(" ");function b(c){d=d.concat(dojo.map(d,function(h){return h+c}),"dijit"+c)}if(this.checked){b("Checked")}if(this.state){b(this.state)}if(this.selected){b("Selected")}if(this.disabled){b("Disabled")}else{if(this.readOnly){b("ReadOnly")}else{if(this._active){b(this.stateModifier+"Active")}else{if(this._focused){b("Focused")}if(this._hovering){b(this.stateModifier+"Hover")}}}}var a=this.stateNode||this.domNode,g={};dojo.forEach(a.className.split(" "),function(h){g[h]=true});if("_stateClasses" in this){dojo.forEach(this._stateClasses,function(h){delete g[h]})}dojo.forEach(d,function(h){g[h]=true});var f=[];for(var e in g){f.push(e)}a.className=f.join(" ");this._stateClasses=d},compare:function(b,a){if((typeof b=="number")&&(typeof a=="number")){return(isNaN(b)&&isNaN(a))?0:(b-a)}else{if(b>a){return 1}else{if(b<a){return -1}else{return 0}}}},onChange:function(a){},_onChangeActive:false,_handleOnChange:function(b,a){this._lastValue=b;if(this._lastValueReported==undefined&&(a===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=b}if((this.intermediateChanges||a||a===undefined)&&((typeof b!=typeof this._lastValueReported)||this.compare(b,this._lastValueReported)!=0)){this._lastValueReported=b;if(this._onChangeActive){this.onChange(b)}}},create:function(){this.inherited(arguments);this._onChangeActive=true;this._setStateClass()},destroy:function(){if(this._layoutHackHandle){clearTimeout(this._layoutHackHandle)}this.inherited(arguments)},setValue:function(a){dojo.deprecated("dijit.form._FormWidget:setValue("+a+") is deprecated.  Use attr('value',"+a+") instead.","","2.0");this.attr("value",a)},getValue:function(){dojo.deprecated(this.declaredClass+"::getValue() is deprecated. Use attr('value') instead.","","2.0");return this.attr("value")},_layoutHack:function(){if(dojo.isFF==2&&!this._layoutHackHandle){var b=this.domNode;var a=b.style.opacity;b.style.opacity="0.999";this._layoutHackHandle=setTimeout(dojo.hitch(this,function(){this._layoutHackHandle=null;b.style.opacity=a}),0)}}});dojo.declare("dijit.form._FormValueWidget",dijit.form._FormWidget,{attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{value:""}),postCreate:function(){if(dojo.isIE||dojo.isWebKit){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown)}if(this._resetValue===undefined){this._resetValue=this.value}},_setValueAttr:function(b,a){this.value=b;this._handleOnChange(b,a)},_getValueAttr:function(a){return this._lastValue},undo:function(){this._setValueAttr(this._lastValueReported,false)},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true)},_onKeyDown:function(a){if(a.keyCode==dojo.keys.ESCAPE&&!a.ctrlKey&&!a.altKey){var b;if(dojo.isIE){a.preventDefault();b=document.createEventObject();b.keyCode=dojo.keys.ESCAPE;b.shiftKey=a.shiftKey;a.srcElement.fireEvent("onkeypress",b)}else{if(dojo.isWebKit){b=document.createEvent("Events");b.initEvent("keypress",true,true);b.keyCode=dojo.keys.ESCAPE;b.shiftKey=a.shiftKey;a.target.dispatchEvent(b)}}}}})}if(!dojo._hasResource["dijit.form.Button"]){dojo._hasResource["dijit.form.Button"]=true;dojo.provide("dijit.form.Button");dojo.declare("dijit.form.Button",dijit.form._FormWidget,{label:"",showLabel:true,iconClass:"",type:"button",baseClass:"dijitButton",templateString:'<span class="dijit dijitReset dijitLeft dijitInline"\n\tdojoAttachEvent="ondijitclick:_onButtonClick,onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse"\n\t><span class="dijitReset dijitRight dijitInline"\n\t\t><span class="dijitReset dijitInline dijitButtonNode"\n\t\t\t><button class="dijitReset dijitStretch dijitButtonContents"\n\t\t\t\tdojoAttachPoint="titleNode,focusNode" \n\t\t\t\t${nameAttrSetting} type="${type}" value="${value}" waiRole="button" waiState="labelledby-${id}_label"\n\t\t\t\t><span class="dijitReset dijitInline" dojoAttachPoint="iconNode" \n\t\t\t\t\t><span class="dijitReset dijitToggleButtonIconChar">&#10003;</span \n\t\t\t\t></span \n\t\t\t\t><span class="dijitReset dijitInline dijitButtonText" \n\t\t\t\t\tid="${id}_label"  \n\t\t\t\t\tdojoAttachPoint="containerNode"\n\t\t\t\t></span\n\t\t\t></button\n\t\t></span\n\t></span\n></span>\n',attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{label:{node:"containerNode",type:"innerHTML"},iconClass:{node:"iconNode",type:"class"}}),_onClick:function(a){if(this.disabled||this.readOnly){return false}this._clicked();return this.onClick(a)},_onButtonClick:function(c){if(c.type!="click"&&!(this.type=="submit"||this.type=="reset")){dojo.stopEvent(c)}if(this._onClick(c)===false){c.preventDefault()}else{if(this.type=="submit"&&!this.focusNode.form){for(var a=this.domNode;a.parentNode;a=a.parentNode){var b=dijit.byNode(a);if(b&&typeof b._onSubmit=="function"){b._onSubmit(c);break}}}}},_setValueAttr:function(b){var a=this.attributeMap.value||"";if(this[a.node||a||"domNode"].tagName=="BUTTON"){if(b!=this.value){}}},_fillContent:function(a){if(a&&!("label" in this.params)){this.attr("label",a.innerHTML)}},postCreate:function(){if(this.showLabel==false){dojo.addClass(this.containerNode,"dijitDisplayNone")}dojo.setSelectable(this.focusNode,false);this.inherited(arguments)},onClick:function(a){return true},_clicked:function(a){},setLabel:function(a){dojo.deprecated("dijit.form.Button.setLabel() is deprecated.  Use attr('label', ...) instead.","","2.0");this.attr("label",a)},_setLabelAttr:function(a){this.containerNode.innerHTML=this.label=a;this._layoutHack();if(this.showLabel==false&&!this.params.title){this.titleNode.title=dojo.trim(this.containerNode.innerText||this.containerNode.textContent||"")}}});dojo.declare("dijit.form.DropDownButton",[dijit.form.Button,dijit._Container],{baseClass:"dijitDropDownButton",templateString:'<span class="dijit dijitReset dijitLeft dijitInline"\n\tdojoAttachEvent="onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse,onclick:_onDropDownClick,onkeydown:_onDropDownKeydown,onblur:_onDropDownBlur,onkeypress:_onKey"\n\t><span class=\'dijitReset dijitRight dijitInline\'\n\t\t><span class=\'dijitReset dijitInline dijitButtonNode\'\n\t\t\t><button class="dijitReset dijitStretch dijitButtonContents" \n\t\t\t\t${nameAttrSetting} type="${type}" value="${value}"\n\t\t\t\tdojoAttachPoint="focusNode,titleNode" \n\t\t\t\twaiRole="button" waiState="haspopup-true,labelledby-${id}_label"\n\t\t\t\t><span class="dijitReset dijitInline" \n\t\t\t\t\tdojoAttachPoint="iconNode"\n\t\t\t\t></span\n\t\t\t\t><span class="dijitReset dijitInline dijitButtonText"  \n\t\t\t\t\tdojoAttachPoint="containerNode,popupStateNode" \n\t\t\t\t\tid="${id}_label"\n\t\t\t\t></span\n\t\t\t\t><span class="dijitReset dijitInline dijitArrowButtonInner">&thinsp;</span\n\t\t\t\t><span class="dijitReset dijitInline dijitArrowButtonChar">&#9660;</span\n\t\t\t></button\n\t\t></span\n\t></span\n></span>\n',_fillContent:function(){if(this.srcNodeRef){var a=dojo.query("*",this.srcNodeRef);dijit.form.DropDownButton.superclass._fillContent.call(this,a[0]);this.dropDownContainer=this.srcNodeRef}},startup:function(){if(this._started){return}if(!this.dropDown){var a=dojo.query("[widgetId]",this.dropDownContainer)[0];this.dropDown=dijit.byNode(a);delete this.dropDownContainer}dijit.popup.prepare(this.dropDown.domNode);this.inherited(arguments)},destroyDescendants:function(){if(this.dropDown){this.dropDown.destroyRecursive();delete this.dropDown}this.inherited(arguments)},_onArrowClick:function(a){if(this.disabled||this.readOnly){return}this._toggleDropDown()},_onDropDownClick:function(b){var a=dojo.isFF&&dojo.isFF<3&&navigator.appVersion.indexOf("Macintosh")!=-1;if(!a||b.detail!=0||this._seenKeydown){this._onArrowClick(b)}this._seenKeydown=false},_onDropDownKeydown:function(a){this._seenKeydown=true},_onDropDownBlur:function(a){this._seenKeydown=false},_onKey:function(a){if(this.disabled||this.readOnly){return}if(a.charOrCode==dojo.keys.DOWN_ARROW){if(!this.dropDown||this.dropDown.domNode.style.visibility=="hidden"){dojo.stopEvent(a);this._toggleDropDown()}}},_onBlur:function(){this._closeDropDown();this.inherited(arguments)},_toggleDropDown:function(){if(this.disabled||this.readOnly){return}dijit.focus(this.popupStateNode);var c=this.dropDown;if(!c){return}if(!this._opened){if(c.href&&!c.isLoaded){var a=this;var b=dojo.connect(c,"onLoad",function(){dojo.disconnect(b);a._openDropDown()});c.refresh();return}else{this._openDropDown()}}else{this._closeDropDown()}},_openDropDown:function(){var e=this.dropDown;var b=e.domNode.style.width;var c=this;dijit.popup.open({parent:this,popup:e,around:this.domNode,orient:this.isLeftToRight()?{BL:"TL",BR:"TR",TL:"BL",TR:"BR"}:{BR:"TR",BL:"TL",TR:"BR",TL:"BL"},onExecute:function(){c._closeDropDown(true)},onCancel:function(){c._closeDropDown(true)},onClose:function(){e.domNode.style.width=b;c.popupStateNode.removeAttribute("popupActive");c._opened=false}});if(this.domNode.offsetWidth>e.domNode.offsetWidth){var d=null;if(!this.isLeftToRight()){d=e.domNode.parentNode;var a=d.offsetLeft+d.offsetWidth}dojo.marginBox(e.domNode,{w:this.domNode.offsetWidth});if(d){d.style.left=a-this.domNode.offsetWidth+"px"}}this.popupStateNode.setAttribute("popupActive","true");this._opened=true;if(e.focus){e.focus()}},_closeDropDown:function(a){if(this._opened){dijit.popup.close(this.dropDown);if(a){this.focus()}this._opened=false}}});dojo.declare("dijit.form.ComboButton",dijit.form.DropDownButton,{templateString:'<table class=\'dijit dijitReset dijitInline dijitLeft\'\n\tcellspacing=\'0\' cellpadding=\'0\' waiRole="presentation"\n\t><tbody waiRole="presentation"><tr waiRole="presentation"\n\t\t><td class="dijitReset dijitStretch dijitButtonContents dijitButtonNode"\n\t\t\tdojoAttachEvent="ondijitclick:_onButtonClick,onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse"  dojoAttachPoint="titleNode"\n\t\t\twaiRole="button" waiState="labelledby-${id}_label"\n\t\t\t><div class="dijitReset dijitInline" dojoAttachPoint="iconNode" waiRole="presentation"></div\n\t\t\t><div class="dijitReset dijitInline dijitButtonText" id="${id}_label" dojoAttachPoint="containerNode" waiRole="presentation"></div\n\t\t></td\n\t\t><td class=\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton\'\n\t\t\tdojoAttachPoint="popupStateNode,focusNode"\n\t\t\tdojoAttachEvent="ondijitclick:_onArrowClick, onkeypress:_onKey,onmouseenter:_onMouse,onmouseleave:_onMouse"\n\t\t\tstateModifier="DownArrow"\n\t\t\ttitle="${optionsTitle}" ${nameAttrSetting}\n\t\t\twaiRole="button" waiState="haspopup-true"\n\t\t\t><div class="dijitReset dijitArrowButtonInner" waiRole="presentation">&thinsp;</div\n\t\t\t><div class="dijitReset dijitArrowButtonChar" waiRole="presentation">&#9660;</div\n\t\t></td\n\t></tr></tbody\n></table>\n',attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{id:"",tabIndex:["focusNode","titleNode"]}),optionsTitle:"",baseClass:"dijitComboButton",_focusedNode:null,postCreate:function(){this.inherited(arguments);this._focalNodes=[this.titleNode,this.popupStateNode];dojo.forEach(this._focalNodes,dojo.hitch(this,function(a){if(dojo.isIE){this.connect(a,"onactivate",this._onNodeFocus);this.connect(a,"ondeactivate",this._onNodeBlur)}else{this.connect(a,"onfocus",this._onNodeFocus);this.connect(a,"onblur",this._onNodeBlur)}}))},focusFocalNode:function(a){this._focusedNode=a;dijit.focus(a)},hasNextFocalNode:function(){return this._focusedNode!==this.getFocalNodes()[1]},focusNext:function(){this._focusedNode=this.getFocalNodes()[this._focusedNode?1:0];dijit.focus(this._focusedNode)},hasPrevFocalNode:function(){return this._focusedNode!==this.getFocalNodes()[0]},focusPrev:function(){this._focusedNode=this.getFocalNodes()[this._focusedNode?0:1];dijit.focus(this._focusedNode)},getFocalNodes:function(){return this._focalNodes},_onNodeFocus:function(a){this._focusedNode=a.currentTarget;var b=this._focusedNode==this.focusNode?"dijitDownArrowButtonFocused":"dijitButtonContentsFocused";dojo.addClass(this._focusedNode,b)},_onNodeBlur:function(a){var b=a.currentTarget==this.focusNode?"dijitDownArrowButtonFocused":"dijitButtonContentsFocused";dojo.removeClass(a.currentTarget,b)},_onBlur:function(){this.inherited(arguments);this._focusedNode=null}});dojo.declare("dijit.form.ToggleButton",dijit.form.Button,{baseClass:"dijitToggleButton",checked:false,attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{checked:"focusNode"}),_clicked:function(a){this.attr("checked",!this.checked)},_setCheckedAttr:function(a){this.checked=a;dojo.attr(this.focusNode||this.domNode,"checked",a);dijit.setWaiState(this.focusNode||this.domNode,"pressed",a);this._setStateClass();this._handleOnChange(a,true)},setChecked:function(a){dojo.deprecated("setChecked("+a+") is deprecated. Use attr('checked',"+a+") instead.","","2.0");this.attr("checked",a)},reset:function(){this._hasBeenBlurred=false;this.attr("checked",this.params.checked||false)}})}if(!dojo._hasResource["dijit.form.CheckBox"]){dojo._hasResource["dijit.form.CheckBox"]=true;dojo.provide("dijit.form.CheckBox");dojo.declare("dijit.form.CheckBox",dijit.form.ToggleButton,{templateString:'<div class="dijitReset dijitInline" waiRole="presentation"\n\t><input\n\t \t${nameAttrSetting} type="${type}" ${checkedAttrSetting}\n\t\tclass="dijitReset dijitCheckBoxInput"\n\t\tdojoAttachPoint="focusNode"\n\t \tdojoAttachEvent="onmouseover:_onMouse,onmouseout:_onMouse,onclick:_onClick"\n/></div>\n',baseClass:"dijitCheckBox",type:"checkbox",value:"on",_setValueAttr:function(a){if(typeof a=="string"){this.value=a;dojo.attr(this.focusNode,"value",a);a=true}if(this._created){this.attr("checked",a)}},_getValueAttr:function(){return(this.checked?this.value:false)},postMixInProperties:function(){if(this.value==""){this.value="on"}this.checkedAttrSetting=this.checked?"checked":"";this.inherited(arguments)},_fillContent:function(a){},reset:function(){this._hasBeenBlurred=false;this.attr("checked",this.params.checked||false);this.value=this.params.value||"on";dojo.attr(this.focusNode,"value",this.value)},_onFocus:function(){if(this.id){dojo.query("label[for='"+this.id+"']").addClass("dijitFocusedLabel")}},_onBlur:function(){if(this.id){dojo.query("label[for='"+this.id+"']").removeClass("dijitFocusedLabel")}}});dojo.declare("dijit.form.RadioButton",dijit.form.CheckBox,{type:"radio",baseClass:"dijitRadio",_setCheckedAttr:function(a){this.inherited(arguments);if(!this._created){return}if(a){var b=this;dojo.query("INPUT[type=radio]",this.focusNode.form||dojo.doc).forEach(function(c){if(c.name==b.name&&c!=b.focusNode&&c.form==b.focusNode.form){var d=dijit.getEnclosingWidget(c);if(d&&d.checked){d.attr("checked",false)}}})}},_clicked:function(a){if(!this.checked){this.attr("checked",true)}}})}if(!dojo._hasResource["dijit.form.TextBox"]){dojo._hasResource["dijit.form.TextBox"]=true;dojo.provide("dijit.form.TextBox");dojo.declare("dijit.form.TextBox",dijit.form._FormValueWidget,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",templateString:'<input class="dijit dijitReset dijitLeft" dojoAttachPoint=\'textbox,focusNode\'\n\tdojoAttachEvent=\'onmouseenter:_onMouse,onmouseleave:_onMouse\'\n\tautocomplete="off" type="${type}" ${nameAttrSetting}\n\t/>\n',baseClass:"dijitTextBox",attributeMap:dojo.delegate(dijit.form._FormValueWidget.prototype.attributeMap,{maxLength:"focusNode"}),_getValueAttr:function(){return this.parse(this.attr("displayedValue"),this.constraints)},_setValueAttr:function(d,c,b){var a;if(d!==undefined){a=this.filter(d);if(typeof b!="string"){if(a!==null&&((typeof a!="number")||!isNaN(a))){b=this.filter(this.format(a,this.constraints))}else{b=""}}}if(b!=null&&b!=undefined&&((typeof b)!="number"||!isNaN(b))&&this.textbox.value!=b){this.textbox.value=b}this.inherited(arguments,[a,c])},displayedValue:"",getDisplayedValue:function(){dojo.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use attr('displayedValue') instead.","","2.0");return this.attr("displayedValue")},_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},setDisplayedValue:function(a){dojo.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use attr('displayedValue', ...) instead.","","2.0");this.attr("displayedValue",a)},_setDisplayedValueAttr:function(a){if(a===null||a===undefined){a=""}else{if(typeof a!="string"){a=String(a)}}this.textbox.value=a;this._setValueAttr(this.attr("value"),undefined,a)},format:function(a,b){return((a==null||a==undefined)?"":(a.toString?a.toString():a))},parse:function(a,b){return a},_refreshState:function(){},_onInput:function(a){if(a&&a.type&&/key/i.test(a.type)&&a.keyCode){switch(a.keyCode){case dojo.keys.SHIFT:case dojo.keys.ALT:case dojo.keys.CTRL:case dojo.keys.TAB:return}}if(this.intermediateChanges){var b=this;setTimeout(function(){b._handleOnChange(b.attr("value"),false)},0)}this._refreshState()},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);if(dojo.isMoz||dojo.isOpera){this.connect(this.textbox,"oninput",this._onInput)}else{this.connect(this.textbox,"onkeydown",this._onInput);this.connect(this.textbox,"onkeyup",this._onInput);this.connect(this.textbox,"onpaste",this._onInput);this.connect(this.textbox,"oncut",this._onInput)}this._layoutHack()},_blankValue:"",filter:function(a){if(a===null){return this._blankValue}if(typeof a!="string"){return a}if(this.trim){a=dojo.trim(a)}if(this.uppercase){a=a.toUpperCase()}if(this.lowercase){a=a.toLowerCase()}if(this.propercase){a=a.replace(/[^\s]+/g,function(b){return b.substring(0,1).toUpperCase()+b.substring(1)})}return a},_setBlurValue:function(){this._setValueAttr(this.attr("value"),true)},_onBlur:function(a){if(this.disabled){return}this._setBlurValue();this.inherited(arguments)},_onFocus:function(a){if(this.disabled){return}this._refreshState();this.inherited(arguments)},reset:function(){this.textbox.value="";this.inherited(arguments)}});dijit.selectInputText=function(element,start,stop){var _window=dojo.global;var _document=dojo.doc;element=dojo.byId(element);if(isNaN(start)){start=0}if(isNaN(stop)){stop=element.value?element.value.length:0}element.focus();if(_document.selection&&dojo.body()["createTextRange"]){if(element.createTextRange){var range=element.createTextRange();with(range){collapse(true);moveStart("character",start);moveEnd("character",stop);select()}}}else{if(_window.getSelection){var selection=_window.getSelection();if(element.setSelectionRange){element.setSelectionRange(start,stop)}}}}}if(!dojo._hasResource["dijit.form.SimpleTextarea"]){dojo._hasResource["dijit.form.SimpleTextarea"]=true;dojo.provide("dijit.form.SimpleTextarea");dojo.declare("dijit.form.SimpleTextarea",dijit.form.TextBox,{baseClass:"dijitTextArea",attributeMap:dojo.delegate(dijit.form._FormValueWidget.prototype.attributeMap,{rows:"textbox",cols:"textbox"}),rows:"3",cols:"20",templatePath:null,templateString:"<textarea ${nameAttrSetting} dojoAttachPoint='focusNode,containerNode,textbox' autocomplete='off'></textarea>",postMixInProperties:function(){if(!this.value&&this.srcNodeRef){this.value=this.srcNodeRef.value}this.inherited(arguments)},filter:function(a){if(a){a=a.replace(/\r/g,"")}return this.inherited(arguments)},postCreate:function(){this.inherited(arguments);if(dojo.isIE&&this.cols){dojo.addClass(this.domNode,"dijitTextAreaCols")}},_previousValue:"",_onInput:function(g){if(this.maxLength){var b=parseInt(this.maxLength);var f=this.textbox.value.replace(/\r/g,"");var j=f.length-b;if(j>0){dojo.stopEvent(g);var a=this.textbox;if(a.selectionStart){var h=a.selectionStart;var d=0;if(dojo.isOpera){d=(this.textbox.value.substring(0,h).match(/\r/g)||[]).length}this.textbox.value=f.substring(0,h-j-d)+f.substring(h-d);a.setSelectionRange(h-j,h-j)}else{if(dojo.doc.selection){a.focus();var c=dojo.doc.selection.createRange();c.moveStart("character",-j);c.text="";c.select()}}}this._previousValue=this.textbox.value}this.inherited(arguments)}})}if(!dojo._hasResource["dijit.form.Textarea"]){dojo._hasResource["dijit.form.Textarea"]=true;dojo.provide("dijit.form.Textarea");dojo.declare("dijit.form.Textarea",dijit.form.SimpleTextarea,{cols:"",_previousNewlines:0,_strictMode:(dojo.doc.compatMode!="BackCompat"),_getHeight:function(a){var b=a.scrollHeight;if(dojo.isIE){b+=a.offsetHeight-a.clientHeight-((dojo.isIE<8&&this._strictMode)?dojo._getPadBorderExtents(a).h:0)}else{if(dojo.isMoz){b+=a.offsetHeight-a.clientHeight}else{b+=dojo._getPadBorderExtents(a).h}}return b},_onInput:function(){this.inherited(arguments);if(this._busyResizing){return}this._busyResizing=true;var b=this.domNode;b.scrollTop=0;var a=parseFloat(dojo.getComputedStyle(b).height);var c=this._getHeight(b);if(c>0&&b.style.height!=c){b.style.maxHeight=b.style.height=c+"px"}this._busyResizing=false;if(dojo.isMoz||dojo.isWebKit){var d=(b.value.match(/\n/g)||[]).length;if(d<this._previousNewlines){this._shrink()}this._previousNewlines=d}},_busyResizing:false,_shrink:function(){if((dojo.isMoz||dojo.isSafari)&&!this._busyResizing){this._busyResizing=true;var a=this.domNode;var e=false;if(a.value==""){a.value=" ";e=true}var b=this._getHeight(a);if(b>0){var h=a.scrollHeight;var c=-1;var d=dojo.getComputedStyle(a).paddingBottom;var g=dojo._getPadExtents(a);var f=g.h-g.t;a.style.maxHeight=b+"px";while(c!=h){c=h;f+=16;a.style.paddingBottom=f+"px";a.scrollTop=0;h=a.scrollHeight;b-=c-h}a.style.paddingBottom=d;a.style.maxHeight=a.style.height=b+"px"}if(e){a.value=""}this._busyResizing=false}},resize:function(){this._onInput();this._shrink()},_setValueAttr:function(){this.inherited(arguments);this.resize()},postCreate:function(){this.inherited(arguments);dojo.style(this.domNode,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});this.connect(this.domNode,"onscroll",this._onInput);this.connect(this.domNode,"onresize",this._onInput);setTimeout(dojo.hitch(this,"resize"),0)}})}if(!dojo._hasResource["dijit.form.Form"]){dojo._hasResource["dijit.form.Form"]=true;dojo.provide("dijit.form.Form");dojo.declare("dijit.form.Form",[dijit._Widget,dijit._Templated,dijit.form._FormMixin],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"<form dojoAttachPoint='containerNode' dojoAttachEvent='onreset:_onReset,onsubmit:_onSubmit' ${nameAttrSetting}></form>",attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{action:"",method:"",encType:"","accept-charset":"",accept:"",target:""}),postMixInProperties:function(){this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";this.inherited(arguments)},execute:function(a){},onExecute:function(){},_setEncTypeAttr:function(a){this.encType=a;dojo.attr(this.domNode,"encType",a);if(dojo.isIE){this.domNode.encoding=a}},postCreate:function(){if(dojo.isIE&&this.srcNodeRef&&this.srcNodeRef.attributes){var a=this.srcNodeRef.attributes.getNamedItem("encType");if(a&&!a.specified&&(typeof a.value=="string")){this.attr("encType",a.value)}}this.inherited(arguments)},onReset:function(a){return true},_onReset:function(b){var a={returnValue:true,preventDefault:function(){this.returnValue=false},stopPropagation:function(){},currentTarget:b.currentTarget,target:b.target};if(!(this.onReset(a)===false)&&a.returnValue){this.reset()}dojo.stopEvent(b);return false},_onSubmit:function(b){var a=dijit.form.Form.prototype;if(this.execute!=a.execute||this.onExecute!=a.onExecute){dojo.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0");this.onExecute();this.execute(this.getValues())}if(this.onSubmit(b)===false){dojo.stopEvent(b)}},onSubmit:function(a){return this.isValid()},submit:function(){if(!(this.onSubmit()===false)){this.containerNode.submit()}}})}if(!dojo._hasResource["dijit.TitlePane"]){dojo._hasResource["dijit.TitlePane"]=true;dojo.provide("dijit.TitlePane");dojo.declare("dijit.TitlePane",[dijit.layout.ContentPane,dijit._Templated],{title:"",open:true,duration:dijit.defaultDuration,baseClass:"dijitTitlePane",templateString:'<div class="${baseClass}">\n\t<div dojoAttachEvent="onclick:toggle, onkeypress:_onTitleKey, onfocus:_handleFocus, onblur:_handleFocus, onmouseenter:_onTitleEnter, onmouseleave:_onTitleLeave" tabindex="0"\n\t\t\twaiRole="button" class="dijitTitlePaneTitle" dojoAttachPoint="titleBarNode,focusNode">\n\t\t<img src="${_blankGif}" alt="" dojoAttachPoint="arrowNode" class="dijitArrowNode" waiRole="presentation"\n\t\t><span dojoAttachPoint="arrowNodeInner" class="dijitArrowNodeInner"></span\n\t\t><span dojoAttachPoint="titleNode" class="dijitTitlePaneTextNode"></span>\n\t</div>\n\t<div class="dijitTitlePaneContentOuter" dojoAttachPoint="hideNode">\n\t\t<div class="dijitReset" dojoAttachPoint="wipeNode">\n\t\t\t<div class="dijitTitlePaneContentInner" dojoAttachPoint="containerNode" waiRole="region" tabindex="-1">\n\t\t\t\t<!-- nested divs because wipeIn()/wipeOut() doesn\'t work right on node w/padding etc.  Put padding on inner div. -->\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n',attributeMap:dojo.delegate(dijit.layout.ContentPane.prototype.attributeMap,{title:{node:"titleNode",type:"innerHTML"}}),postCreate:function(){if(!this.open){this.hideNode.style.display=this.wipeNode.style.display="none"}this._setCss();dojo.setSelectable(this.titleNode,false);dijit.setWaiState(this.containerNode,"labelledby",this.titleNode.id);dijit.setWaiState(this.focusNode,"haspopup","true");var b=this.hideNode,a=this.wipeNode;this._wipeIn=dojo.fx.wipeIn({node:this.wipeNode,duration:this.duration,beforeBegin:function(){b.style.display=""}});this._wipeOut=dojo.fx.wipeOut({node:this.wipeNode,duration:this.duration,onEnd:function(){b.style.display="none"}});this.inherited(arguments)},_setOpenAttr:function(a){if(this.open!==a){this.toggle()}},_setContentAttr:function(a){if(!this.open||!this._wipeOut||this._wipeOut.status()=="playing"){this.inherited(arguments)}else{if(this._wipeIn&&this._wipeIn.status()=="playing"){this._wipeIn.stop()}dojo.marginBox(this.wipeNode,{h:dojo.marginBox(this.wipeNode).h});this.inherited(arguments);if(this._wipeIn){this._wipeIn.play()}else{this.hideNode.style.display=""}}},toggle:function(){dojo.forEach([this._wipeIn,this._wipeOut],function(b){if(b&&b.status()=="playing"){b.stop()}});var a=this[this.open?"_wipeOut":"_wipeIn"];if(a){a.play()}else{this.hideNode.style.display=this.open?"":"none"}this.open=!this.open;this._onShow();this._setCss()},_setCss:function(){var a=["dijitClosed","dijitOpen"];var c=this.open;var b=this.titleBarNode||this.focusNode;dojo.removeClass(b,a[!c+0]);b.className+=" "+a[c+0];this.arrowNodeInner.innerHTML=this.open?"-":"+"},_onTitleKey:function(a){if(a.charOrCode==dojo.keys.ENTER||a.charOrCode==" "){this.toggle()}else{if(a.charOrCode==dojo.keys.DOWN_ARROW&&this.open){this.containerNode.focus();a.preventDefault()}}},_onTitleEnter:function(){dojo.addClass(this.focusNode,"dijitTitlePaneTitle-hover")},_onTitleLeave:function(){dojo.removeClass(this.focusNode,"dijitTitlePaneTitle-hover")},_handleFocus:function(a){dojo[(a.type=="focus"?"addClass":"removeClass")](this.focusNode,this.baseClass+"Focused")},setTitle:function(a){dojo.deprecated("dijit.TitlePane.setTitle() is deprecated.  Use attr('title', ...) instead.","","2.0");this.titleNode.innerHTML=a}})}dojo.i18n._preloadLocalizations("littleshoot.nls.littleshootlib",["ROOT","ar","ca","cs","da","de","de-de","el","en","en-gb","en-us","es","es-es","fi","fi-fi","fr","fr-fr","he","he-il","hu","it","it-it","ja","ja-jp","ko","ko-kr","nl","nl-nl","no","pl","pt","pt-br","pt-pt","ru","sk","sl","sv","th","tr","xx","zh","zh-cn","zh-tw"]);dojo.provide("littleshoot.CommonUtils");dojo.require("dojo.number");dojo.require("dijit.form.Button");dojo.require("dijit.Dialog");CommonUtils={currentPage:"",commonLoad:function(){},windowId:function(){if(!window.uuid){window.uuid=Math.floor(Math.random()*1000000000)}return window.uuid},showMessage:function(b,a){var d;if(typeof a==="string"){d=CommonUtils.createTextElement(a)}else{d=a}var c=CommonUtils.createMessage(b,d);c.show();return c},createTextElement:function(b){var a=document.createElement("span");$(a).addClass("normalMedium").addClass("commonDialogText").html(b);return a},createRawMessage:function(b,d){var c=document.createElement("center");var a=document.createElement("div");c.appendChild(a);dojo.addClass(a,"commonDialogDiv");dojo.addClass(a,"littleShoot");a.appendChild(d);var e=new dijit.Dialog({title:b});e.startup();e.setContent(c);return e},createMessage:function(b,e){var d=document.createElement("center");var a=document.createElement("div");d.appendChild(a);dojo.addClass(a,"commonDialogDiv");dojo.addClass(a,"littleShoot");a.appendChild(e);a.appendChild(document.createElement("br"));a.appendChild(document.createElement("br"));var c=document.createElement("div");a.appendChild(c);var g=new dijit.form.Button({type:"submit",label:"OK"},c);var f=new dijit.Dialog({title:b});f.startup();f.setContent(d);return f},showError:function(a){CommonUtils.showMessage("Error","We seem to be experiencing problems.  There was an unknown error described as: "+a)},showChoicesDialog:function(p,o,d,m,l,k){var e=document.createElement("center");var j=document.createElement("div");e.appendChild(j);dojo.addClass(j,"commonDialogDiv");dojo.addClass(j,"littleShoot");var f=document.createElement("span");dojo.addClass(f,"normalMedium");dojo.addClass(f,"commonDialogText");f.innerHTML=o;j.appendChild(f);j.appendChild(document.createElement("br"));j.appendChild(document.createElement("br"));var h=document.createElement("div");j.appendChild(h);var g=new dijit.form.Button({type:"submit",label:l},h);var c=document.createElement("div");j.appendChild(c);var n=new dijit.Dialog({title:p,execute:d});function b(){n.hide();if(m){m()}}var a=new dijit.form.Button({label:k,onClick:b},c);n.startup();n.setContent(e);n.show();return n},showConfirmDialog:function(a,d,c,b){return CommonUtils.showChoicesDialog(a,d,c,b,"OK","Cancel")},setValue:function(a,c){var b=dijit.byId(a);if(!b){return}b.setValue(c)},setMessage:function(a,b){$("#"+elementID).html(b)},clearMessage:function(a){var b=dojo.byId(a);if(!b){return}b.innerHTML=""},showPluginRequiredDialog:function(){var a="We're sorry, but LittleShoot must be installed to use this feature.  You'll be notified as soon as you can join!  Thanks for your patience.";CommonUtils.showMessage("Sorry!",a)},isValidEmail:function(a,b){return(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i).test(a)},getHtml:function(a){return dojo.xhrGet({url:a,handleAs:"text",timeout:20000,load:function(c,b){return c},error:function(c,b){CommonUtils.showMessage("Error Loading Page","Sorry, but we seem to be having problems.  We should have this fixed soon.");return c}})},isBrowserSupported:function(){if(/Windows/.test(navigator.userAgent)){if(/msie/.test(navigator.userAgent.toLowerCase())){if(!this.isIe7OrAbove()){return false}}}return true},isIe7OrAbove:function(){return(dojo.isIE>6)},setPage:function(a){CommonUtils.currentPage=a},onIndexPage:function(){if(!CommonUtils.currentPage){return false}else{if(CommonUtils.currentPage==="index"){return true}}return false},startsWith:function(b,a){return b.indexOf(a)===0},endsWith:function(c,a){var b=c.length-a.length;return b>=0&&c.lastIndexOf(a)===b},showIncompatibleBrowserDialog:function(){dojo.addOnLoad(function(){var a="We're sorry, but LittleShoot does not support Internet Explorer 6 at this time.  Please use FireFox, Opera, or Internet Explorer 7.  We recommend FireFox.  You can download it at http://www.getfirefox.com.";CommonUtils.showMessage("Incompatible Browser",a)})},queryToObject:function(){var a=window.location.search.substring(1);return dojo.queryToObject(a)},getDecodedArg:function(a){return decodeURIComponent(CommonUtils.getArg(a))},getArg:function(a){var b=CommonUtils.queryToObject();return b[a]},hasArg:function(a){return CommonUtils.getArg(a)},isArgTrue:function(a){return CommonUtils.getArg(a)=="true"},isLinux:function(){if(/Windows/.test(navigator.userAgent)){return false}else{if(/Mac/.test(navigator.userAgent)){return false}else{return true}}},showAll:function(a){dojo.query(a).forEach(function(b){CommonUtils.showElement(b)})},hideAll:function(a){dojo.query(a).forEach(function(b){CommonUtils.hideElement(b)})},hideElement:function(a){if(!a){console.warn("Element does not exist");return null}a.style.display="none";return a},showElement:function(a){if(!a){console.warn("Element does not exist");return null}a.style.display="";return a},pointerX:function(a){return a.pageX||(a.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft))},empty:function(){},pointerY:function(a){return a.pageY||(a.clientY+(document.documentElement.scrollTop||document.body.scrollTop))},realOffset:function(b){var a=0,c=0;do{a+=b.scrollTop||0;c+=b.scrollLeft||0;b=b.parentNode}while(b);return[c,a]},withinIncludingScrolloffsets:function(b,a,d){var c=this.realOffset(b);this.xcomp=a+c[0]-this.deltaX;this.ycomp=d+c[1]-this.deltaY;this.offset=this.cumulativeOffset(b);return(this.ycomp>=this.offset[1]&&this.ycomp<this.offset[1]+b.offsetHeight&&this.xcomp>=this.offset[0]&&this.xcomp<this.offset[0]+b.offsetWidth)},cumulativeOffset:function(b){var a=0,c=0;do{a+=b.offsetTop||0;c+=b.offsetLeft||0;b=b.offsetParent}while(b);return[c,a]},within:function(b,a,c){if(this.includeScrollOffsets){return this.withinIncludingScrolloffsets(b,a,c)}this.xcomp=a;this.ycomp=c;this.offset=this.cumulativeOffset(b);return(c>=this.offset[1]&&c<this.offset[1]+b.offsetHeight&&a>=this.offset[0]&&a<this.offset[0]+b.offsetWidth)},isEmpty:function(a){return a===""},isBlank:function(a){if(!a){return true}return(/^\s*$/).test(a)},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substring(1).toLowerCase()},setCookie:function(e,c){var b=new Date();var d=(1000*60*60*24*7);var a=d*10;b.setTime(b.getTime()+a);if(CommonUtils.domainIsLittleShoot()){dojo.cookie(e,c,{expires:b,domain:".littleshoot.org"})}else{dojo.cookie(e,c,{expires:b})}},deleteCookie:function(a){if(CommonUtils.domainIsLittleShoot()){dojo.cookie(a,null,{expires:-1,domain:".littleshoot.org"})}else{dojo.cookie(a,null,{expires:-1})}},domainIsLittleShoot:function(){return CommonUtils.endsWith(window.location.hostname,"littleshoot.org")},param:function(a){if(CommonUtils.isBlank(a)){throw new Error("Blank paramater!!")}},inGroup:function(){return CommonUtils.inGroupBase(window.location.hostname)},inGroupBase:function(b){var a=/(.*)\.littleshoot.org/i.exec(b);if(!a){return false}if(a.length<2){return false}var c=a[1];if(c=="www"){return false}return true},getGroupName:function(){return CommonUtils.getGroupNameBase(window.location.hostname)},getGroupNameBase:function(a){var b=/(.*)\.littleshoot.org/i.exec(a);return b[1]},loadPlayer:function(){CommonUtils.loadJs("http://mediaplayer.yahoo.com/js")},loadJs:function(b,c){var a=CommonUtils.buildScript(b,c);dojo.doc.getElementsByTagName("head")[0].appendChild(a)},buildScript:function(a,c){var b=dojo.doc.createElement("script");b.type="text/javascript";b.src=a;if(c){b.id=c}return b},showDownloadConfirmDialog:function(){CommonUtils.showConfirmDialog("Download LittleShoot?","Would you like to start downloading the LittleShoot P2P Plugin now?",function(){CommonUtils.downloadInstaller()})},showLittleShootRequiredConfirmDialog:function(){CommonUtils.showConfirmDialog("Download LittleShoot?","The LittleShoot P2P Plugin is required to use this functionality.  Would you like to start downloading and installing LittleShoot now?",function(){CommonUtils.downloadInstaller()})},downloadInstaller:function(){if(CommonUtils.isLinux()){CommonUtils.showMessage("Linux Not Ready!","We're sorry, but the Linux version of the latest LittleShoot is not ready at this time. We should have this fixed in the next several months.")}else{CommonUtils.setCookie(Constants.DOWNLOADED_COOKIE_KEY,true);var a=Common.getDownloadUrl();window.location.href=a;if(pageTracker){pageTracker._trackPageview(a)}}},createHttpsUrl:function(a){return"https://"+window.location.host+"/lastbamboo-server-site/api/"+a},showSpinner:function(b){if(!b){b="body"}var d=dojo.byId(b+"Loading");if(d){d=null;return}var e=document.createElement("div");e.id=b+"Loading";e.className="loading";var a=document.createElement("img");a.setAttribute("src",Constants.IMAGES+"loading.gif");e.appendChild(a);var c=dojo.byId(b);if(!c){console.error("Element does not exist: "+b)}else{c.appendChild(e)}e=null;c=null;a=null},showHighSpinner:function(){var b="body";var d=document.createElement("div");d.id=b+"Loading";d.className="loadingOffsetHigh";var a=document.createElement("img");a.setAttribute("src",Constants.IMAGES+"loading.gif");d.appendChild(a);var c=dojo.byId(b);if(!c){}else{c.appendChild(d)}d=null;c=null;a=null},hideSpinner:function(a){if(!a){a="body"}var b=dojo.byId(a+"Loading");if(!b){}else{b.parentNode.removeChild(b)}b=null},addGroupLogoNoFade:function(){if(!CommonUtils.inGroup()){return}var d=CommonUtils.getGroupName();var c=Constants.IMAGES+d+".jpg";var b=document.createElement("img");b.setAttribute("src",c);var a=dojo.byId("customLogoDiv");if(!a){return}a.appendChild(b)},addGroupLogo:function(){if(!CommonUtils.inGroup()){return}var e=CommonUtils.getGroupName();var d=Constants.IMAGES+e+".jpg";var b=document.createElement("img");b.setAttribute("src",d);var a=dojo.byId("customLogoDiv");if(!a){return}a.appendChild(b);var c=dojo.fadeIn({node:a,duration:6000});c.play()},isLoggedIn:function(){return User.isLoggedIn()},loadFiles:function(){var b=new littleshoot.FileResource();var a=new littleshoot.ResourceLoader("files",b,true);a.loadResultsPage(0)},bytesToMb:function(a){if(!a){return 0}var b=a/1048576;return dojo.number.format(b,{places:2})},secondsToMinutes:function(a){return Math.floor(a/60)+":"+(a%60).toFixed()},extractUriPath:function(b){var a=/.*\/(.*)/;var c=a.exec(b);return c[1]},findParent:function(b,c){var a=b;for(i=0;i<5;i++){a=a.parentNode;if(dojo.hasClass(a,c)){return a}}return null},keyId:function(){return Math.floor(Math.random()*1000000000)},requestKey:function(c){var b={keyId:c};CommonUtils.showSpinner();var a=dojo.xhrPost({url:Constants.SERVER_URL+"key/",content:b,handleAs:"text",load:function(d,e){return d},error:function(d,e){console.dir(e);return d},timeout:20000});a.addBoth(function(){CommonUtils.hideSpinner()});return a},clearChildren:function(b){var a=b.childNodes;for(i=a.length-1;i>=0;i--){b.removeChild(a[i])}},clearBoth:function(){var a=document.createElement("div");a.className="clearBoth";return a},fileDialogApplet:null,APPLET_NAME:"LittleShootApplet",appletLoadCalled:false,showFileDialog:function(){if(CommonUtils.fileDialogApplet===null){CommonUtils.showSpinner();CommonUtils.loadLittleShootApplet();setTimeout(function(){try{CommonUtils.fileDialogApplet=$("#LittleShootAppletId")[0];CommonUtils.fileDialogApplet.newFileDialog()}catch(a){CommonUtils.fileDialogApplet=null;CommonUtils.showMessage("File Dialog Error","We're sorry, but there was an error loading the LittleShoot publishing dialog. It should be work in a second if you try again. If you keep getting errors, please e-mail us at bugs@littleshoot.org with your browser details. The reported error is "+a+". Thanks!")}CommonUtils.hideSpinner()},2000)}else{CommonUtils.fileDialogApplet.newFileDialog()}},useApplet:function(){return true},loadLittleShootApplet:function(){if(CommonUtils.useApplet()&&!CommonUtils.appletLoadCalled){CommonUtils.appletLoadCalled=true;CommonUtils.loadApplet(CommonUtils.APPLET_NAME)}},loadApplet:function(b){var a=CommonUtils.newAppletElement(b);document.getElementsByTagName("body")[0].appendChild(a)},newAppletElement:function(c){var b=document.createElement("applet");b.setAttribute("name",c);b.id=c+"Id";b.setAttribute("code",c+".class");b.setAttribute("mayscript",true);b.setAttribute("width",1);b.setAttribute("height",1);var d={position:"absolute",top:"-300px"};dojo.style(b,d);var a=document.createElement("div");a.appendChild(b);return a},setDefaultImgProperties:function(b,a){switch(a){case"audio":b.src=Constants.AUDIO_IMAGE;break;case"video":b.src=Constants.VIDEOS_IMAGE;break;case"image":b.src=Constants.IMAGES_IMAGE;break;case"document":b.src=Constants.DOCS_IMAGE;break;case"application/mac":b.src=Constants.APPS_IMAGE;break;case"application/linux":b.src=Constants.APPS_IMAGE;break;case"application/win":b.src=Constants.APPS_IMAGE;break;default:b.src=Constants.DOCS_IMAGE}b.width=75;b.height=75},littleShootNpapiCallback:function(b,a){if(!littleShootConfig){console.info("LittleShoot config not defined");return}littleShootConfig.cookieCallbackComplete=true;CommonUtils.makeCallbacks(b,a)},littleShootCookieCallback:function(b,a){if(!littleShootConfig){console.info("LittleShoot config not defined");return}littleShootConfig.cookieCallbackComplete=true;CommonUtils.makeCallbacks(b,a)},littleShootLocalCallback:function(b,a){if(!littleShootConfig){console.info("LittleShoot config not defined");return}littleShootConfig.localCallbackComplete=true;if(littleShootConfig.cookieCallbackComplete){console.info("Cookie already made callback");return}if(littleShootConfig.remoteCallbackComplete){console.info("Remote callback already complete!!");return}CommonUtils.makeCallbacks(b,a)},littleShootRemoteCallback:function(b,a){if(!littleShootConfig){console.info("LittleShoot config not defined");return}if(littleShootConfig.cookieCallbackComplete){console.info("Cookie already made callback");return}if(littleShootConfig.localCallbackComplete){console.info("Local callback already complete!!");return}littleShootConfig.remoteCallbackComplete=true;CommonUtils.makeCallbacks(b,a)},makeCallbacks:function(b,a){if(!b){if(littleShootConfig.littleShootNotPresent){littleShootConfig.littleShootNotPresent()}}else{if(littleShootConfig.littleShootPresent){littleShootConfig.littleShootPresent(a)}}},showUpdateDialog:function(){CommonUtils.showConfirmDialog("New Version",Constants.VERSION_MESSAGE,CommonUtils.downloadInstaller)},pollForLittleShoot:function(){var a=dojo.byId("littleShootFlashContent");a.poll()},loadFlash:function(){if(!swfobject){console.error("No swfobject");throw new Error("No swfobject!!")}var a={};var c={};c.play="true";c.loop="false";c.quality="high";c.allowscriptaccess="always";var b={};b.id="littleShootFlashContent";b.name="LittleShoot";b.align="middle";swfobject.embedSWF("LittleShoot.swf","littleShootNoFlash","0%","0%","9.0.0","expressInstall.swf",a,c,b)},hasLittleShoot:function(){return window.gotLittleShoot},twoPlaces:function(a){return dojo.number.format(a,{pattern:"###,###,###.##"})}};dojo.provide("littleshoot.Button");Button={changeButtonOver:function(b,a){b.style.backgroundImage=a;b.style.color="#000000"},changeButtonOut:function(b,a){b.style.backgroundImage=a;b.style.color="#545454"},buildButtons:function(){(new Image()).src="http://littleshootimages.appspot.com/images/button100x22Over.gif";(new Image()).src="http://littleshootimages.appspot.com/images/button160x22Over.gif";dojo.query(".button").forEach(function(a){dojo.connect(a,"mouseover",null,function(b){Button.changeButtonOver(a,"url(http://littleshootimages.appspot.com/images/button100x22Over.gif)")});dojo.connect(a,"mouseout",null,function(b){Button.changeButtonOut(a,"url(http://littleshootimages.appspot.com/images/button100x22.gif)")})});dojo.query(".bigButton").forEach(function(a){dojo.connect(a,"mouseover",null,function(b){Button.changeButtonOver(a,"url(http://littleshootimages.appspot.com/images/button160x22Over.gif)")});dojo.connect(a,"mouseout",null,function(b){Button.changeButtonOut(a,"url(http://littleshootimages.appspot.com/images/button160x22.gif)")})})},enableButtonsByClass:function(a){dojo.query("."+a).forEach(function(b){})},enableButtons:function(){Button.enableButtonsByClass("button");Button.enableButtonsByClass("bigButton")},disableButton:function(a){dojo.connect(a,"onclick",null,function(b){})},disableButtonsByClass:function(a){dojo.query("."+a).forEach(function(b){Button.disableButton(b)})},disableButtons:function(){Button.disableButtonsByClass("button");Button.disableButtonsByClass("bigButton")}};dojo.provide("littleshoot.PageNav");dojo.declare("PageNav",null,{constructor:function(a,c,b){this.RESULTS_PER_PAGE=a;this.resultPageDiv=c;this.pageSwitcher=b;this.pageIndex=-1},updatePageLinks:function(b,a){if(isNaN(b)){console.error("PageNav.prototype.updatePageLinks index NaN");return}if(isNaN(a)){console.error("PageNav.prototype.updatePageLinks totalResults NaN");return}if(a<=this.RESULTS_PER_PAGE){CommonUtils.hideElement(this.resultPageDiv);return}else{CommonUtils.showElement(this.resultPageDiv)}if(this.pageIndex==b){return}this.pageIndex=b;dojo.query(".pageLinksDiv").forEach(dojo.hitch(this,function(c){this.updateLinksForDiv(c,b,a);c=null}));this.updatePreviousLinks(b,this.resultPageDiv);this.updateNextLinks(b,this.resultPageDiv,a)},updateLinksForDiv:function(h,b,a){var g=Math.ceil(a/this.RESULTS_PER_PAGE);var e=b+6;if(e>g){e=g}var f=b-5;if(f<0){f=0}b++;var c=document.createElement("div");c.id=h.id;c.className=h.className;for(var d=f;d<e;d++){this.appendPageLink(c,b,d+1)}h.parentNode.replaceChild(c,h)},updatePreviousLinks:function(a,b){if(isNaN(a)){return}dojo.query(".previousLink",b).forEach(dojo.hitch(this,function(c){this.updatePreviousLink(c,a)}))},updatePreviousLink:function(c,a){var e=a-1;if(e<0){e=0}if(isNaN(e)){CommonUtils.showError("We couldn't locate the previous link");return}var b=this.createFuncForIndex(e);var d=document.createElement("a");d.appendChild(document.createTextNode("Previous"));dojo.addClass(d,"previousLink");dojo.connect(d,"onclick",null,b);c.parentNode.replaceChild(d,c);d=null},updateNextLinks:function(b,c,a){dojo.query(".nextLink",c).forEach(dojo.hitch(this,function(d){this.updateNextLink(d,b,a)}))},updateNextLink:function(d,c,b){var a=c+1;if(a*this.RESULTS_PER_PAGE>=b){a=c}var e=this.createFuncForIndex(a);var f=document.createElement("a");f.appendChild(document.createTextNode("Next"));dojo.addClass(f,"nextLink");dojo.connect(f,"onclick",null,e);d.parentNode.replaceChild(f,d);f=null},appendPageLink:function(e,a,d){var c=document.createElement("span");if(a==d){c.className="pageLinkSelected"}else{c.className="pageLink"}c.appendChild(document.createTextNode(d));var b=d-1;dojo.connect(c,"onclick",null,this.createFuncForIndex(b));e.appendChild(c);c=null},createFuncForIndex:function(a){var b=dojo.hitch(this,function(){this.pageSwitcher.switchResultsPage(a)});return b}});dojo.provide("littleshoot.Constants");dojo.provide("littleshoot.littleshootlib");Constants={CLIENT_URL:"http://p2p2o.littleshoot.org:8107/api/client/",CLIENT_SECURE_URL:"http://p2p2o.littleshoot.org:8107/api/client/secure/",DOWNLOAD_URL:"http://p2p2o.littleshoot.org:8107/api/client/download/",DOWNLOADS_URL:"http://p2p2o.littleshoot.org:8107/api/client/downloads",DOWNLOAD_TORRENT_URL:"http://p2p2o.littleshoot.org:8107/api/client/downloadTorrent/",START_TORRENT_DOWNLOAD_URL:"http://p2p2o.littleshoot.org:8107/api/client/startTorrentDownload/",STREAM_DOWNLOAD_URL:"http://p2p2o.littleshoot.org:8107/api/client/streamDownload/",IMAGES:"http://littleshootimages.appspot.com/images/",AUDIO_IMAGE:"http://littleshootimages.appspot.com/images/icons/audio_75x75.gif",VIDEOS_IMAGE:"http://littleshootimages.appspot.com/images/icons/video_75x75.gif",IMAGES_IMAGE:"http://littleshootimages.appspot.com/images/icons/image_75x75.gif",DOCS_IMAGE:"http://littleshootimages.appspot.com/images/icons/document_75x75.gif",APPS_IMAGE:"http://littleshootimages.appspot.com/images/icons/application_75x75.gif",SERVER_URL:"api/",API_URL:"api/",FULL_API_URL:"http://www.littleshoot.org/api/",CLIENT_COOKIE_KEY:"littleShootData",SET_FROM_CLIENT_COOKIE_KEY:"littleShootClientCookie",VERSION_MESSAGE:"LittleShoot 0.994 is here! This version adds BitTorrent support, true browser plugin support, and much more. Would you like to download the new version now?",CURRENT_VERSION:0.994,MAIN_LINE_VERSION:0,PUBLIC_PERMISSION:0,GROUP_PERMISSION:1,PRIVATE_PERMISSION:2,API_VERSION:1,DOWNLOADED_COOKIE_KEY:"downloadedCookie",RESULTS_PER_PAGE:20};var AppMonitor=function(){var b={};function a(c){if(!c){console.error("JSON is not defined");return}if(c.appPresent){CommonUtils.setCookie(Constants.CLIENT_COOKIE_KEY,dojo.toJson(c));if(c.appVersion<Constants.CURRENT_VERSION&&c.appVersion!=Constants.MAIN_LINE_VERSION){CommonUtils.showUpdateDialog()}CommonUtils.littleShootLocalCallback(true,c.appVersion);if(dojo.isFunction(onLittleShootFromJavaScript)){onLittleShootFromJavaScript(c)}else{console.warning("No onLittleShootFromJavaScript func")}}else{CommonUtils.deleteCookie(Constants.CLIENT_COOKIE_KEY);CommonUtils.deleteCookie(Constants.SET_FROM_CLIENT_COOKIE_KEY);CommonUtils.littleShootLocalCallback(false)}}b.checkApp=function(){var c=function(){var f=function(j,h){a(j);return j};var e=function(j,h){a({appPresent:false,appVersion:Constants.CURRENT_VERSION});return j};var g={};g.t=(new Date()).getTime();var d=dojo.io.script.get({url:Constants.CLIENT_URL+"appCheck",callbackParamName:"callback",load:f,error:e,content:g,timeout:3000,preventCache:true,noCache:(new Date()).getTime()});return d};dojoLoader.scriptGet(c)};b.monitor=function(){var c=function(){instance.timeoutId=setTimeout(function(){var d=instance.checkApp();d.addBoth(c)},2000)};c()};return b}();LittleShoot={downloadPrompt:function(){CommonUtils.showConfirmDialog("LittleShoot Required","You need the LittleShoot plugin to use this site. Would you like to install it now?",CommonUtils.downloadInstaller)},p2pUrl:function(b,a){if(!a){a=CommonUtils.extractUriPath(b)}var c=Constants.DOWNLOAD_URL+a+"?uri=";c+=encodeURIComponent(b);return c},hasLittleShoot:function(){var a=function(){if(LittleShoot.hasPlugin()){return}console.warn("Did not find LittleShoot plugin!!");var d=LittleShoot.checkLittleShootLocal();if(d){return}var e=function(h,g){if(h.appPresent){CommonUtils.littleShootRemoteCallback(true,h.appVersion)}else{CommonUtils.littleShootRemoteCallback(false)}return h};var c=function(h,g){CommonUtils.littleShootRemoteCallback(false);return h};var f={};f.t=(new Date()).getTime();var b=dojo.io.script.get({url:Constants.FULL_API_URL+"littleShootData",callbackParamName:"callback",load:e,error:c,content:f,timeout:30000,noCache:(new Date()).getTime()})};dojoLoader.scriptGet(a)},loadNpapi:function(){var a=navigator.mimeTypes["application/x-littleshoot"];if(a){var b=a.enabledPlugin;if(b){if(!$.browser.msie){$("#littleShootEmbed").html('<embed type="application/x-littleshoot" pluginspage="http://www.littleshoot.org"></embed>');CommonUtils.littleShootNpapiCallback(true,0.9);LittleShoot.fadeLoading();return true}else{return false}}else{return false}}else{return false}},hasPlugin:function(){if($.browser.msie){try{var a=new ActiveXObject("Mozilla.PluginHostCtrl.1");$("#littleShootEmbed").html('<OBJECT ID="littleshoot" CLASSID="CLSID:0CC00AEB-7E95-4a80-8C29-ED90939FC99F" CODEBASE="axlittleshoot.cab#version=0,9,0,0" width="1" height="1"><PARAM name="type" value="application/x-bittorrent"/></OBJECT>');CommonUtils.littleShootNpapiCallback(true,0.9);LittleShoot.fadeLoading();return true}catch(b){return false}}else{if(navigator.plugins&&navigator.plugins.length){if(!LittleShoot.loadNpapi()){navigator.plugins.refresh(false);return LittleShoot.loadNpapi()}else{return true}}else{return false}}},checkLittleShootLocal:function(){var c=dojo.cookie(Constants.CLIENT_COOKIE_KEY);var d=false;if(c){var e=dojo.fromJson(c);var b=e.appPresent;if(b){CommonUtils.littleShootCookieCallback(true,e.appVersion);LittleShoot.fadeLoading();d=true}}var a=AppMonitor.checkApp();if(a!==undefined){a.addBoth(function(){LittleShoot.fadeLoading()})}return d},fadeLoading:function(){if(!littleShootConfig){logging.info("No littleshoot config");return}if(littleShootConfig.littleShootLoading){var b=dojo.byId(littleShootConfig.littleShootLoading);if(b){var a=dojo.fadeOut({node:b});a.play();if(b.parentNode){b.parentNode.removeChild(b)}}}}};jQuery().ready(function(){dojo.require("dojo.cookie");dojo.addOnLoad(function(){if(!littleShootConfig){littleShootConfig={}}if(littleShootConfig.disableAutoLoad){return}LittleShoot.hasLittleShoot()})});var LittleShootUtils={hasTorrentDownloadRpc:function(){if(!window.appData){var a=dojo.cookie(Constants.CLIENT_COOKIE_KEY);if(a){var b=dojo.fromJson(a);return b.appVersion>=0.95||b.appVersion===0}else{return true}}if(window.appData.appVersion===undefined){console.warn("Got app data with no version. Printing version.");console.dir(appData);return true}return window.appData.appVersion>=0.95||window.appData.appVersion===0}};SiteBase={onOnLoad:function(){if(!CommonUtils.isBrowserSupported()){CommonUtils.showIncompatibleBrowserDialog()}littleShootConfig={littleShootLoading:"loading",disableAutoLoad:true,littleShootPresent:function(b){console.info("LittleShoot present");window.gotLittleShoot=true},littleShootNotPresent:function(){console.info("LittleShoot not present");window.gotLittleShoot=false},oldLittleShootVersion:function(){console.info("LittleShoot old version");window.gotLittleShoot=true}};LittleShoot.hasLittleShoot();Button.buildButtons();var a=dijit.getViewport();if(a.w>1000){console.info("Showing extra nav elements...");CommonUtils.showAll(".forumsLink")}else{console.info("Not showing extra nav elements...width: "+a.w)}CommonUtils.commonLoad()}};dojo.provide("littleshoot.FlickrResult");dojo.declare("littleshoot.FlickrResult",null,{constructor:function(a){this.resultDiv=SearchResultUtils.newResultDiv(a,this)},getDiv:function(){return this.resultDiv},createHrefUrl:function(a){return a.uri},getSearchResultId:function(a){return this.getTitle(a)+a.source},getTitle:function(a){return a.title+".jpg"},getIconParams:function(a){var c=Constants.IMAGES+"sources/";var b={};sfx="flickr_small.gif";b.width=50;b.height=20;b.url=c+sfx;return b},appendLink:function(l,c,e,k,b){var f=document.createElement("div");f.className="searchResultLinkDiv";f.id=k+"LinkDiv";var d=SearchResultUtils.getIconImg(l,this);f.appendChild(d);var j=document.createElement("div");j.className="searchResultLinkText";var h=this.getTitle(l);var g=document.createTextNode(h);j.appendChild(g);f.appendChild(j);var a=document.createElement("div");a.className="searchResultDetails";f.appendChild(a);e.setAttribute("href",c+".jpg");dojo.attr(e,"rel","lightbox");dojo.attr(e,"title",l.title);e.appendChild(f);f.appendChild(CommonUtils.clearBoth());f=null},appendImage:function(a,e,d,c){var b=document.createElement("img");CommonUtils.hideElement(b);b.setAttribute("border",0);b.className="searchResultThumbnail";b.id=c+"Image";b.src=d+"_s.jpg";b.width=75;b.alt="Loading Flickr Image Thumbnail...";CommonUtils.showElement(b);e.appendChild(b)}});dojo.provide("littleshoot.IsoHuntResult");dojo.declare("littleshoot.IsoHuntResult",null,{constructor:function(a){var b=a.category.toLowerCase();if(b=="audio"){a.mediaType="audio"}this.resultDiv=this.newResultDiv(a,this)},newResultDiv:function(a,e){if(!a){console.error("Bad result: "+a);return}var f=document.createElement("div");f.className="searchResult";var d=e.createHrefUrl(a);var c=SearchResultUtils.getSearchResultId(a);f.id=c;var b=document.createElement("a");b.className="searchResultLink";$(b).click(function(g){g.preventDefault();g.stopPropagation();Download.asyncDownload(d)});e.appendImage(a,b,d,c);e.appendLink(a,d,b,c,f);f.appendChild(b);f.appendChild(CommonUtils.clearBoth());return f},getDiv:function(){return this.resultDiv},createHrefUrl:function(a){a.uri=a.enclosure_url;var c={name:a.title,size:a.length};var b;if(LittleShootUtils.hasTorrentDownloadRpc()){b=Constants.START_TORRENT_DOWNLOAD_URL}else{b=Constants.DOWNLOAD_TORRENT_URL}return SearchResultUtils.createLocalHrefUrl(a,c,b)},getSearchResultId:function(a){return a.guid},getTitle:function(a){return a.title},getIconParams:function(a){var d=Constants.IMAGES+"sources/";var c={};var b="isohunt_100x30.png";c.width=100;c.height=30;c.url=d+b;return c},appendLink:function(k,c,e,j,b){var f=document.createElement("div");f.className="searchResultLinkDiv";f.id=j+"LinkDiv";var d=SearchResultUtils.getIconImg(k,this);f.appendChild(d);var h=document.createElement("div");h.className="searchResultLinkText";var g=document.createTextNode(this.getTitle(k));h.appendChild(g);f.appendChild(h);var a=document.createElement("div");a.className="searchResultDetails";if(k.files!==undefined){SearchResultUtils.createSearchDetail("Files: "+k.files,a)}if(k.Seeds!==undefined){SearchResultUtils.createSearchDetail("Seeds: "+k.Seeds,a)}if(k.leechers!==undefined){SearchResultUtils.createSearchDetail("Leechers: "+k.leechers,a)}if(k.downloads!==undefined){SearchResultUtils.createSearchDetail("Downloads: "+k.downloads,a)}if(k.length!==undefined){SearchResultUtils.createSearchDetail("Size: "+CommonUtils.bytesToMb(k.length)+" MB",a)}if(k.link!==undefined){SearchResultUtils.createSearchDetailLink("More Info ",k.link,a)}f.appendChild(a);e.appendChild(f);f.appendChild(CommonUtils.clearBoth());f=null},appendImage:function(a,e,d,c){var b=document.createElement("img");CommonUtils.hideElement(b);b.setAttribute("border",0);if(a.downloadStatus){b.className="searchResultThumbnailDownloading"}else{b.className="searchResultThumbnail"}b.id=c+"Image";var f=a.category.toLowerCase();switch(f){case"audio":b.src=Constants.AUDIO_IMAGE;break;case"tv":b.src=Constants.VIDEOS_IMAGE;break;case"video/movies":b.src=Constants.VIDEOS_IMAGE;break;case"pics":b.src=Constants.IMAGES_IMAGE;break;case"books":b.src=Constants.DOCS_IMAGE;break;case"apps":b.src=Constants.APPS_IMAGE;break;case"games":b.src=Constants.APPS_IMAGE;break;default:b.src=Constants.DOCS_IMAGE}b.width=75;b.height=75;CommonUtils.showElement(b);e.appendChild(b)}});dojo.provide("littleshoot.YouTubeResult");dojo.declare("littleshoot.YouTubeResult",null,{constructor:function(a){this.resultDiv=SearchResultUtils.newResultDiv(a,this)},getDiv:function(){return this.resultDiv},createHrefUrl:function(a){return a.uri},getSearchResultId:function(a){return this.getTitle(a)+a.source},getTitle:function(a){return a.title.$t},getIconParams:function(a){var d=Constants.IMAGES+"sources/";var c={};var b="youtube_small.jpg";c.width=63;c.height=27;c.url=d+b;return c},appendLink:function(n,c,g,m,b){var j=document.createElement("div");j.className="searchResultLinkDiv";j.id=m+"LinkDiv";var f=SearchResultUtils.getIconImg(n,this);j.appendChild(f);var l=document.createElement("div");l.className="searchResultLinkText";var k=document.createTextNode(this.getTitle(n));l.appendChild(k);j.appendChild(l);var a=document.createElement("div");a.className="searchResultDetails";if(n.yt$statistics!==undefined){if(n.yt$statistics.viewCount!==undefined){dojo.require("dojo.number");dojo.addOnLoad(function(){var o=dojo.number.format(n.yt$statistics.viewCount,{pattern:"###,###,###,###"});SearchResultUtils.createSearchDetail("Views: "+o,a)})}}if(n.gd$rating!==undefined){if(n.gd$rating.average!==undefined){dojo.require("dojo.number");dojo.addOnLoad(function(){var o=dojo.number.format(n.gd$rating.average,{pattern:"#.##"});SearchResultUtils.createSearchDetail("Rating: "+o,a)})}}if(n.media$group!==undefined){if(n.media$group.yt$duration!==undefined){var e=n.media$group.yt$duration.seconds;var d=Math.floor((e/60)%60);var h=e%60;SearchResultUtils.createSearchDetail("Duration: "+d+" mins, "+h+" secs",a)}}j.appendChild(a);g.appendChild(j);j.appendChild(CommonUtils.clearBoth());j=null},getViewCount:function(a){if(a.yt$statistics){return a.yt$statistics.viewCount}return""},appendImage:function(a,e,d,c){var b=document.createElement("img");CommonUtils.hideElement(b);b.setAttribute("border",0);b.className="searchResultThumbnail";b.id=c+"Image";tn=a.media$group.media$thumbnail[0];b.height=tn.height;b.width=tn.width;b.src=tn.url;b.alt="YouTube thumbnail...";CommonUtils.showElement(b);e.appendChild(b)}});dojo.provide("littleshoot.YahooBossResult");dojo.declare("littleshoot.YahooBossResult",null,{constructor:function(a){this.resultDiv=this.newResultDiv(a)},getDiv:function(){return this.resultDiv},newResultDiv:function(a){if(!a){console.error("Bad result: "+a);return}var e=document.createElement("div");e.className="searchResult";var d=this.createHrefUrl(a);var c=this.getSearchResultId(a);var b=document.createElement("a");b.className="searchResultLink";b.setAttribute("href",d);b.setAttribute("target","_blank");this.appendImage(a,b,d,c);this.appendLink(a,d,b,c,e);e.appendChild(b);e.appendChild(CommonUtils.clearBoth());return e},createHrefUrl:function(a){return a.clickurl},getSearchResultId:function(a){return this.getTitle(a)+a.source},getTitle:function(a){return a.title},getIconParams:function(a){var c=Constants.IMAGES+"sources/";var b={};sfx="yahoo_logo_small.jpg";b.width=68;b.height=19;b.url=c+sfx;return b},getIconImg:function(a){var b=document.createElement("img");var c=this.getIconParams(a);b.src=c.url;b.width=c.width;b.height=c.height;return b},appendLink:function(k,c,e,j,b){var f=document.createElement("div");f.className="searchResultLinkDiv";f.id=j+"LinkDiv";var d=this.getIconImg(k);f.appendChild(d);var h=document.createElement("div");h.className="searchResultLinkText";var g=document.createTextNode(this.getTitle(k));h.appendChild(g);f.appendChild(h);var a=document.createElement("div");a.className="searchResultDetails";f.appendChild(a);e.appendChild(f);f.appendChild(CommonUtils.clearBoth());f=null},appendImage:function(a,e,d,c){var b=document.createElement("img");CommonUtils.hideElement(b);b.setAttribute("border",0);b.className="searchResultThumbnail";b.id=c+"Image";b.height=a.thumbnail_height;b.width=a.thumbnail_width;b.src=a.thumbnail_url;b.alt="Loading Yahoo Image Thumbnail...";CommonUtils.showElement(b);e.appendChild(b)}});dojo.provide("littleshoot.YahooVideoResult");dojo.declare("littleshoot.YahooVideoResult",null,{constructor:function(a){this.resultDiv=this.newResultDiv(a)},getDiv:function(){return this.resultDiv},newResultDiv:function(a){if(!a){console.error("Bad result: "+a);return}var e=document.createElement("div");e.className="searchResult";var d=this.createHrefUrl(a);var c=this.getSearchResultId(a);var b=document.createElement("a");b.className="searchResultLink";b.setAttribute("href",d);b.setAttribute("target","_blank");this.appendImage(a,b,d,c);this.appendLink(a,d,b,c,e);e.appendChild(b);e.appendChild(CommonUtils.clearBoth());return e},createHrefUrl:function(a){return a.uri},getSearchResultId:function(a){return this.getTitle(a)+a.source},getTitle:function(a){return a.Title},getIconParams:function(a){var c=Constants.IMAGES+"sources/";var b={};sfx="yahoo_logo_small.jpg";b.width=68;b.height=19;b.url=c+sfx;return b},appendLink:function(o,c,g,n,b){var h=document.createElement("div");h.className="searchResultLinkDiv";h.id=n+"LinkDiv";var f=SearchResultUtils.getIconImg(o,this);h.appendChild(f);var m=document.createElement("div");m.className="searchResultLinkText";var l=document.createTextNode(this.getTitle(o));m.appendChild(l);h.appendChild(m);var a=document.createElement("div");a.className="searchResultDetails";if(o.FileSize){fileSize=CommonUtils.bytesToMb(o.FileSize);var e=document.createElement("span");e.className="searchResultDetail";var d=document.createTextNode("Size: "+fileSize+" MB");e.appendChild(d);a.appendChild(e)}if(o.Duration){duration=CommonUtils.secondsToMinutes(o.Duration);var j=document.createElement("span");j.className="searchResultDetail";var k=document.createTextNode("Duration: "+duration);j.appendChild(k);a.appendChild(j)}h.appendChild(a);g.appendChild(h);h.appendChild(CommonUtils.clearBoth());h=null},appendImage:function(a,e,d,c){var b=document.createElement("img");CommonUtils.hideElement(b);b.setAttribute("border",0);b.className="searchResultThumbnail";b.id=c+"Image";b.height=a.Thumbnail.Height;b.width=a.Thumbnail.Width;b.src=a.Thumbnail.Url;b.alt="Loading Yahoo Video Thumbnail...";CommonUtils.showElement(b);e.appendChild(b)}});dojo.provide("littleshoot.SearchResult");dojo.declare("littleshoot.SearchResult",null,{constructor:function(b,a){this.resultDiv=this.newResultDiv(b,a)},getDiv:function(){return this.resultDiv},createHrefUrl:function(a){var b={name:a.title,size:a.size};return SearchResultUtils.createLocalHrefUrl(a,b)},newResultDiv:function(a,b){if(!a){console.error("Bad result: "+a);return}switch(a.source){case"isohunt":var e=new littleshoot.IsoHuntResult(a);return e.getDiv();case"youtube":var d=new littleshoot.YouTubeResult(a);return d.getDiv();case"flickr":var g=new littleshoot.FlickrResult(a);return g.getDiv();case"yahoo_video":var f=new littleshoot.YahooVideoResult(a);return f.getDiv();case"yahoo_boss_image":var c=new littleshoot.YahooBossResult(a);return c.getDiv();default:return this.newStandardResultDiv(a,b)}},newStandardResultDiv:function(a,e){var f=document.createElement("div");if(a.downloadStatus){f.className="searchResultDownloading"}else{f.className="searchResult"}var d=this.createHrefUrl(a);var c=SearchResultUtils.getSearchResultId(a);if(a.sha1){f.id=c}var b=document.createElement("a");b.className="searchResultLink";b.setAttribute("href",d);if(a.mediaType=="audio"){dojo.connect(b,"onclick",function(g){g.stopPropagation();g.preventDefault();playYahooMedia(b)});if(a.mimeType){dojo.attr(b,"type",a.mimeType)}}else{b.setAttribute("target","_blank")}this.appendImage(a,b,d,c);this.appendLink(a,d,b,c,e,f);f.appendChild(b);f.appendChild(CommonUtils.clearBoth());return f},getIconParams:function(a){var d=Constants.IMAGES+"sources/";var b=undefined;var c={};switch(a.source){case"littleshoot":b="littleshoot_small.gif";c.width=25;c.height=25;break;case"limewire":b="limewire.gif";c.width=70;c.height=21;break;default:b="littleshoot_small.gif";c.width=25;c.height=25;break}c.url=d+b;return c},appendLink:function(n,c,f,m,d,b){var h=document.createElement("div");h.className="searchResultLinkDiv";h.id=m+"LinkDiv";var e=SearchResultUtils.getIconImg(n,this);h.appendChild(e);var l=document.createElement("div");l.className="searchResultLinkText";var j=document.createTextNode(n.title);l.appendChild(j);h.appendChild(l);var a=document.createElement("div");a.className="searchResultDetails";if(n.numSources){var g;if(n.numSources<3){g="Sources: "+n.numSources+" (More is Better!),"}else{g="Sources: "+n.numSources+","}SearchResultUtils.createSearchDetail(g,a)}if(n.numOnlineInstances){SearchResultUtils.createSearchDetail("Sources: "+n.numOnlineInstances+",",a)}if(n.numDownloads){SearchResultUtils.createSearchDetail("Downloads: "+n.numDownloads+",",a)}if(n.size&&n.size>=0){SearchResultUtils.createSearchDetail("Size: "+CommonUtils.bytesToMb(n.size)+" MB",a)}if(n.audios__audio__bitrate__){SearchResultUtils.createSearchDetail("Bitrate: "+n.audios__audio__bitrate__,a)}h.appendChild(a);if(n.downloadStatus){var k=SearchResultUtils.newDownloadDetailsDiv(n,d,b);h.appendChild(k)}f.appendChild(h);h.appendChild(CommonUtils.clearBoth());h=null},resizeImage:function(c,d,a){if(c.complete){if(c.width>c.height){c.width=d}else{c.height=a}CommonUtils.showElement(c)}else{var b=this;window.setTimeout(function(){b.resizeImage(c,d,a)},800)}},setDimensions:function(c,a){var e=100;var g=75;if(a.thumbWidth&&a.thumbHeight){if(a.thumbWidth<=e&&a.thumHeight<=g){c.width=a.thumbWidth;c.height=a.thumbHeight}else{var d=a.thumbWidth-e;var f=a.thumbHeight-g;if(d>f){c.width=e;c.height=(e/a.thumbWidth)*a.thumbHeight}else{c.height=g;c.width=(g/a.thumbHeight)*a.thumbWidth}}CommonUtils.showElement(c)}else{var b=this;dojo.addOnLoad(function(){b.resizeImage(c,75,75)})}},appendImage:function(a,e,d,c){var b=document.createElement("img");CommonUtils.hideElement(b);b.setAttribute("border",0);if(a.downloadStatus){b.className="searchResultThumbnailDownloading"}else{b.className="searchResultThumbnail"}b.id=c+"Image";if(a.source=="littleshoot"){CommonUtils.setDefaultImgProperties(b,a.mediaType)}else{if(a.source=="limewire"){CommonUtils.setDefaultImgProperties(b,a.mediaType)}}CommonUtils.showElement(b);e.appendChild(b)}});dojo.provide("littleshoot.SearchResults");dojo.require("dojo.back");var searchPageApplicationState=0;SearchPageApplicationState=function(a){this.resultsPage=a};SearchHistory={addHistory:function(a){var b={resultsPage:a,back:function(){window.searchResults.switchResultsPageNoHistory(this.resultsPage)},forward:function(){window.searchResults.switchResultsPageNoHistory(this.resultsPage)},changeUrl:true};dojo.back.addToHistory(b)}};dojo.declare("littleshoot.SearchResults",null,{constructor:function(a,d){this.wasComplete=false;this.resultSetIndex=0;this.stopped=false;if(!a){throw new Error("No search guid!!!!")}if(d){this.forceReload=d}else{this.forceReload=false}this.searchGuid=a;dojo.cookie("lastSearchGuid",a);var c=dojo.byId("contentColumnDiv1Search");var b=dojo.byId("contentColumnDiv2Search");CommonUtils.clearChildren(c);CommonUtils.clearChildren(b)},loadResultsPage:function(a,c){if(this.stopped){return}if(c&&!this.wasComplete){CommonUtils.showSpinner()}clearTimeout(this.timeoutId);this.pageIndex=a;var b=this;var d=function(){var j={resultsPerPage:Constants.RESULTS_PER_PAGE,pageIndex:b.pageIndex,images:true,video:true,audio:true,documents:true,applications:true,guid:b.searchGuid,preventCache:true,noCache:(new Date()).getTime()};var f=dojo.io.script.get({url:Constants.CLIENT_URL+"searchResults",callbackParamName:"callback",load:function(k,l){return k},error:function(k,l){console.warn("Error accessing search results: "+k+l);return k},content:j,timeout:10000});var h=function(k){b.processResultSet(k);return k};var g=function(k){CommonUtils.hideSpinner();return k};f.addCallback(h);f.addErrback(g);if(c){var e=function(){};f.addBoth(e)}};dojoLoader.scriptGet(d)},processResultSet:function(l){if(!l.searchData){console.warn("No search data...returning");return}if(this.stopped){return}if(l.searchData){this.updateForwardBackButtons(l)}this.updateTotalResults(l);if(this.wasComplete&&l.complete){CommonUtils.hideSpinner();this.updateDownloads(l);l=null;this.scheduleCall();return}this.wasComplete=l.complete;if((this.forceReload===false)&&this.sameResults(l)){this.updateDownloads(l);l=null;this.scheduleCall();return}window.lastJsonSearchData=l;var c=dojo.byId("contentColumnDiv1Search");var b=dojo.byId("contentColumnDiv2Search");var p=document.createElement("div");var n=document.createElement("div");p.id=c.id;n.id=b.id;p.className=c.className;n.className=b.className;var s=Math.ceil(l.results.length/2);for(var g=0;g<s;g++){try{var r=new littleshoot.SearchResult(l.results[g],l.downloadPath);var q=r.getDiv();if(q){p.appendChild(q)}else{}}catch(d){console.error("Caught error: "+d)}}for(var f=s;f<l.results.length;f++){var h=new littleshoot.SearchResult(l.results[f],l.downloadPath);var o=h.getDiv();if(o){n.appendChild(o)}else{}}c.parentNode.replaceChild(p,c);b.parentNode.replaceChild(n,b);if(Search.isLighBoxEnabled()){$("#searchResultsDiv a[rel*=lightbox]").lightBox({fixedNavigation:true,extraText:function(j){return"   <a href='"+j+"' target='blank'>Open in New Window</a>"}})}this.updateDownloads(l);var m=dojo.byId("resultPageDivSearchTop");var a=dojo.byId("resultPageDivSearchBottom");var k=new PageNav(Constants.RESULTS_PER_PAGE,m,this);var e=new PageNav(Constants.RESULTS_PER_PAGE,a,this);k.updatePageLinks(this.pageIndex,l.totalResults);e.updatePageLinks(this.pageIndex,l.totalResults);c=null;b=null;m=null;a=null;k=null;e=null;p=null;n=null;l=null;this.resultSetIndex++;this.scheduleCall()},updateForwardBackButtons:function(e){var a;var h;var j;var c=false;for(var b=0;b<e.searchData.length;b++){var f=e.searchData[b].guid;if(f==this.searchGuid){a=b;h=b-1;j=b+1;c=true;break}}if(!c){throw new Error("No matching GUID!!")}if(e.searchData.length===1){CommonUtils.hideElement(dojo.byId("searchBackDiv"));CommonUtils.hideElement(dojo.byId("searchForwardDiv"));return}CommonUtils.showElement(dojo.byId("searchBackDiv"));CommonUtils.showElement(dojo.byId("searchForwardDiv"));var l=dojo.byId("searchBackDiv");if(a>0){dojo.removeClass(l,"backDisabled");dojo.addClass(l,"backEnabled");if(window.backButtonEventId){dojo.disconnect(window.backButtonEventId)}var k=e.searchData[h].guid;window.backButtonEventId=dojo.connect(l,"onclick",function(m){SearchResultUtils.reload(k)})}else{dojo.disconnect(window.backButtonEventId);dojo.removeClass(l,"backEnabled");dojo.addClass(l,"backDisabled")}var g=dojo.byId("searchForwardDiv");if(j<5&&j<e.searchData.length){dojo.removeClass(g,"forwardDisabled");dojo.addClass(g,"forwardEnabled");if(window.forwardButtonEventId){dojo.disconnect(window.forwardButtonEventId)}var d=e.searchData[j].guid;window.forwardButtonEventId=dojo.connect(g,"onclick",function(m){SearchResultUtils.reload(d)})}else{dojo.disconnect(window.forwardButtonEventId);dojo.removeClass(g,"forwardEnabled");dojo.addClass(g,"forwardDisabled")}},updateDownloads:function(c){for(var b=0;b<c.results.length;b++){var a=c.results[b];if(a.downloadStatus){SearchResultUtils.updateDownload(a,c.downloadPath)}else{}}},updateTotalResults:function(c){var f;if(c.totalResults===0&&!c.complete){f=document.createTextNode("Searching...")}else{if(c.totalResults===0&&c.complete){f=document.createTextNode("No Results")}else{var e=(this.pageIndex*Constants.RESULTS_PER_PAGE)+1;var d=e+Constants.RESULTS_PER_PAGE-1;if(c.totalResults<Constants.RESULTS_PER_PAGE){d=c.totalResults}else{if(d>c.totalResults){d=c.totalResults}}var b="Results "+e+" - "+d+" out of "+c.totalResultsFormatted;f=document.createTextNode(b)}}var a=dojo.byId("totalSearchResultsSpan");if(a.firstChild){a.replaceChild(f,a.firstChild)}else{a.appendChild(f)}a=null},sameResults:function(b){if(window.lastJsonSearchData&&window.lastJsonSearchData.results[0]){if(window.lastJsonSearchData.pageIndex==b.pageIndex){var e=window.lastJsonSearchData.results.length-1;var a=b.results.length-1;if(e==a){var c=window.lastJsonSearchData.results[e].uri;if(b.results[a]){var d=b.results[a].uri;if(c==d){return true}}else{}}else{}}else{}}return false},scheduleCall:function(){if(this.stopped){return}var b=1400;var a=dojo.hitch(this,function(){try{this.loadResultsPage(this.pageIndex,true)}catch(c){console.error("Caught error: "+c)}});this.timeoutId=setTimeout(a,b)},switchResultsPageNoHistory:function(a){this.switchResultsPageBase(a)},switchResultsPage:function(a){SearchHistory.addHistory(a);this.switchResultsPageBase(a)},switchResultsPageBase:function(a){clearTimeout(this.timeoutId);this.wasComplete=false;try{this.loadResultsPage(a,true)}catch(b){console.error("Caught error: "+b)}},stop:function(){this.stopped=true;CommonUtils.hideSpinner()}});dojo.extend(SearchPageApplicationState,{back:function(){this.goToMe()},forward:function(){this.goToMe()},goToMe:function(){window.searchResults.switchResultsPageNoHistory(this.resultsPage)}});dojo.provide("littleshoot.Search");dojo.declare("littleshoot.Search",null,{constructor:function(){},search:function(){var d=function(g){if(CommonUtils.onIndexPage()){window.location.href="search"}else{if(window.searchResults){window.searchResults.stop()}window.searchResults=new littleshoot.SearchResults(g,false);window.searchResults.loadResultsPage(0,true)}};var f=function(j,g){var h=j.guid;dojo.cookie("lastSearchGuid",h);d(h)};var c=function(h,g){console.error("Dojo returned: "+h);CommonUtils.showMessage("LittleShoot Not Found","We're sorry, but we could not access your search results.  Are you sure LittleShoot is successfully installed?")};var b=dijit.byId("searchForm").attr("value");CommonUtils.setCookie("searchForm",dojo.toJson(b));if(CommonUtils.isBlank(b.keywords)){CommonUtils.showMessage("No Search Terms","Please enter words to search for.");return null}var a={url:Constants.CLIENT_URL+"search",callbackParamName:"callback",load:f,error:c,content:b,timeout:40000,noCache:(new Date()).getTime()};var e=function(){return dojo.io.script.get(a)};dojoLoader.scriptGet(e)}});Search={lightBoxEnabled:false,onOnLoad:function(){$("#grayNavControlDivSearch").show();Search.activate();SearchResultUtils.forceReload()},activate:function(){Search.setSearchCheckBoxes();Search.enableSearchButtons()},enableLightBox:function(){Search.lightBoxEnabled=true},isLighBoxEnabled:function(){return Search.lightBoxEnabled},startSearch:function(){if(!window.gotLittleShoot){LittleShoot.downloadPrompt();return}var a=dojo.byId("searchForm").keywords.value;Search.setKeyword(a);var b=new littleshoot.Search();b.search();if(pageTracker){pageTracker._trackPageview("search")}},enableSearchButtons:function(){if(document.searchButtonConnectId){dojo.disconnect(document.searchButtonConnectId)}var a=dojo.byId("searchButton");document.searchButtonConnectId=dojo.connect(a,"onclick",null,function(){Search.startSearch()})},setSearchCheckBoxes:function(){var a=dojo.cookie("searchForm");if(a){var b=dojo.fromJson(a);Search.setSearchCheckBoxesWithData(b)}else{console.warn("no search cookie data!!!")}},setSearchCheckBoxesWithData:function(b){if(!b){console.warn("No form params??");return}var a=b.keywords;if(CommonUtils.onIndexPage()){b.keywords=undefined}var c=dijit.byId("searchForm");c.attr("value",b);if(!CommonUtils.onIndexPage()){Search.setKeyword(a)}},setKeyword:function(a){if(!a){return}var b=document.createTextNode(a);var c=dojo.byId("searchTermDiv");if(!c){return}if(c.firstChild){c.replaceChild(b,c.firstChild)}else{c.appendChild(b)}}};dojo.provide("littleshoot.SearchResultUtils");dojo.require("dijit.ProgressBar");SearchResultUtils={forceReload:function(){SearchResultUtils.reload(dojo.cookie("lastSearchGuid"),true)},reload:function(a,c){if(!a){return}if(window.searchResults){window.searchResults.stop();window.searchResults=null;if(window.lastJsonSearchData&&a){var b=SearchResultUtils.getSearchData(window.lastJsonSearchData,a);Search.setKeyword(b.keywords)}}window.searchResults=new littleshoot.SearchResults(a,c);window.searchResults.loadResultsPage(0)},createLocalHrefUrl:function(a,f,e){if(!a){console.error("No result");return""}var d;if(a.sha1){d=a.sha1}else{d=a.uri}if(a.mediaType==="audio"){cancelOnStreamClose=false}else{cancelOnStreamClose=false}f.uri=d;f.cancelOnStreamClose=cancelOnStreamClose;f.noCache=(new Date()).getTime();if(a.mimeType!==undefined){f.mimeType=a.mimeType}if(a.sha1!==undefined){f.urn=a.sha1}if(a.source==="limewire"){f.source=a.source}var c;if(e){c=e}else{c=Constants.DOWNLOAD_URL}var b=c+encodeURIComponent(a.title)+"?"+dojo.objectToQuery(f);return b},getSearchData:function(d,b){if(!d){return}for(var c=0;c<d.searchData.length;c++){var e=d.searchData[c];var a=e.guid;if(a==b){return e}}},newResultDiv:function(a,e){if(!a){console.error("Bad result: "+a);return}var f=document.createElement("div");f.className="searchResult";var d=e.createHrefUrl(a);var c=e.getSearchResultId(a);var b=document.createElement("a");b.className="searchResultLink";b.setAttribute("href",d);if(a.mediaType=="audio"){dojo.connect(b,"onclick",function(g){g.stopPropagation();g.preventDefault();playYahooMedia(b)});if(a.mimeType){dojo.attr(b,"type",a.mimeType)}}else{b.setAttribute("target","_blank")}e.appendImage(a,b,d,c);e.appendLink(a,d,b,c,f);f.appendChild(b);f.appendChild(CommonUtils.clearBoth());return f},getIconImg:function(a,c){var b=document.createElement("img");var d=c.getIconParams(a);b.src=d.url;b.width=d.width;if(d.height!==undefined){b.height=d.height}return b},updateDownload:function(b,g){if(!g){console.error("No path!!");throw new Error("No path!!")}var a=SearchResultUtils.getSearchResultId(b);var f=dojo.byId(a);if(!f){console.error("No result div.  Mismatched ID assignment?");throw new Error("No result div!")}var d=SearchResultUtils.newStopIconId(b);if(!dojo.hasClass(f,"searchResultDownloading")){dojo.removeClass(f,"searchResult");dojo.addClass(f,"searchResultDownloading");var c=SearchResultUtils.newDownloadDetailsDiv(b,g,f);dojo.byId(a+"LinkDiv").appendChild(c);var e=dojo.byId(a+"Image");dojo.removeClass(e,"searchResultThumbnail");dojo.addClass(e,"searchResultThumbnailDownloading")}else{SearchResultUtils.updateDownloadDetails(b,g)}f=null},updateDownloadDetails:function(j,h){var f=SearchResultUtils.newStopIconId(j);var c=dojo.byId(f);if(!c){console.error("Could not find stop ID: "+f)}else{if(j.downloadStatus===2){CommonUtils.showElement(c)}else{CommonUtils.hideElement(c)}}var g=SearchResultUtils.getDownloadId(j);var b=g+"Pb";var e=dijit.byId(b);if(!e){console.error("Could not find progress bar with ID: "+b)}var a=SearchResultUtils.newDownloadDetails(j,e,h);var d=dojo.byId(g);d.replaceChild(a,d.lastChild);g=null;e=null;d=null},newDownloadDetailsDiv:function(l,k,b){var f=document.createElement("div");var j=SearchResultUtils.getDownloadId(l);f.id=j;f.className="downloadDetails";dojo.addClass(f,"searchResultDetails");var d=document.createElement("div");d.className="downloadProgress";var c=j+"Pb";var g=dijit.byId(c);if(g){var h=g.domNode.parentNode;if(h){h.removeChild(g.domNode)}g.update({progress:0})}else{g=new dijit.ProgressBar({progress:0,maximum:100,id:c})}d.appendChild(g.domNode);f.appendChild(d);var e=document.createElement("div");e.id=SearchResultUtils.newStopIconId(l);dojo.addClass(e,"stopDownloadImage");dojo.addClass(e,"smallIcon");dojo.addClass(e,"stopEnabled");dojo.connect(e,"onclick",null,function(m){m.stopPropagation();var n=function(){var p=function(s,r){return s};var q=function(s,r){console.error("Stop failed: "+s);return s};var o=dojo.io.script.get({url:Constants.CLIENT_URL+"stopDownload",callbackParamName:"callback",load:p,error:q,content:{uri:l.uri},timeout:20000,noCache:(new Date()).getTime()})};CommonUtils.showConfirmDialog("Cancel Download?","Are you sure you want to cancel downloading '"+l.title+"'? You will lose all downloaded data and cannot undo this action.",function(){dojoLoader.scriptGet(n)})});b.appendChild(e);CommonUtils.hideElement(e);var a=SearchResultUtils.newDownloadDetails(l,g,k);f.appendChild(a);return f},newDownloadDetails:function(a,d,g){var h;var e;switch(a.downloadStatus){case 0:h="Download starting...";break;case 1:h="Accessing download sources...";break;case 2:var f=dojo.number.format(a.downloadSpeed,{pattern:"###,###,###.##"});h="Downloading at "+f+" KB/s from "+a.downloadNumSources+" source(s)";var b;if(a.length){b=a.length}else{b=a.size}e=Math.floor(100*(a.downloadBytesRead/b));break;case 3:h="Could not find sources";break;case 4:h="Could not locate sources";break;case 5:h="Canceled";break;case 6:h="Complete";e=100;break;case 7:h="Failed";break;case 100:h="Verifying download integrity";e=100;break;case 101:h="Download corrupted";e=100;break;case 102:h="Download verified";e=100;break;case 200:h="Moving file";e=100;break;case 201:h="Moved file to "+g;e=100;break;case 202:h="Move file failed";e=100;break;case 203:h="Added to iTunes. Saved at "+g;e=100;break;default:h="Unknown download state: "+statusCode}var c=document.createElement("span");c.id=SearchResultUtils.getDownloadId(a)+"Status";c.className="downloadStatusSpan";c.appendChild(document.createTextNode(h));if(e){d.update({progress:e})}return c},newStopIconId:function(a){return SearchResultUtils.getBaseId(a)+"-StopImage"},getSearchResultId:function(a){return SearchResultUtils.getBaseId(a)+"-SearchResult"},getDownloadId:function(a){return SearchResultUtils.getBaseId(a)+"-Download"},getBaseId:function(a){if(a.sha1){return a.sha1+a.source}else{if(CommonUtils.startsWith(a.uri,"http://")){return a.uri.substring(7)+a.source}else{if(CommonUtils.startsWith(a.uri,"urn:sha1:")){return a.uri.substring(9)+a.source}else{return a.uri+a.source}}}},createSearchDetail:function(a,b){if(!b){console.error("No container!!");return}var d=document.createElement("span");d.className="searchResultDetail";var c=document.createTextNode(a);d.appendChild(c);b.appendChild(d);return d},createSearchDetailLink:function(b,f,d){var e=document.createTextNode(b);var c=document.createElement("a");c.className="searchResultDetailLink";c.setAttribute("href",f);c.setAttribute("target","_blank");c.appendChild(e);$(c).click(function(a){a.stopPropagation()});d.appendChild(c)}};dojo.provide("littleshoot.AboutTab");AboutTab={alreadyDownloaded:false,onOnLoad:function(){if(!AboutTab.alreadyDownloaded&&CommonUtils.endsWith(window.location.pathname,"download")){AboutTab.alreadyDownloaded=true}}};function onLittleShootBase(d){if(document.handledLittleShootCallback===true){return}document.handledLittleShootCallback=true;window.gotLittleShoot=true;window.appData=d;var c=dojo.toJson(d);CommonUtils.setCookie(Constants.CLIENT_COOKIE_KEY,c);$("#loadingIconMessage").hide();var b=function(){var e=d.appVersion;var f;if(d.isPro){f="Loaded LittleShoot Pro Version "+e+"!"}else{f="Loaded LittleShoot Version "+e+"!"}$("#statusMessage").html(f)};$("#statusMessageDiv").slideUp(1000,function(){$(this).slideDown(1000)});setTimeout(b,800);var a=function(){$("#statusMessageDiv").slideUp(1000)};setTimeout(a,8000);dojo.publish("littleShootDetected",[d])}function onLittleShootFromJavaScript(a){onLittleShootBase(a)}function onLittleShootFromFlash(a){onLittleShootBase(a)}function onNoLittleShootFromFlash(){}function onLittleShootSwf(){dojo.addOnLoad(CommonUtils.pollForLittleShoot)}jQuery().ready(function(){dojo.addOnLoad(function(){if(window.gotLittleShoot){}CommonUtils.loadFlash()})});LittleShootIndex={onOnLoad:function(){if(!CommonUtils.isBrowserSupported()){CommonUtils.showIncompatibleBrowserDialog()}littleShootConfig={disableAutoLoad:true,littleShootPresent:function(a){console.info("LittleShoot present");window.gotLittleShoot=true;LittleShootIndex.enableAll()},littleShootNotPresent:function(){window.gotLittleShoot=false},oldLittleShootVersion:function(){console.info("LittleShoot update");window.gotLittleShoot=true;LittleShootIndex.enableAll()},littleShootLoading:"loading"};LittleShoot.hasLittleShoot();Button.buildButtons();CommonUtils.hideSpinner();Search.activate();CommonUtils.setPage("index");CommonUtils.commonLoad();$("#searchFormDiv").show()},enableAll:function(){Button.enableButtons();Search.enableSearchButtons()}};dojo.provide("littleshoot.Publisher");PublishData={publisher:null};Publisher={activated:false,onOnLoad:function(){if(window.searchResults){window.searchResults.stop()}},onTags:function(a){PublishData.publisher.postPublish(a.tags)},onPublish:function(){var b=dijit.byId("publishForm").attr("value");var c=dojo.byId("twitterMessageTextArea").value;var a=114;if(c.length>a){c=c.substring(0,a)}b.twitterMessage=c;PublishData.publisher.postPublish(b)},toPublishPage:function(){if(CommonUtils.onIndexPage()){window.location.href="publish"}else{CommonUtils.loadFiles()}},activatePublish:function(){if(CommonUtils.useApplet()&&!Publisher.activated){Publisher.activated=true;$("#fakeFileUpload").hide();$("#ff3FileUpload").show().click(function(d){if(!CommonUtils.hasLittleShoot()){LittleShoot.downloadPrompt()}else{CommonUtils.showFileDialog()}});$("#publishButtonDiv").append($("#ff3FileUpload"));$("#publishDiv").show()}else{var c=dojo.byId("fakeFileUpload");CommonUtils.hideElement(dojo.byId("loginFileUpload"));CommonUtils.showElement(c);dojo.byId("publishButtonDiv").appendChild(c);var b=dojo.query(".buttonFileInput")[0];var a=Publisher.getHiddenInputElement();dojo.connect(a,"mouseover",null,function(d){if(Publisher.isOver(b,d)){Button.changeButtonOver(b,"url("+Constants.IMAGES+"button100x22Over.gif)")}});dojo.connect(a,"mouseout",null,function(d){Button.changeButtonOut(b,"url("+Constants.IMAGES+"button100x22.gif)")})}},loginToPublish:function(){$("#loginFileUpload").show();$("#fakeFileUpload").hide();dojo.connect(loginFileUpload,"onclick",null,User.showLoginPublishDialog);dojo.byId("publishButtonDiv").appendChild(loginFileUpload)},isOver:function(c,d){var a=CommonUtils.pointerX(d);var e=CommonUtils.pointerY(d);var b=CommonUtils.within(c,a,e);return b},getHiddenInputElement:function(){return dojo.byId("invisibleFileInput")},onFileChanged:function(){var a=Publisher.getHiddenInputElement().value;Publisher.onFileSelected(a)},onFileSelected:function(a){PublishData.publisher=new littleshoot.Publisher(a);PublishData.publisher.askForTags()}};dojo.declare("littleshoot.Publisher",null,{constructor:function(a){this.file=a;if(CommonUtils.isBlank(a)){CommonUtils.showError("File is blank");throw new Error("File is blank!!")}},isFolder:function(){return this.folder},publishLocal:function(b,g,h){g.file=b;g.keyId=h;g.permission=Constants.PUBLIC_PERMISSION;var a=Constants.CLIENT_SECURE_URL+"publishFile";var f=dojo.cookie("siteKey");if(!f){CommonUtils.showMessage("No Key","We're sorry, but there was an error accessing the LittleShoot servers.  Please try again later.");throw new Error("No site key in cookie -- not publishing!!")}var e=ClientApi.createSignature(a,g,f);g.signature=e;CommonUtils.showSpinner();var c={url:a,callbackParamName:"callback",load:function(k,j){if(!k.success){CommonUtils.showMessage("Publishing Error",k.message);return}var l=CommonUtils.createMessage("Successfully Published","Successfully published the file: "+k.fileName+".");dojo.connect(l,"hide",Publisher.toPublishPage);l.show();return k},error:function(k,j){return k},content:g,timeout:40000};var d=function(){var k=dojo.io.script.get(c);var j=function(){CommonUtils.hideSpinner()};k.addBoth(j);return k};dojoLoader.scriptGet(d)},postPublish:function(b){var e=CommonUtils.keyId();var a=CommonUtils.requestKey(e);var d=dojo.hitch(this,function(g,f){this.publishLocal(this.file,b,e)});var c=dojo.hitch(this,function(g,f){console.error("Got deferred response with data: "+g)});a.addCallback(d);a.addErrback(c)},askForTags:function(){dijit.byId("publishDialog").show();var b=dojo.byId("twitterMessageTextArea");var a=function(c){var e=dojo.byId("twitterMessageCharCount");if(e){var d=114-b.value.length;if(d<0){e.className="redCount"}else{e.className="grayCount"}e.innerHTML=d+"*"}};if(b){if(document.twitterCharCountId){dojo.disconnect(document.twitterCharCountId)}document.twitterCharCountId=dojo.connect(b,"onkeyup",a);a()}else{console.error("Could not find tweet")}},getPath:function(){return this.file}});function onFileDialogFile(a){var b=a+"";Publisher.onFileSelected(b)}function onFileDialogCancel(){}jQuery.ui||(function(c){var j=c.fn.remove,d=c.browser.mozilla&&(parseFloat(c.browser.version)<1.9);c.ui={version:"1.7",plugin:{add:function(l,m,o){var n=c.ui[l].prototype;for(var k in o){n.plugins[k]=n.plugins[k]||[];n.plugins[k].push([m,o[k]])}},call:function(k,m,l){var o=k.plugins[m];if(!o||!k.element[0].parentNode){return}for(var n=0;n<o.length;n++){if(k.options[o[n][0]]){o[n][1].apply(k.element,l)}}}},contains:function(l,k){return document.compareDocumentPosition?l.compareDocumentPosition(k)&16:l!==k&&l.contains(k)},hasScroll:function(n,l){if(c(n).css("overflow")=="hidden"){return false}var k=(l&&l=="left")?"scrollLeft":"scrollTop",m=false;if(n[k]>0){return true}n[k]=1;m=(n[k]>0);n[k]=0;return m},isOverAxis:function(l,k,m){return(l>k)&&(l<(k+m))},isOver:function(p,l,o,n,k,m){return c.ui.isOverAxis(p,o,k)&&c.ui.isOverAxis(l,n,m)},keyCode:{BACKSPACE:8,CAPS_LOCK:20,COMMA:188,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38}};if(d){var f=c.attr,e=c.fn.removeAttr,h="http://www.w3.org/2005/07/aaa",a=/^aria-/,b=/^wairole:/;c.attr=function(l,k,m){var n=m!==undefined;return(k=="role"?(n?f.call(this,l,k,"wairole:"+m):(f.apply(this,arguments)||"").replace(b,"")):(a.test(k)?(n?l.setAttributeNS(h,k.replace(a,"aaa:"),m):f.call(this,l,k.replace(a,"aaa:"))):f.apply(this,arguments)))};c.fn.removeAttr=function(k){return(a.test(k)?this.each(function(){this.removeAttributeNS(h,k.replace(a,""))}):e.call(this,k))}}c.fn.extend({remove:function(){c("*",this).add(this).each(function(){c(this).triggerHandler("remove")});return j.apply(this,arguments)},enableSelection:function(){return this.attr("unselectable","off").css("MozUserSelect","").unbind("selectstart.ui")},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})},scrollParent:function(){var k;if((c.browser.msie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){k=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(c.curCSS(this,"position",1))&&(/(auto|scroll)/).test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0)}else{k=this.parents().filter(function(){return(/(auto|scroll)/).test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0)}return(/fixed/).test(this.css("position"))||!k.length?c(document):k}});c.extend(c.expr[":"],{data:function(m,l,k){return !!c.data(m,k[3])},focusable:function(l){var m=l.nodeName.toLowerCase(),k=c.attr(l,"tabindex");return(/input|select|textarea|button|object/.test(m)?!l.disabled:"a"==m||"area"==m?l.href||!isNaN(k):!isNaN(k))&&!c(l)["area"==m?"parents":"closest"](":hidden").length},tabbable:function(l){var k=c.attr(l,"tabindex");return(isNaN(k)||k>=0)&&c(l).is(":focusable")}});function g(n,o,p,m){function l(r){var q=c[n][o][r]||[];return(typeof q=="string"?q.split(/,?\s+/):q)}var k=l("getter");if(m.length==1&&typeof m[0]=="string"){k=k.concat(l("getterSetter"))}return(c.inArray(p,k)!=-1)}c.widget=function(l,k){var m=l.split(".")[0];l=l.split(".")[1];c.fn[l]=function(q){var o=(typeof q=="string"),p=Array.prototype.slice.call(arguments,1);if(o&&q.substring(0,1)=="_"){return this}if(o&&g(m,l,q,p)){var n=c.data(this[0],l);return(n?n[q].apply(n,p):undefined)}return this.each(function(){var r=c.data(this,l);(!r&&!o&&c.data(this,l,new c[m][l](this,q))._init());(r&&o&&c.isFunction(r[q])&&r[q].apply(r,p))})};c[m]=c[m]||{};c[m][l]=function(p,o){var n=this;this.namespace=m;this.widgetName=l;this.widgetEventPrefix=c[m][l].eventPrefix||l;this.widgetBaseClass=m+"-"+l;this.options=c.extend({},c.widget.defaults,c[m][l].defaults,c.metadata&&c.metadata.get(p)[l],o);this.element=c(p).bind("setData."+l,function(r,q,s){if(r.target==p){return n._setData(q,s)}}).bind("getData."+l,function(r,q){if(r.target==p){return n._getData(q)}}).bind("remove",function(){return n.destroy()})};c[m][l].prototype=c.extend({},c.widget.prototype,k);c[m][l].getterSetter="option"};c.widget.prototype={_init:function(){},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").removeAttr("aria-disabled")},option:function(m,n){var l=m,k=this;if(typeof m=="string"){if(n===undefined){return this._getData(m)}l={};l[m]=n}c.each(l,function(o,p){k._setData(o,p)})},_getData:function(k){return this.options[k]},_setData:function(k,l){this.options[k]=l;if(k=="disabled"){this.element[l?"addClass":"removeClass"](this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",l)}},enable:function(){this._setData("disabled",false)},disable:function(){this._setData("disabled",true)},_trigger:function(m,n,o){var q=this.options[m],k=(m==this.widgetEventPrefix?m:this.widgetEventPrefix+m);n=c.Event(n);n.type=k;if(n.originalEvent){for(var l=c.event.props.length,p;l;){p=c.event.props[--l];n[p]=n.originalEvent[p]}}this.element.trigger(n,o);return !(c.isFunction(q)&&q.call(this.element[0],n,o)===false||n.isDefaultPrevented())}};c.widget.defaults={disabled:false};c.ui.mouse={_mouseInit:function(){var k=this;this.element.bind("mousedown."+this.widgetName,function(l){return k._mouseDown(l)}).bind("click."+this.widgetName,function(l){if(k._preventClickEvent){k._preventClickEvent=false;l.stopImmediatePropagation();return false}});if(c.browser.msie){this._mouseUnselectable=this.element.attr("unselectable");this.element.attr("unselectable","on")}this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);(c.browser.msie&&this.element.attr("unselectable",this._mouseUnselectable))},_mouseDown:function(m){m.originalEvent=m.originalEvent||{};if(m.originalEvent.mouseHandled){return}(this._mouseStarted&&this._mouseUp(m));this._mouseDownEvent=m;var l=this,n=(m.which==1),k=(typeof this.options.cancel=="string"?c(m.target).parents().add(m.target).filter(this.options.cancel).length:false);if(!n||k||!this._mouseCapture(m)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){l.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(m)&&this._mouseDelayMet(m)){this._mouseStarted=(this._mouseStart(m)!==false);if(!this._mouseStarted){m.preventDefault();return true}}this._mouseMoveDelegate=function(o){return l._mouseMove(o)};this._mouseUpDelegate=function(o){return l._mouseUp(o)};c(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);(c.browser.safari||m.preventDefault());m.originalEvent.mouseHandled=true;return true},_mouseMove:function(k){if(c.browser.msie&&!k.button){return this._mouseUp(k)}if(this._mouseStarted){this._mouseDrag(k);return k.preventDefault()}if(this._mouseDistanceMet(k)&&this._mouseDelayMet(k)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,k)!==false);(this._mouseStarted?this._mouseDrag(k):this._mouseUp(k))}return !this._mouseStarted},_mouseUp:function(k){c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=(k.target==this._mouseDownEvent.target);this._mouseStop(k)}return false},_mouseDistanceMet:function(k){return(Math.max(Math.abs(this._mouseDownEvent.pageX-k.pageX),Math.abs(this._mouseDownEvent.pageY-k.pageY))>=this.options.distance)},_mouseDelayMet:function(k){return this.mouseDelayMet},_mouseStart:function(k){},_mouseDrag:function(k){},_mouseStop:function(k){},_mouseCapture:function(k){return true}};c.ui.mouse.defaults={cancel:null,distance:1,delay:0}})(jQuery);(function(a){a.widget("ui.progressbar",{_init:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this._valueMin(),"aria-valuemax":this._valueMax(),"aria-valuenow":this._value()});this.valueDiv=a('<div class="ui-progressbar-value ui-widget-header ui-corner-left"></div>').appendTo(this.element);this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow").removeData("progressbar").unbind(".progressbar");this.valueDiv.remove();a.widget.prototype.destroy.apply(this,arguments)},value:function(b){arguments.length&&this._setData("value",b);return this._value()},_setData:function(b,c){switch(b){case"value":this.options.value=c;this._refreshValue();this._trigger("change",null,{});break}a.widget.prototype._setData.apply(this,arguments)},_value:function(){var b=this.options.value;if(b<this._valueMin()){b=this._valueMin()}if(b>this._valueMax()){b=this._valueMax()}return b},_valueMin:function(){var b=0;return b},_valueMax:function(){var b=100;return b},_refreshValue:function(){var b=this.value();this.valueDiv[b==this._valueMax()?"addClass":"removeClass"]("ui-corner-right");this.valueDiv.width(b+"%");this.element.attr("aria-valuenow",b)}});a.extend(a.ui.progressbar,{version:"1.7",defaults:{value:0}})})(jQuery);var $p,pure;$p=pure={find:function(a,b){try{return(b||document).querySelector(a)}catch(c){this.msg("library_needed")}},getRuntime:function(){var c=["var $p, pure;$p = pure = {","$outAtt:",this.$outAtt.toString(),",","$c:",this.$c.toString(),",","render:",this.render.toString(),",","compiledFunctions:[], msg:"+this.msg.toString()+"};"];for(var b in this.compiledFunctions){if(this.compiledFunctions.hasOwnProperty(b)){var a="$p.compiledFunctions['"+b+"']";c.push(a+"={};"+a+".compiled=");c.push(this.compiledFunctions[b].compiled.toString()+";");for(var e in this.compiledFunctions[b]){if(e!="compiled"){c.push("$p.compiledFunctions['"+b+"']."+e+"="+this.compiledFunctions[b][e].toString()+";")}}}}var d=document.getElementById("pureMsg");if(d){d.value=c.join("");d.select()}else{this.msg("place_runtime_container")}},$f:{cnt:0},$c:function(d,f,a){if(f=="context"){return d}if(typeof d=="object"){var c=f.split(/\./);var e=d[c[0]];for(var b=1;b<c.length;b++){if(!e){break}e=e[c[b]]}}if(!e&&e!=0){e=a?null:""}return e},render:function(){var d,c,b,e=arguments[2];if(typeof arguments[1]==="string"){c=arguments[1];b=arguments[0]}else{c=arguments[0];b=arguments[1]}if(typeof c!="string"){var a=e?this.map(e,c):c.cloneNode(true);d=this.compiledFunctions.length||0;this.compile(a,d,b,false)}else{d=c}if(this.compiledFunctions[d]){return this.compiledFunctions[d].compiled(b)}else{this.msg("HTML_does_not_exist",d)}},autoRender:function(b,a,c){if(typeof b!="string"){if(!b){this.msg("wrong_html_source");return false}b.setAttribute(this.utils.AUTO,"true")}return this.render(b,a,c)},compiledFunctions:{},$outAtt:function(b){(/\"/).test(b[1])&&(b[1]=b[1].replace(/\\\"|\"/g,"&quot;"));var a=b.join("");return(/\=\"\"/.test(a))?"":a},utils:{CLASSNAME:/MSIE\s+(6|7)/.test(navigator.userAgent)?"className":"class",NS:/MSIE/.test(navigator.userAgent)?"pure_":"pure:",PURECLASS:/MSIE/.test(navigator.userAgent)?"pure_class":"pure:class",AUTO:/MSIE/.test(navigator.userAgent)?"pure_autoRender":"pure:autoRender",REPEAT:/MSIE/.test(navigator.userAgent)?"pure_repeat":"pure:repeat",NODEVALUE:/MSIE/.test(navigator.userAgent)?"pure_nodeValue":"pure:nodeValue",nodeValues:[],repeats:[],autoRenderAtts:[],isTypeOfArray:function(a){return typeof a.length==="number"&&!(a.propertyIsEnumerable("length"))&&typeof a.splice==="function"},autoMap:function(e,b,d,r){var c,h,m,o,f,a,q,l;if(b=="true"){q=e.getAttribute(this.CLASSNAME);if(q){c=q.replace(/^\d|\s\d/g,"").split(/\s+/);for(m=0;m<c.length;m++){f="";l=this.ap_check(c[m]);o=l.clean.split(/@/);if(r.length>0){for(h=r.length-1;h>=0;h--){a=r[h]=="context"?$p.$c(d[0],o[0],true):$p.$c(d[r[h]][0],o[0],true);if((a||a==0)&&o[0]!=="context"){f=r[h];break}}}if(!a&&a!=0){a=o[0]!="context"?$p.$c(d,o[0],true):!(/context/).test(r.join(""))?d:true}if(a||a==0){if(typeof a.length==="number"&&!(a.propertyIsEnumerable("length"))&&typeof a.splice==="function"){r.push(o[0]);e.setAttribute(this.REPEAT,o[0]+"<-"+o[0])}else{if(f!==""){o[0]=f+"['"+o[0].replace(/\./g,"']['")+"']"}if(!o[1]){o.push("nodeValue")}if(l.type){o[0]=this.ap_format(o[0],o[1],e,l.type)}if(o[1]!="nodeValue"){this.removeAtt(e,o[1])}if(!e.getAttribute(this.NS+o[1])){e.setAttribute(this.NS+o[1],o[0])}}}}if(e.getAttribute(this.PURECLASS)&&e.getAttribute(this.CLASSNAME)){e.removeAttribute(this.CLASSNAME)}}}var g=e.getAttribute(this.NODEVALUE);if(g){this.nodeValues.push(e)}var p=e.getAttribute(this.REPEAT);if(p){this.repeats.push(e)}},nodeWalk:function(p,b){var g=this.AUTO;this.repeats=[];this.nodeValues=[];var d=p.getAttribute(g);p.removeAttribute(g);var t=[];var u=p,m=null;do{if(u.nodeType==1){this.autoMap(u,d,b,t)}m=u.firstChild;if(m===null){m=u.nextSibling}var v=u;if(m===null){v=u;do{m=v.parentNode?v.parentNode:p;if(m==p){break}v=m;m=m.nextSibling}while(m===null)}u=m}while(u!=p);var f,w,a,k,o=false;for(var q=this.nodeValues.length-1;q>=0;q--){try{m=this.nodeValues[q];k=m.getAttribute(this.NODEVALUE);if(k){var l=k.match(/\|(a|p)\|/);if(l){if(l[1]=="a"){m.innerHTML+=this.NODEVALUE+'="'+k.substring(l.index+3)+'"'}else{m.innerHTML=this.NODEVALUE+'="'+k.substring(l.index+3)+'"'+m.innerHTML}}else{m.innerHTML=this.NODEVALUE+'="'+k+'"'}m.removeAttribute(this.NODEVALUE)}}catch(s){}}for(var r=this.repeats.length-1;r>=0;r--){m=this.repeats[r];try{a=m.getAttribute(this.REPEAT);if(a){f=m.cloneNode(true);f.removeAttribute(this.REPEAT);w=document.createElement(this.REPEAT);w.appendChild(f);w.setAttribute("source",""+a);if(p==m){o=this.outerHTML(w)}else{m.parentNode.replaceChild(w,m)}}}catch(h){}}return(o)?o:false},ap_format:function(d,f,e,c){if(c){if(!f){f="nodeValue"}var a=f=="class"?this.CLASSNAME:f;var b=e.getAttribute(a)||("nodeValue"==f?"nodeValue":null);if(b){return b+"|"+c+"|"+d}}return d},ap_check:function(c){var b,a;c=(b=/^\+/.test(c))?c.slice(1):(a=/\+$/.test(c))?c.slice(0,-1):c;return{type:(a)?"a":(b)?"p":false,clean:c}},removeAtt:function(b,a){if(a=="class"){a=this.CLASSNAME}try{b[a]="";b.removeAttribute(a)}catch(c){}},out:function(a){return["output.push(",a,");"].join("")},strOut:function(a){return["output.push(","'",a,"');"].join("")},outputFn:function(a,b){if(b){return a+"({context:context, items:"+b+",pos:"+b+"Index=='0'?0:parseInt("+b+"Index)||"+b+"Index, item:"+b+"["+b+"Index=='0'?0:parseInt("+b+"Index)||"+b+"Index]})"}else{return a+"({context:context})"}},contextOut:function(a){return"$p.$c(context, "+a+")"},isArray:function(b,c){var d=/\[[^\]]*\]/.test(b);var a=b.replace(/(")|(')/g,"").split(/\./);return d||c[a[0]]?true:false},arrayName:function(a){var c=a.match(/\w*/)[0]||"";var b=a.substring(c.length).replace(/\[\s*\]/,"");if(/\./.test(b)){b=b.replace(/^\./,"['").replace(/\./g,"']['")+"']"}return c+"["+c+"Index]"+b.replace(/\\\'/g,"'")},domCleaningRules:[{what:window?new RegExp(window.location.toString().substring(0,window.location.toString().indexOf(window.location.pathname)),"g"):"",by:""},{what:/\>\s+</g,by:"> <"},{what:/\r|\n/g,by:""},{what:/\\\'|\'/g,by:"\\'"},{what:/\s+[^\s]+\=\"\"(?=[^\>]|\>)/ig,by:""},{what:/^\s+/,by:""}],outerHTML:function(a){return a.outerHTML||(function(c){var b=document.createElement("div");b.appendChild(c);return b.innerHTML})(a)},html2str:function(c,b){var f=c[0]&&!c.nodeType?c[0].cloneNode(true):c.cloneNode(true);var e=this.nodeWalk(f,b);if(!e){e=this.outerHTML(f)}e=e.replace(new RegExp("</?:?"+this.REPEAT,"gi"),this.REPEAT);var d=this.domCleaningRules;for(var a=0;a<d.length;a++){e=e.replace(d[a].what||"",d[a].by)}return e.split(this.NS)}},autoCompile:function(b,c,a,d){b.setAttribute(this.utils.AUTO,"true");return this.compile(b,c,a,d)},compile:function(n,f,d,g){var m=this.utils.html2str(n,d);if(!f&&typeof f!="number"){this.msg("no_HTML_name_set_for_parsing",m.join(""),n);return false}var w,H,k=false,s,u=[],A=1,q="",D,z,v,c,l,p,C,G,I,h,E="",b="",t=[],B,o;this.compiledFunctions[f]={};var a=["{var output = [];"];if(m[0]!==""){a.push(this.utils.strOut(m[0]))}for(var y=1;y<m.length;y++){H=m[y];if(/^repeat[^\>]*\>/i.test(H)){k=H.match(/^repeat[^\>]*>/i);s=k[0].match(/"[^"]*"/);if(s){s=s[0].replace(/&lt;/,"<").replace(/"/g,"").replace(/\s/g,"");q=s.split(/<-/);l=q[0];B=q[1]||"";if(this.utils.isArray(B,u)){a.push("var "+l+"="+this.utils.arrayName(B)+";")}else{if(/context/i.test(B)||B.length==0){if(!(/context/i).test(l)){a.push("var "+l+"= context;")}}else{a.push("var "+l+'= $p.$c(context, "'+B+'");')}}a.push("for(var "+l+"Index in "+l+"){if ("+l+".hasOwnProperty("+l+"Index)){");a.push(this.utils.strOut(H.substring(k[0].length)));u[l]=A++}else{a.push("}}");delete u[l];C=0;for(I in u){if(u.hasOwnProperty(I)){G=u[I];if(G>C){C=G;l=I}}}a.push(this.utils.strOut(H.substring(k[0].length,H.length)))}k=false;continue}else{E=H.substring(0,H.indexOf("="));b=H.match(/\=""?[^"]*""?/)[0].substr(2).replace(/"$/,"");h=E.length+b.length+3;if(/&quot;/.test(b)){b=b.replace(/&quot;/g,'"');H=H.replace(/&quot;/,'"').replace(/&quot;/,'"')}p=/^nodeValue/i.test(H);o=p?[]:["'"+E+"=\"'"];z=b.match(/\|(a|p)\|/);c="";v=E!=="class"?"":" ";if(z){if(z[1]=="a"){o.push("'"+b.substring(0,z.index)+v+"'")}else{c=b.substring(0,z.index)}b=b.substring(z.index+3)}if(/\$f\[(f[0-9]+)\]/.test(b)){D=b.match(/\[(f[0-9]+)/)[1];this.compiledFunctions[f]["$"+D]=this.$f[D];delete this.$f[D];this.$f.cnt--;o.push(this.utils.outputFn("this.$"+D,l));if(c!==""){o.push("'"+v+c+"'")}}else{if(/^\\\'|&quot;/.test(b)){o.push("'"+b.replace(/^\\\'|\\\'$/g,"")+"'");if(c!==""){o.push("'"+v+c+"'")}}else{if(!(/MSIE/).test(navigator.userAgent)){t=b.split(/(#\{[^\}]*\})/g)}else{var r=b.match(/#\{[^\}]*\}/);t=r?[]:[b];while(r){if(r.index>0){t.push(b.substring(0,r.index))}t.push(r[0]);b=b.substring(r.lastIndex);r=b.match(/#\{[^\}]*\}/);if(!r&&b!==""){t.push(b)}}}for(var x=0;x<t.length;x++){b=t[x];if(/\#\{/.test(b)||t.length==1){b=b.replace(/^\#\{/,"").replace(/\}$/,"");if(this.utils.isArray(b,u)){o.push(this.utils.arrayName(b))}else{o.push(this.utils.contextOut("'"+b+"'"))}}else{if(b!==""){o.push("'"+b+"'")}}if(c!==""){o.push("'"+v+c+"'")}}}}if(!p){o.push("'\"'")}}a.push(this.utils.out(o.length>1?"$p.$outAtt(["+o.join(",")+"])":o[0]));H=H.substr(h);if(H!==""){a.push(this.utils.strOut(H))}}a.push('return output.join("");}');w=a.join("");if(!g){try{this.compiledFunctions[f].compiled=new Function("context",w)}catch(F){this.msg("parsing_error",[F.message,w]);return false}}return w},map:function(h,m,b){if(!m[0]&&m.length==0){this.msg("no_HTML_selected");return false}var o,k=[],c,q,j,d,p,n,r,g,f,l,a,e=[];if(b){q=m[0]&&!m.nodeType?m[0]:m}else{q=m[0]&&!m.nodeType?m[0].cloneNode(true):m.cloneNode(true)}a=q.getAttribute(this.utils.AUTO)||false;for(f in h){if(h.hasOwnProperty(f)){c=h[f];if(this.utils.isTypeOfArray(c)){k=c}else{k=[];k.push(c)}for(l=0;l<k.length;l++){c=k[l];j=this.utils.ap_check(f);f=j.clean;d=f.match(/\[[^\]]*\]/);if(/^\[|^\.$/.test(f)){p=q}else{p=this.find(f,q);if(!p&&d){p=this.find(f.substr(0,d.index),q)}}if(p){if(typeof c=="function"){o="f"+this.$f.cnt++;this.$f[o]=c;c="$f["+o+"]"}n="nodeValue";r=-1;if(d){n=f.substring(d.index+1,d[0].length+d.index-1);if(n.indexOf(this.utils.NS)>-1){n=n.substring(this.utils.NS.length)}}else{r=c.search(/w*<-w*/);if(r>-1){n="repeat"}}c=c.replace(/^"|"$|\'|\\\'/g,"\\'");c=this.utils.ap_format(c,n,p,j.type);p.setAttribute(this.utils.NS+n,c);if(d){if(n!="class"){this.utils.removeAtt(p,n)}else{if(a!="true"){e.push(p)}}}}else{g=[q.nodeName];if(q.id!==""){g.push("#"+q.id)}if(q.className!==""){g.push("#"+q.className)}this.msg("element_to_map_not_found",[f,g.join("")],q)}}}}if(e.length>0){for(l=0;l<e.length;l++){this.utils.removeAtt(e[l],"class")}}return q},messages:{wrong_html_source:"The source HTML provided to autoRender does not exist. Check your selector syntax.",element_to_map_not_found:'PURE - Cannot find the element "&" in "&"',place_runtime_container:'To collect the PURE runtime, place a <textarea id="pureMsg"></textarea> somewhere in your document.',no_HTML_selected:"The map function didn't receive a valid HTML element",no_HTML_name_set_for_parsing:"A name is needed when parsing the HTML: &",HTML_does_not_exist:"The HTML: & does not exist or is not yet compiled",library_needed:"In order to run PURE, you need a JS library such as: dojo, domAssistant, jQuery, mootools, prototype,...",parsing_error:'Parsing error: "&" in: &'},msg:function(e,d,a){var f=this.messages[e]||e;var c=/&/,b;if(f!=e&&d){if(typeof d=="string"){f=f.replace(c,d)}else{for(b=0;b<d.length;b++){f=f.replace(c,d[b])}}}var g=document.getElementById("pureMsg");if(g){g.innerHTML=[f,"\n",g.innerHTML].join("")}else{alert(f)}},libs:{mapDirective:function(b,a){return $p.map(a,b)},compile:function(e,c,d,b){var a=e;if(b){a.setAttribute($p.utils.AUTO,"true")}if(d){a=$p.map(d,e)}return $p.compile(a,c,b||false,false)},render:function(f,b,d,a,e){var c=f;if(typeof a!=="undefined"){c=typeof a!=="string"&&a[0]||a}else{if(typeof d!=="undefined"&&(d.jquery||d.cssSelect||d.nodeType||typeof d==="string")){c=(d.jquery||d.cssSelect)?d[0]:d;d=null}}return this.replaceWithAndReturnNew(f,e===true?$p.autoRender(c,b,d):$p.render(c,b,d))},replaceWithAndReturnNew:function(h,b){var g=document.createElement("div");var d=h;var c=d.parentNode;c.insertBefore(g,d);g.innerHTML=b;var f=g.childNodes;var e=[];for(var a=f.length-1;a>=0;a--){e.push(d.parentNode.insertBefore(f[a],d.nextSibling))}c.removeChild(d);c.removeChild(g);return e.length>1?e:e[0]}}};if(typeof jQuery!=="undefined"){if(jQuery.parse){jQuery.parse[0]=/^(\[) *@?([\w:\-]+) *([!*$\^~=]*) *('?"?)(.*?)\4 *\]/}$p.utils.domCleaningRules.push({what:/\s?jQuery[^\s]+\=\"null\"/gi,by:""});if(typeof document.querySelector==="undefined"){$p.find=function(a,b){var c=jQuery.find(a,b);return c[0]||false}}jQuery.fn.mapDirective=function(a){return jQuery($p.libs.mapDirective(this[0],a))};jQuery.fn.compile=function(b,c,a){$p.libs.compile(this[0],b,c,a);return this};jQuery.fn.render=function(b,c,a){return jQuery($p.libs.render(this[0],b,c,a))};jQuery.fn.autoRender=function(b,c,a){return jQuery($p.libs.render(this[0],b,c,a,true))}}else{if(typeof DOMAssistant!=="undefined"){if(typeof document.querySelector==="undefined"){$p.find=function(a,b){var c=$(b).cssSelect(a);return c[0]||false}}DOMAssistant.attach({publicMethods:["mapDirective","compile","render","autoRender"],mapDirective:function(a){return $($p.libs.mapDirective(this,a))},compile:function(b,c,a){$p.libs.compile(this,b,c,a);return this},render:function(b,c,a){return $($p.libs.render(this,b,c,a))},autoRender:function(b,c,a){return $($p.libs.render(this,b,c,a,true))}})}else{if(typeof MooTools!=="undefined"){if(typeof document.querySelector==="undefined"){$p.find=function(a,b){var c=$(b).getElement(a);return c||false}}Element.implement({mapDirective:function(a){return $($p.libs.mapDirective(this,a))},compile:function(b,c,a){$p.libs.compile(this,b,c,a);return this},render:function(b,c,a){return $($p.libs.render(this,b,c,a))},autoRender:function(b,c,a){return $($p.libs.render(this,b,c,a,true))}})}else{if(typeof Prototype!=="undefined"){if(typeof document.querySelector==="undefined"){$p.find=function(a,d){var f=$(d).select(a);if(!f||f===""){var h=a.indexOf("#");if(h>-1){var g=a.substr(h+1);var c=d.getElementsByTagName("*");for(var b=0,e;e=c[b];b++){if(e.id==g){return e}}}}return f[0]||false}}Element.addMethods({mapDirective:function(a,b){return $($p.libs.mapDirective(a,b))},compile:function(b,c,d,a){$p.libs.compile(b,c,d,a);return this},render:function(c,b,d,a){return $($p.libs.render(c,b,d,a))},autoRender:function(c,b,d,a){return $($p.libs.render(c,b,d,a,true))}})}else{if(typeof Sizzle!=="undefined"){if(typeof document.querySelector==="undefined"){$p.find=function(a,b){var c=Sizzle(a,b);return c[0]||false}}$p.sizzle=function(a,c){a=a||document;var b=a.nodeType?[a]:Sizzle(a,c);var d=b;d.mapDirective=function(e){d[0]=$p.libs.mapDirective(d[0],e);return d};d.compile=function(f,g,e){$p.libs.compile(d[0],f,g,e);return d};d.render=function(f,g,e){d[0]=$p.libs.render(d[0],f,g,e);return d};d.autoRender=function(f,g,e){d[0]=$p.libs.render(d[0],f,g,e,true);return d};return d}}}}}}var addthis_options="email, favorites, digg, delicious, myspace, google, facebook, reddit, live, more";var Download={isComplete:function(a){switch(a.downloadStatus){case 6:return true;case 100:return true;case 101:return true;case 102:return true;case 200:return true;case 201:return true;case 202:return true;case 203:return true;default:return false}},isFailedOrCanceled:function(a){switch(a.downloadStatus){case 5:return true;case 7:return true;case 3:return true;case 4:return true;default:return false}},asyncDownload:function(a){var b={url:a,callbackParamName:"callback",load:function(d,e){return d},error:function(d,e){return d},content:{},timeout:4000};var c=function(){var d=dojo.io.script.get(b);var f=function(g){return g};var e=function(g){return g};d.addCallback(f);d.addErrback(e);d.addBoth(function(){})};dojoLoader.scriptGet(c)},createOpenFolderUrl:function(a){if(!a){console.error("No result");return""}var d={};d.uri=a.uri;d.name=a.title;d.noCache=(new Date()).getTime();var c="http://www.littleshoot.org/api/client/openDownloadFolder/";var b=c+encodeURIComponent(a.title)+"?"+dojo.objectToQuery(d);return b},openFolder:function(a){var b=Download.createOpenFolderUrl(a);var c={url:b,callbackParamName:"callback",load:function(e,f){return e},error:function(e,f){return e},content:{},timeout:4000};var d=function(){var e=dojo.io.script.get(c);var g=function(h){return h};var f=function(h){return h};e.addCallback(g);e.addErrback(f);e.addBoth(function(){})};dojoLoader.scriptGet(d)},createLocalHrefUrl:function(a){if(!a){return""}var d={};d.uri=a.uri;d.name=a.title;d.size=a.size;d.cancelOnStreamClose=false;d.noCache=(new Date()).getTime();var c="http://www.littleshoot.org/api/client/streamDownload/";var b=c+encodeURIComponent(a.title)+"?"+dojo.objectToQuery(d);return b},calculatePercentBase:function(b,c){var a=100*(b/c);return dojo.number.format(a,{pattern:"####.##"})},calculatePercent:function(a){return Download.calculatePercentBase(a.downloadBytesRead,a.size)},addTorrentState:function(a,b){if(a.torrentState){switch(a.torrentState){case 0:b+=" &nbsp &nbsp Queued";break;case 1:b+=" &nbsp &nbsp Checking Files";break;case 2:b+=" &nbsp &nbsp Downloading Metadata";break;case 3:b+=" &nbsp &nbsp Downloading";break;case 4:b+=" &nbsp &nbsp Finished";break;case 5:b+=" &nbsp &nbsp Seeding";break;case 6:b+=" &nbsp &nbsp Allocating";break;default:break}}return b},getDownloadStatus:function(a){var e;var b;switch(a.downloadStatus){case 0:e="Download starting...";break;case 1:e="Accessing download sources...";break;case 2:b=Download.calculatePercent(a);var d="Read: "+CommonUtils.bytesToMb(a.downloadBytesRead)+" MB ("+b+"%)";var c=CommonUtils.twoPlaces(a.downloadSpeed);e=d+"&nbsp&nbsp Speed: "+c+" KB/s";break;case 3:e="Could not find sources";break;case 4:e="Could not locate sources";break;case 5:e="Canceled";break;case 6:e=Download.addTorrentState(a,"Complete");b=100;break;case 7:e="Failed";break;case 8:e="Paused";break;case 100:e="Verifying download integrity";b=100;break;case 101:e="Download corrupted";b=100;break;case 102:e="Download verified";b=100;break;case 200:e="Moving file";b=100;break;case 201:e=Download.addTorrentState(a,"Moved file to "+a.path);b=100;break;case 202:e=Download.addTorrentState(a,"Move file failed");b=100;break;case 203:e=Download.addTorrentState(a,"Added to iTunes. Saved at "+a.path);b=100;break;default:e="Unknown download state: "+statusCode}return e},addOpenLink:function(c,a){var b=$(c);var d=b.data("clickAdded");if(d){return}b.data("clickAdded",true);if(a.numFiles===1){b.click(function(e){e.preventDefault();e.stopPropagation();var f=Download.createLocalHrefUrl(a);window.open(f,a.uri,"toolbar=0,status=0,width=700,height=480");return false})}else{b.click(function(e){e.preventDefault();e.stopPropagation();Download.openFolder(a);return false})}},updateDownloadBase:function(f,l,g,c){var d=Download.isComplete(f);if(!$(l).attr("id")){return}if(f.downloadBytesRead){var a=Download.calculatePercent(f);$(".progressBarDiv",l).progressbar("value",a)}else{if(d){$(".progressBarDiv",l).progressbar("value",100)}}if(f.downloadNumSources!==undefined){$(".numSourcesDetail",l).html("Sources: "+f.downloadNumSources)}else{$(".numSourcesDetail",l).html("")}if(f.timeRemaining!==undefined){if(CommonUtils.startsWith(f.timeRemaining,"2147483647")){$(".timeRemaining",l).html("Remaining: &#8734;")}else{$(".timeRemaining",l).html("Remaining: "+f.timeRemaining)}}else{$(".timeRemaining",l).html("")}$(".downloadStatus",l).html(Download.getDownloadStatus(f));if(c){$(".downloadStopIcon",l).show()}if(f.downloadStatus===2||f.downloadStatus===8){if(!c){$(".downloadStopIcon",l).show()}$(".downloadPauseResumeIcon",l).show();if(f.downloadStatus===8){var h=$(".downloadPauseResumeIcon",l).children();h.addClass("ui-icon-play").removeClass("ui-icon-pause").attr("title","Resume the Download")}else{var k=$(".downloadPauseResumeIcon",l).children();k.addClass("ui-icon-pause").removeClass("ui-icon-play").attr("title","Pause the Download")}}else{if(!c){$(".downloadStopIcon",l).hide()}$(".downloadPauseResumeIcon",l).hide()}var j=Download.isFailedOrCanceled(f);if(j){$(l).unbind();$(".streamStatusDiv",l).empty()}var b=f.streamable;if(f.numFiles===1){var e=f.downloadSpeed;var m;if(e===undefined){m=0}else{if(e>200){m=f.size/60}else{if(e>150){m=f.size/30}else{if(e>100){m=f.size/15}else{m=f.size/8}}}}if(d){$(".streamStatusDiv",l).html("<a href='#'>Click to Open</a>");Download.addOpenLink(l,f)}else{if(!j&&b&&(f.maxByte>m||f.downloadSource!=2)){$(".streamStatusDiv",l).html("<a href='#'>Click to Stream</a>");Download.addOpenLink(l,f)}else{if(!j&&b){$(".streamStatusDiv",l).html("Buffering for Streaming...")}}}}else{if(d){$(".streamStatusDiv",l).html("<a href='#'>Open Folder</a>");Download.addOpenLink(l,f)}else{if(!j){$(".streamStatusDiv",l).html("Downloading Multiple Files")}}}}};var nullCheck=function(a,b){if(b){return a+b}return""};var downloadsMap={};var directive={"div div div span.size":function(a){return"Size: "+CommonUtils.bytesToMb(a.item.size)+" MB"},"div div div span.numFiles":function(a){return nullCheck("Num Files: ",a.item.numFiles)}};function newDownloadData(b,a){if(!b){return true}if(b.downloads.length===a.downloads.length){return false}return true}function downloadsCall(c){$("#downloadsDiv").hide("slow",function(d){$(this).empty();window.oldDownloads=null});var a={url:Constants.CLIENT_URL+c,callbackParamName:"callback",load:function(d,e){return d},error:function(d,e){return d},content:{},timeout:4000};var b=function(){var d=dojo.io.script.get(a);var f=function(g){return g};var e=function(g){return g};d.addCallback(f);d.addErrback(e);d.addBoth(function(){$("#downloadsDiv").hide("slow",function(g){$("#downloadsDiv").show("slow")})})};dojoLoader.scriptGet(b)}var jsonDownloadsTemplate={total:0,numDownloads:0,downloadDir:"dir",downloads:[{title:"file",downloadBytesRead:30,numFiles:10,downloadNumSources:20,downloadSpeed:2.2,downloadStatus:2,uri:"YIX",id:"r",lastModified:11,size:13,timeRemaining:10}]};var Downloads={loadAllDownloads:function(){if(window.downloadsLoading){return}window.downloadsLoading=true;$("#returnToTorrentLink").click(function(g){window.history.go(-2)});CommonUtils.showSpinner();$("#downloadsTemplate").compile("templateFunc",directive,jsonDownloadsTemplate);var c=false;var f=0;function e(){setTimeout(function(){try{b()}catch(g){console.error("Caught error: "+g)}},2000)}function b(){var j={pageIndex:0,resultsPerPage:40};var g={url:Constants.CLIENT_URL+"downloads",callbackParamName:"callback",load:function(k,l){return k},error:function(k,l){return k},content:j,timeout:4000};var h=function(){var k=dojo.io.script.get(g);var m=function(n){try{CommonUtils.hideSpinner();f=0;d(n);window.oldDownloads=n;if(!c){$("#downloadsErrorDiv").html("We're having trouble contacting the LittleShoot Plugin.<br><br>You might want to try refreshing the page. Thanks.")}c=true}catch(o){console.error("Caught error: "+o)}e();return n};var l=function(n){console.warn("Got error: "+n);try{f++;if(f>6){CommonUtils.hideSpinner();$("#downloadsDiv").empty();$("#loadingDownloadsDiv").fadeOut("slow",function(p){$("#noDownloadsDiv").fadeOut("slow",function(q){$("#downloadsErrorDiv").show("slow")})})}}catch(o){console.error("Caught error: "+o)}e();return n};k.addCallback(m);k.addErrback(l)};dojoLoader.scriptGet(h)}var a=function(g,h){$(".singleDownload",h).each(function(r,p){var k=$(this).attr("rel");if(!k){return}if(!CommonUtils.startsWith(k,"http")){return}var w=$(this).attr("linkTitle");var o={uri:k,title:w};var u="http://www.littleshoot.org/link?"+dojo.objectToQuery(o);var n=document.createElement("a");var x=$(n);x.addClass("viralLink");x.attr("href","http://www.addthis.com/bookmark.php?v=20");x.mouseout(function(){addthis_close()});x.click(function(){return addthis_sendto()});x.html("More...");var t=document.createElement("div");var s=document.createElement("div");var v=document.createElement("a");var l=$(v);l.addClass("viralLink");l.html("Tweet File");l.attr("title","Post a short link to this file to Twitter.");l.easyTooltip({useElement:"twitterTooltip"});var q=document.createElement("a");var m=$(q);m.addClass("viralLink");m.html("Post File to Facebook");m.attr("title","Post a short link to this file on Facebook. ");m.attr("href","#");m.easyTooltip({useElement:"fbTooltip"});BitlyUtils.shorten(u,function(z){var y="http://twitter.com/home?status=";var A=y+encodeURIComponent("#shoot Check out this LittleShoot file: "+z);l.click(function(B){B.preventDefault();B.stopPropagation();window.open(A,"LittleTwit","width=800,height=400");if(pageTracker){pageTracker._trackPageview("/twitterDownloadLink")}return false});x.mouseover(function(){return addthis_open(this,"",z,w)});$(s).click(function(B){B.preventDefault();B.stopPropagation();var C={u:z,t:w};var D="http://www.facebook.com/sharer.php?"+dojo.objectToQuery(C);window.open(D,"LittleBook","toolbar=0,status=0,width=626,height=436");if(pageTracker){pageTracker._trackPageview("/facebookDownloadLink")}return false})});l.attr("href","#");var j=document.createElement("div");$(j).addClass("viralDiv");t.appendChild(v);s.appendChild(q);$(t).addClass("viralLinkDiv");$(s).addClass("viralLinkDiv");j.appendChild(t);j.appendChild(s);j.appendChild(n);$(this).append(j)});$(".progressBarDiv",h).progressbar({value:0});$(".downloadPauseResumeIcon",h).click(function(k){k.preventDefault();k.stopPropagation();var l=$(k.currentTarget).attr("rel");var q=downloadsMap["'"+l+"'"];var p={};p.uri=l;var j=$(k.currentTarget);var o;if(q.downloadStatus===8){o="resumeDownload";var n=j.children();n.removeClass("ui-icon-play").addClass("ui-icon-pause").attr("title","Pause the Download")}else{o="pauseDownload";var m=j.children();m.addClass("ui-icon-play").removeClass("ui-icon-pause").attr("title","Resume the Download")}$.getJSON(Constants.CLIENT_URL+o+"?callback=?",p,function(r){})});$(".downloadIcon",h).hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")});$(".downloadStopIcon",h).click(function(q){var l=$(q.currentTarget).attr("rel");var j=downloadsMap["'"+l+"'"];var m={};m.uri=l;var n=function(s){m.removeFiles=s;$.getJSON(Constants.CLIENT_URL+"stopDownload?callback=?",m,function(t){})};var r=$(this);var p=function(t){if(!g.capabilities){n(false)}else{var s=function(){n(true)};var u=function(){if(t){n(false)}};CommonUtils.showChoicesDialog("Clear All Files?","Would you like to remove all downloaded files for '"+j.title+"'?",s,u,"Yes","No")}};q.preventDefault();q.stopPropagation();var k=Download.isComplete(j);var o=Download.isFailedOrCanceled(j);if(k||o){p(false)}else{CommonUtils.showConfirmDialog("Cancel Download?","Are you sure you want to cancel downloading '"+j.title+"'? You will lose all downloaded data and cannot undo this action.",function(){p(true)})}});$(".singleDownload",h).hover(function(){$(this).addClass("singleDownloadHover")},function(){$(this).removeClass("singleDownloadHover")})};var d=function(l){if(!l){return}if(l.downloads.length===0){$("#downloadsDiv").empty();$("#loadingDownloadsDiv").fadeOut("slow",function(s){$("#downloadsErrorDiv").fadeOut("slow",function(t){$("#noDownloadsDiv").fadeIn("slow")})});return}else{$("#loadingDownloadsDiv").fadeOut("fast",function(s){$("#downloadsErrorDiv").fadeOut("fast",function(t){$("#noDownloadsDiv").fadeOut("fast",function(u){$("#downloadsDiv").show("slow")})})})}if(newDownloadData(window.oldDownloads,l)){try{downloadsMap.length=0;var q=$("#downloadsDiv");q.empty();q.html($p.render(l,"templateFunc"));a(l)}catch(h){console.error("Caught error updating downloads: "+h);return}}var g=l.capabilities;for(var m=0;m<l.downloads.length;m++){var j=l.downloads[m];var o=$("#"+j.id).get(0);downloadsMap["'"+j.uri+"'"]=j;try{Download.updateDownloadBase(j,o,g)}catch(k){console.error("Caught error updating single download: "+k)}}var r=l.totalPayloadUploadBytes+l.historicUploadBytes;var n=l.totalPayloadDownloadBytes+l.historicDownloadBytes;$("#totalDownloadBytes").html(CommonUtils.bytesToMb(n)+" MB");$("#totalUploadBytes").html(CommonUtils.bytesToMb(r)+" MB");$("#downloadRate").html(CommonUtils.twoPlaces(l.payloadDownloadRate/1024)+" KB/s");$("#uploadRate").html(CommonUtils.twoPlaces(l.payloadUploadRate/1024)+" KB/s");var p=r/n;$("#ratio").html(CommonUtils.twoPlaces(p))};$("#logoDiv").click(function(){window.location.href="home"});b();$("#clearInactiveButton").click(function(g){g.preventDefault();g.stopPropagation();downloadsCall("clearInactiveDownloads")});$("#clearFailedButton").click(function(g){g.preventDefault();g.stopPropagation();downloadsCall("clearFailedDownloads")})}};$(document).ready(function(){$(".simpleButton").hover(function(){$(this).addClass("simpleButtonOver")},function(){$(this).removeClass("simpleButtonOver")});$(".simpleGrayButton").hover(function(){$(this).addClass("simpleGrayButtonOver")},function(){$(this).removeClass("simpleGrayButtonOver")})});var linkMap={};var linkIndexMap={};var AccordionNav={nav:function(b,f){$(".contentBodySection").hide();if(b.type==="category"){$(".selectedAboutBody").each(function(){$(this).removeClass("selectedAboutBody");$(this).addClass("unSelectedAboutBody")})}var d=dojo.byId(f);if(!d){console.error("No element with ID: "+f);return}CommonUtils.showElement(d);if(b.aboutContentId){var c=dojo.byId(b.aboutContentId);dojo.removeClass(c,"unSelectedAboutBody");dojo.addClass(c,"selectedAboutBody")}var e;if(b.subTitle){e=" - "+b.subTitle}else{if(CommonUtils.isEmpty(b.subTitle)){e=""}else{e=" - "+b.name}}$(".contentTitleSub").html(e);var a;if(b.category){a=b.category}else{a=""}$(".contentTitleCategory").html(a)},navBase:function(a){var b;if(dojo.isFunction(a.contentId)){a.contentId(a,function(c,d){AccordionNav.nav(c,d)})}else{AccordionNav.nav(a,a.contentId)}}};function onDownloadContent(b,a){if(!dojo.isFunction(a)){console.error("Not a function: "+a);return}var f="downloadContent";var e="downloadContentBodySection";var g="downloadWrapperDiv";var d=function(h){if(!h){console.error("Could not access div with ID: "+g)}else{CommonUtils.showElement(h);$(".freeLink").click(function(j){j.stopPropagation();j.preventDefault();CommonUtils.downloadInstaller()});$(".proLink").click(function(j){j.stopPropagation();j.preventDefault();Pro.buy()})}a(b,e)};var c=dojo.byId(g);if(c){d(c)}else{CommonUtils.hideAll(".contentBodySection");CommonUtils.showSpinner();$("#downloadContentBody").load(f,function(){d(dojo.byId(g));CommonUtils.hideSpinner()})}}function loadContentInto(g,b,a,f,c){if(!dojo.isFunction(a)){console.error("Not a function: "+a);return}var e=function(h){if(!h){console.error("Could not access div with ID: "+f)}else{CommonUtils.showElement(h);a(b,f)}};var d=dojo.byId(f);if(d){e(d)}else{$(".contentBodySection").hide();CommonUtils.showSpinner();$(g).load(c,function(){e(dojo.byId(f));CommonUtils.hideSpinner()})}}function loadContent(b,a,e){var d="#"+e+"ContentBody";var c=e+"Content";loadContentInto(d,b,a,e,c)}var navData={categories:[{id:"navHome",name:"Home",category:"Home",subTitle:"",type:"category",contentId:"home",aboutContentId:"homeContentBody",links:[]},{id:"navWhatIs",name:"What Is LittleShoot?",category:"What Is LittleShoot?",subTitle:"The Big Idea",type:"category",contentId:function(a,b){return loadContent(a,b,"whatIs")},aboutContentId:"whatIsContentBody",links:[{name:"Search",category:"What Is LittleShoot?",contentId:"whatIsSearch",aboutContentId:"whatIsContentBody"},{name:"Downloading",category:"What Is LittleShoot?",contentId:"whatIsDownload",aboutContentId:"whatIsContentBody"},{name:"Publishing",category:"What Is LittleShoot?",contentId:"whatIsPublish",aboutContentId:"whatIsContentBody"},{name:"Privacy",category:"What Is LittleShoot?",contentId:"whatIsPrivacy",aboutContentId:"whatIsContentBody"},{name:"Security",category:"What Is LittleShoot?",contentId:"whatIsSecurity",aboutContentId:"whatIsContentBody"}]},{id:"navTechnology",name:"Technology",category:"Technology",subTitle:"Introduction",type:"category",contentId:function(a,b){return loadContent(a,b,"technology")},aboutContentId:"technologyContentBody",links:[{name:"FAQ",category:"Technology",contentId:"technologyFaq",aboutContentId:"technologyContentBody"},{name:"Open Platform",category:"Technology",contentId:"technologyOpenPlatform",aboutContentId:"technologyContentBody"},{name:"Open Source",category:"Technology",contentId:"technologyOpenSource",aboutContentId:"technologyContentBody"},{name:"Open Data",category:"Technology",contentId:"technologyOpenData",aboutContentId:"technologyContentBody"},{name:"Security",category:"Technology",contentId:"technologySecurity",aboutContentId:"technologyContentBody"},{name:"Architecture",category:"Technology",type:"category",contentId:"technologyArchOverview",aboutContentId:"technologyContentBody"},{name:"Search",category:"Technology",contentId:"technologyArchSearch",aboutContentId:"technologyContentBody"},{name:"Downloading",category:"Technology",contentId:"technologyArchDownloading",aboutContentId:"technologyContentBody"},{name:"Publishing",category:"Technology",contentId:"technologyArchPublishing",aboutContentId:"technologyContentBody"},{name:"NAT/Firewall",category:"Technology",contentId:"technologyArchNatFirewall",aboutContentId:"technologyContentBody"},{name:"Reliable UDP",category:"Technology",contentId:"technologyArchRudp",aboutContentId:"technologyContentBody"}]},{id:"navHelp",name:"Help",category:"Help",subTitle:"FAQ",type:"category",contentId:function(a,b){return loadContent(a,b,"help")},aboutContentId:"helpContentBody",links:[{name:"Searching",category:"Help",contentId:"helpSearching"},{name:"Downloading",category:"Help",contentId:"helpDownloading"},{name:"Publishing",category:"Help",contentId:"helpPublishing"}]},{id:"navTeam",name:"The Team",category:"The Team",subTitle:"",type:"category",contentId:function(a,b){return loadContent(a,b,"team")},aboutContentId:"teamContentBody",links:[]},{id:"navContact",name:"Contact Us",category:"Contact",subTitle:"",type:"category",contentId:function(a,b){return loadContent(a,b,"contact")},aboutContentId:"contactContentBody",links:[]},{id:"navDownload",name:"Download LittleShoot",category:"Download",subTitle:"",type:"category",contentId:function(a,b){return onDownloadContent(a,b)},aboutContentId:"downloadContentBody",links:[]},{id:"navDevelopers",name:"Developers",category:"Developers",subTitle:"Introduction",type:"category",contentId:function(a,b){return loadContent(a,b,"developers")},aboutContentId:"developersContentBody",links:[{name:"Get the Code",category:"Developers",href:"code"},{name:"Mailing List",category:"Developers",href:"http://groups.google.com/group/littleshoot-developers/topics"},{name:"JIRA Tasks",category:"Developers",href:"http://dev.littleshoot.org:8081"},{name:"Bugs Reported",category:"Developers",href:"http://1.latest.littleshootbugs.appspot.com/"}]}]};function connectLink(c,b,a){$(c).click(function(e){if(!a){e.stopPropagation()}window.scrollTo(0,0);AccordionNav.navBase(b);$("#accordionNav .selectedNav").removeClass("selectedNav");var d=e.target;$(d).addClass("selectedNav")})}function onCategoryClick(a){window.scrollTo(0,0);AccordionNav.navBase(a);$("#accordionNav .selectedNav").removeClass("selectedNav")}function createCategory(f,g){var e=$("#"+f.id);if(e.size()===0){console.error("No element matching: "+f.id);return}linkMap[f.id]=f;linkIndexMap[f.id]=g;e.html(f.name).click(function(j){onCategoryClick(f)});var h=$("#"+f.id+"Div");if(h.size()===0){console.error("No div matching: "+f.id+"Div");return}for(var c=0;c<f.links.length;c++){var b=f.links[c];var a=document.createElement("div");var d=document.createElement("a");d.innerHTML=b.name;if(b.href!==undefined){d.href=b.href}else{connectLink(d,b)}a.appendChild(d);h.append(a);if(b.id!==undefined){linkMap[b.id]=b;linkIndexMap[b.id]=g}}}jQuery().ready(function(){dojo.addOnLoad(function(){if($("#accordionNav").size()===0){return}for(var c=0;c<navData.categories.length;c++){var g=navData.categories[c];createCategory(g,c)}var h=linkMap.navDevelopers;var b=linkIndexMap.navDevelopers;$(".openSourceLink").click(function(j){$("#navDevelopers").trigger("click");onCategoryClick(h)});var a=0;var e=["#nyTimesBanner","#mashableBanner","#lifehackerBanner","#cnetBanner"];var d=['<img src="images/nytlogo260x43.gif"/>','<img src="images/mashable_logo_200_55.png"/>','<img src="images/lifehacker_logo_321_55.png"/>','<img src="images/cnet_logo.png"/>'];var f=function(){$("#homeBanner").fadeOut("slow",function(){var m=d[a];var k=e[a];var n=k+"Logo";var l=$(n);var j=$(k);l.html(m);$(this).html(j.html()).fadeIn("slow");a++;if(a===e.length){a=0}})};f();setInterval(f,14000);$(".freeLink").click(function(j){j.stopPropagation();j.preventDefault();CommonUtils.downloadInstaller()});$(".proLink").click(function(j){j.stopPropagation();j.preventDefault();Pro.buy()})})});function navigateToTab(c){dojo.query("#tabs .selectedTab").forEach(function(e){dojo.removeClass(e,"selectedTab");dojo.removeClass(e,"sprite-selectedTab");dojo.addClass(e,"unselectedTab");dojo.addClass(e,"sprite-unselectedTab")});var a;if(c.nodeName==="DIV"){a=c}else{a=c.parentNode}dojo.removeClass(a,"unselectedTab");dojo.removeClass(a,"sprite-unselectedTab");dojo.addClass(a,"selectedTab");dojo.addClass(a,"sprite-selectedTab");dojo.query("#mainContentWhiteDiv .selectedContainer").forEach(function(e){dojo.removeClass(e,"selectedContainer");CommonUtils.hideElement(e)});if(!dojo.hasClass(c,"searchNav")){if(window.searchResults){window.searchResults.stop()}}var b;if(dojo.hasClass(c,"searchNav")){b=dojo.byId("searchContainer");Search.onOnLoad()}else{if(dojo.hasClass(c,"downloadsNav")){b=dojo.byId("downloadsContainer");DownloadsTab.onOnLoad()}else{if(dojo.hasClass(c,"publishNav")){b=dojo.byId("publishContainer");Publisher.onOnLoad()}else{if(dojo.hasClass(c,"aboutNav")){b=dojo.byId("aboutContainer");AboutTab.onOnLoad();if(dojo.query(".selectedAboutBody").length===0){var d=dojo.byId("homeContentBody");dojo.removeClass(d,"unSelectedAboutBody");dojo.addClass(d,"selectedAboutBody")}}}}}if(b){CommonUtils.showElement(b);dojo.addClass(b,"selectedContainer")}}TabHistory={addHistory:function(a){if(!a){console.error("Need a tab to add to history!!")}var b={tab:a,back:function(){navigateToTab(this.tab)},forward:function(){navigateToTab(this.tab)},changeUrl:true};dojo.back.addToHistory(b)}};function setInitialHistoryState(a){var b={tab:dojo.byId(a),back:function(){navigateToTab(this.tab)},forward:function(){navigateToTab(this.tab)},changeUrl:true};dojo.back.setInitialState(b)}function goToTab(a,b){window.scrollTo(0,0);a.stopPropagation();a.preventDefault();navigateToTab(b);TabHistory.addHistory(b)}function showIeDownloadMessage(){CommonUtils.showMessage("Internet Explorer Not Supported","We're sorry, but we're still working out some kinks in the LittleShoot version for Internet Explorer. LittleShoot works great on Google Chrome, FireFox, Safari, or Opera however. We should have this fixed soon, but in the meantime you have to use a different browser to install LittleShoot. We apologize for the inconvenience.")}lighBoxSettings={callback:function(){Search.enableLightBox();setTimeout(function(){$("a[rel*=lightbox]").lightBox({fixedNavigation:true,extraText:function(a){return"   <a href='"+a+"' target='blank'>Open in New Window</a>"}})},10)}};function delayedVideoOverlay(){setTimeout(function(){flowPlayerConfig={callback:function(){var a={zIndex:3000000,onStart:function(b){},plugins:{controls:{sliderColor:"#646464;",sliderGradient:"high",bufferColor:"#6e9f1a",progressColor:"#6e9f1a",timeColor:"#8abc33",buttonColor:"#646464",buttonOverColor:"#222222",backgroundColor:"#000000",zIndex:3000001}}};$("a.player").flowplayer("swf/flowplayer-3.0.1.swf",a);$("#techCrunchVideoDiv").hide().show()}};overlayConfig={callback:function(){$(function(){$("#techCrunchVideoLink").overlay({onBeforeLoad:function(){this.expose({zIndex:100000})},onLoad:function(a){$("a.player",a).flowplayer(0).load()},onClose:function(a){$("a.player",a).flowplayer(0).unload();$.unexpose()}})})}};CommonUtils.loadJs("timestamped/extra-combined.js?version=date-2012-01-26--time-18-52-00")},2000)}function playYahooMedia(a){YAHOO.MediaPlayer.addTracks(a.parentNode);YAHOO.MediaPlayer.next();YAHOO.MediaPlayer.play();YAHOO.MediaPlayer.setPlayerViewState(1);YAHOO.MediaPlayer.setQueueViewState(1)}function form_swap_values(){swapValues=[];jQuery(".swap_value").each(function(a){swapValues[a]=jQuery(this).val();jQuery(this).focus(function(){if(jQuery(this).val()===swapValues[a]){jQuery(this).val("")}}).blur(function(){if(jQuery.trim(jQuery(this).val())===""){jQuery(this).val(swapValues[a])}})})}function handleLogins(){$("#logoutLink").click(function(b){b.stopPropagation();b.preventDefault();var c=$(this).attr("rel");var a=function(){$.get(c,function(d){CommonUtils.showMessage("Logout Status",d);$(".loggedIn").hide();$(".loggedOut").show()})};CommonUtils.showConfirmDialog("Confirm Logout","Are you sure you want to logout?",a)});$("#loginLink").click(function(a){CommonUtils.showSpinner();a.stopPropagation();a.preventDefault();var e=$(this).attr("rel");var g=function(){$.get(e,function(h){CommonUtils.showMessage("Login Status",h);$(".loggedOut").hide();$(".loggedIn").show()})};var c=document.createElement("div");c.className="normal";var d=document.createElement("form");d.id="loginForm";d.className="loginForm";var b=document.createElement("center");b.appendChild(c);var f=CommonUtils.createRawMessage("Login",b);$.ajax({type:"GET",url:"/accounts/login/",dataType:"jsonp",data:{noCache:(new Date()).getTime()},success:function(m){var h=document.createElement("div");h.id="loginFormTableDiv";$(h).html(m.message);d.appendChild(h);var k=document.createElement("div");d.appendChild(k);var j=document.createElement("div");var o=document.createElement("div");k.appendChild(j);k.appendChild(o);var l=new dijit.form.Button({type:"submit",label:"Login"},j);var n=new dijit.form.Button({label:"Cancel",onClick:function(p){f.hide()}},o);c.appendChild(d);CommonUtils.hideSpinner()},error:function(h,k,j){console.error("Error: "+k+" Thrown: "+j);console.dir(h)}});f.show();$(d).submit(function(){CommonUtils.showSpinner();var h=dojo.formToObject($(this).get(0));console.info("Posting form data...");var j=function(l){console.info("Got form submit via GET response");CommonUtils.hideSpinner();if(l.success){f.hide();CommonUtils.showMessage("Login Succeeded",l.message)}else{$("#loginFormTableDiv").hide("fast",function(){$(this).html(l.message).show("fast")})}};console.info("Logging in...");var k="http://littleshootapi.appspot.com";$.ajax({type:"GET",url:k+"/accounts/loginSubmit/",dataType:"jsonp",data:h,success:j,error:function(l,n,m){console.error("Error: "+n+" Thrown: "+m);console.dir(l)}});return false})})}jQuery().ready(function(){dojo.addOnLoad(function(){$("#tabs .tabNav").click(function(a){var b=a.target;goToTab(a,b)});$(".tabNavLink").click(function(a){var b=$(this).attr("href");var c=$(b).get(0);goToTab(a,c)});delayedVideoOverlay();$("#emailForm").submit(function(){var a=$("#quickSignupEmail").val();return CommonUtils.isValidEmail(a)});$("#logoDiv").click(function(a){window.location.href="home"});form_swap_values();handleLogins()})});var Pro={messageCss:{top:"20%",width:"50%",left:"25%",border:"none",padding:"15px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px",opacity:".7",color:"#fff",cursor:"default"},donate:function(a){$.unblockUI();CommonUtils.showSpinner();if(pageTracker){pageTracker._trackPageview("https://www.paypal.com/cgi-bin/webscr?donate&"+a)}$("#donateForm").trigger("submit")},buy:function(){var a='<img src="images/visa.png" style="margin-right: 10px;"/><img src="images/mastercard.png" style="margin-right: 10px;"/><img src="images/discover.png" style="margin-right: 10px;"/><img src="images/amex.png"/>';$("#creditCardDiv").html(a);$("#proOkButton").click(function(){$.unblockUI();CommonUtils.showSpinner();if(pageTracker){pageTracker._trackPageview("https://www.paypal.com/cgi-bin/webscr")}$("#buyProForm").trigger("submit")}).hover(function(){$(this).css("border","2px solid #aaa").css("color","black")},function(){$(this).css("border","2px solid #777").css("color","#333")});$.blockUI({message:$("#payPalMessageDiv"),css:Pro.messageCss})},cancelled:function(){},success:function(){$("#successButton").click(function(){$.unblockUI()}).hover(function(){$(this).css("border","2px solid #aaa").css("color","black")},function(){$(this).css("border","2px solid #777").css("color","#333")});$.blockUI({message:$("#proSuccessMessageDiv"),css:Pro.messageCss})},failed:function(){$("#failedButton").click(function(){$.unblockUI()}).hover(function(){$(this).css("border","2px solid #aaa").css("color","black")},function(){$(this).css("border","2px solid #777").css("color","#333")});$.blockUI({message:$("#proFailedMessageDiv"),css:Pro.messageCss})},donateSuccess:function(){$("#successButton").click(function(){$.unblockUI()}).hover(function(){$(this).css("border","2px solid #aaa").css("color","black")},function(){$(this).css("border","2px solid #777").css("color","#333")});$.blockUI({message:$("#donateSuccessMessageDiv"),css:Pro.messageCss})}};function downloadBeta(){var b="http://cloudfront.littleshoot.org/";var a="LittleBeta096";var d;if(/Windows/.test(navigator.userAgent)){if($.browser.msie){CommonUtils.showMessage("IE Not Ready!","We're sorry, but there's no beta available for Internet Explorer at this time.");return}else{d=a+".exe"}}else{if(/Mac/.test(navigator.userAgent)){d=a+".dmg"}else{CommonUtils.showMessage("Linux Not Ready!","We're sorry, but there's no beta available for Linux at this time.");return}}var c=b+d;window.location.href=c;if(pageTracker){pageTracker._trackPageview(c)}}jQuery().ready(function(){dojo.addOnLoad(function(){$(".betaDownloadLink").click(function(a){a.stopPropagation();a.preventDefault();downloadBeta()})})});DownloadsTab={onOnLoad:function(){if(window.searchResults){window.searchResults.stop()}if(CommonUtils.hasLittleShoot()){Downloads.loadAllDownloads()}}};PublishTab={onOnLoad:function(){console.info("Loaded publish tab")}};(function(a){a.fn.easyTooltip=function(b){var d={xOffset:10,yOffset:25,tooltipId:"easyTooltip",clickRemove:false,content:"",useElement:""};var b=a.extend(d,b);var c;this.each(function(){var e=a(this).attr("title");a(this).hover(function(f){c=(b.content!="")?b.content:e;c=(b.useElement!="")?a("#"+b.useElement).html():c;a(this).attr("title","");if(c!=""&&c!=undefined){a("body").append("<div id='"+b.tooltipId+"'>"+c+"</div>");a("#"+b.tooltipId).css("position","absolute").css("top",(f.pageY-b.yOffset)+"px").css("left",(f.pageX+b.xOffset)+"px").css("display","none").fadeIn("fast")}},function(){a("#"+b.tooltipId).remove();a(this).attr("title",e)});a(this).mousemove(function(f){a("#"+b.tooltipId).css("top",(f.pageY-b.yOffset)+"px").css("left",(f.pageX+b.xOffset)+"px")});if(b.clickRemove){a(this).mousedown(function(f){a("#"+b.tooltipId).remove();a(this).attr("title",e)})}})}})(jQuery);$(document).ready(function(){$("div.accordionButton").click(function(){$("div.accordionContent").slideUp("normal");$(this).next().slideDown("normal")});$("div.accordionContent").hide();$("#accordionNav").show()});(function(f){if(/1\.(0|1|2)\.(0|1|2)/.test(f.fn.jquery)||/^1.1/.test(f.fn.jquery)){alert("blockUI requires jQuery v1.2.3 or later!  You are using v"+f.fn.jquery);return}f.fn._fadeIn=f.fn.fadeIn;f.blockUI=function(n){c(window,n)};f.unblockUI=function(n){g(window,n)};f.growlUI=function(q,o,p){var n=f('<div class="growlUI"></div>');if(q){n.append("<h1>"+q+"</h1>")}if(o){n.append("<h2>"+o+"</h2>")}if(p==undefined){p=3000}f.blockUI({message:n,fadeIn:700,fadeOut:1000,centerY:false,timeout:p,showOverlay:false,css:f.blockUI.defaults.growlCSS})};f.fn.block=function(n){return this.each(function(){if(f.css(this,"position")=="static"){this.style.position="relative"}if(f.browser.msie){this.style.zoom=1}c(this,n)})};f.fn.unblock=function(n){return this.each(function(){g(this,n)})};f.blockUI.version=2.16;f.blockUI.defaults={message:"<h1>Please wait...</h1>",css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},overlayCSS:{backgroundColor:"#000",opacity:"0.6"},growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:"0.6",cursor:null,color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px"},baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,applyPlatformOpacityRules:true,onUnblock:null,quirksmodeOffsetHack:4};var d=f.browser.msie&&/MSIE 6.0/.test(navigator.userAgent);var b=null;var e=[];function c(p,n){var A=(p==window);var q=n&&n.message!==undefined?n.message:undefined;n=f.extend({},f.blockUI.defaults,n||{});n.overlayCSS=f.extend({},f.blockUI.defaults.overlayCSS,n.overlayCSS||{});var y=f.extend({},f.blockUI.defaults.css,n.css||{});q=q===undefined?n.message:q;if(A&&b){g(window,{fadeOut:0})}if(q&&typeof q!="string"&&(q.parentNode||q.jquery)){var s=q.jquery?q[0]:q;var x={};f(p).data("blockUI.history",x);x.el=s;x.parent=s.parentNode;x.display=s.style.display;x.position=s.style.position;if(x.parent){x.parent.removeChild(s)}}var B=n.baseZ;var w=(f.browser.msie)?f('<iframe class="blockUI" style="z-index:'+(B++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="about:blank"></iframe>'):f('<div class="blockUI" style="display:none"></div>');var v=f('<div class="blockUI blockOverlay" style="z-index:'+(B++)+';display:none;cursor:wait;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>');var r=A?f('<div class="blockUI blockMsg blockPage" style="z-index:'+B+';display:none;position:fixed"></div>'):f('<div class="blockUI blockMsg blockElement" style="z-index:'+B+';display:none;position:absolute"></div>');if(q){r.css(y)}if(!n.applyPlatformOpacityRules||!(f.browser.mozilla&&/Linux/.test(navigator.platform))){v.css(n.overlayCSS)}v.css("position",A?"fixed":"absolute");if(f.browser.msie){w.css("opacity","0.0")}f([w[0],v[0],r[0]]).appendTo(A?"body":p);var E=f.browser.msie&&(f.browser.version<8||!f.boxModel)&&(!f.boxModel||f("object,embed",A?null:p).length>0);if(d||E&&r[0].style.setExpression){if(A&&n.allowBodyStretch&&f.boxModel){f("html,body").css("height","100%")}if((d||!f.boxModel)&&!A){var F=k(p,"borderTopWidth"),u=k(p,"borderLeftWidth");var D=F?"(0 - "+F+")":0;var o=u?"(0 - "+u+")":0}f.each([w,v,r],function(t,I){var z=I[0].style;z.position="absolute";if(t<2){A?z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.boxModel?0:"+n.quirksmodeOffsetHack+') + "px"'):z.setExpression("height",'this.parentNode.offsetHeight + "px"');A?z.setExpression("width",'jQuery.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):z.setExpression("width",'this.parentNode.offsetWidth + "px"');if(o){z.setExpression("left",o)}if(D){z.setExpression("top",D)}}else{if(n.centerY){if(A){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!n.centerY&&A){var G=(n.css&&n.css.top)?parseInt(n.css.top):0;var H="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+G+') + "px"';z.setExpression("top",H)}}}})}if(q){r.append(q);if(q.jquery||q.nodeType){f(q).show()}}if(f.browser.msie&&n.showOverlay){w.show()}if(n.fadeIn){if(n.showOverlay){v._fadeIn(n.fadeIn)}if(q){r.fadeIn(n.fadeIn)}}else{if(n.showOverlay){v.show()}if(q){r.show()}}j(1,p,n);if(A){b=r[0];e=f(":input:enabled:visible",b);if(n.focusInput){setTimeout(m,20)}}else{a(r[0],n.centerX,n.centerY)}if(n.timeout){var C=setTimeout(function(){A?f.unblockUI(n):f(p).unblock(n)},n.timeout);f(p).data("blockUI.timeout",C)}}function g(q,r){var p=q==window;var o=f(q);var s=o.data("blockUI.history");var t=o.data("blockUI.timeout");if(t){clearTimeout(t);o.removeData("blockUI.timeout")}r=f.extend({},f.blockUI.defaults,r||{});j(0,q,r);var n=p?f("body").children().filter(".blockUI"):f(".blockUI",q);if(p){b=e=null}if(r.fadeOut){n.fadeOut(r.fadeOut);setTimeout(function(){h(n,s,r,q)},r.fadeOut)}else{h(n,s,r,q)}}function h(n,q,p,o){n.each(function(r,s){if(this.parentNode){this.parentNode.removeChild(this)}});if(q&&q.el){q.el.style.display=q.display;q.el.style.position=q.position;if(q.parent){q.parent.appendChild(q.el)}f(q.el).removeData("blockUI.history")}if(typeof p.onUnblock=="function"){p.onUnblock(o,p)}}function j(n,r,s){var q=r==window,p=f(r);if(!n&&(q&&!b||!q&&!p.data("blockUI.isBlocked"))){return}if(!q){p.data("blockUI.isBlocked",n)}if(n&&!s.showOverlay){return}var o="mousedown mouseup keydown keypress";n?f(document).bind(o,s,l):f(document).unbind(o,l)}function l(q){if(q.keyCode&&q.keyCode==9){if(b&&q.data.constrainTabKey){var p=e;var o=!q.shiftKey&&q.target==p[p.length-1];var n=q.shiftKey&&q.target==p[0];if(o||n){setTimeout(function(){m(n)},10);return false}}}if(f(q.target).parents("div.blockMsg").length>0){return true}return f(q.target).parents().children().filter("div.blockUI").length==0}function m(n){if(!e){return}var o=e[n===true?e.length-1:0];if(o){o.focus()}}function a(u,n,w){var v=u.parentNode,r=u.style;var o=((v.offsetWidth-u.offsetWidth)/2)-k(v,"borderLeftWidth");var q=((v.offsetHeight-u.offsetHeight)/2)-k(v,"borderTopWidth");if(n){r.left=o>0?(o+"px"):"0"}if(w){r.top=q>0?(q+"px"):"0"}}function k(n,o){return parseInt(f.css(n,o))||0}})(jQuery);jQuery().ready(function(){dojo.addOnLoad(function(){$("#buttonDivFree").click(function(a){if($.browser.msie){showIeDownloadMessage()}else{CommonUtils.downloadInstaller()}}).hover(function(){},function(){});$(".donateLink").click(function(a){a.stopPropagation();a.preventDefault();$.blockUI({message:$("#donateOverlay"),css:{top:"10%",width:"40%",left:"30%",border:"none",padding:"15px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px",opacity:".6",color:"#fff",cursor:"default"}})});$(".donateLinkDirect").click(function(){Pro.donate()});$(".overlayCancelButton").click(function(){$.unblockUI()});$(".overlayOkButton").click(function(){$.unblockUI()});$("#buttonDivPro").click(function(a){if($.browser.msie){showIeDownloadMessage()}else{Pro.buy()}}).hover(function(){$("#proBullets").show()},function(){$("#proBullets").hide()});$(".buttonDiv").hover(function(){$(".buttonNotOver",this).hide();$(".buttonOver",this).show()},function(){$(".buttonOver",this).hide();$(".buttonNotOver",this).show()}).show()})});jQuery().ready(function(){dojo.addOnLoad(function(){dojo.subscribe("littleShootDetected",function(a){var b='<span class="normalSmall" style="color: #8abc33">VERSION: '+a.appVersion+"</span>";$("#proLogoDiv").html(b).show(2000)});$(".comparisonChartLink").click(function(a){a.stopPropagation();a.preventDefault();window.location.href="download"})})});var Welcome={welcome:function(){jQuery().ready(function(){dojo.addOnLoad(function(){$("#welcomeCloseButton").click(function(){$.unblockUI()}).hover(function(){$(this).css("border","2px solid #aaa").css("color","black")},function(){$(this).css("border","2px solid #777").css("color","#333")});$.blockUI({message:$("#welcomeMessageDiv"),css:{top:"10%",width:"50%",left:"25%",border:"none",padding:"15px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px",opacity:".6",color:"#fff",cursor:"default"}})})})}};jQuery().ready(function(){dojo.addOnLoad(function(){$(".overlayCloseIcon").click(function(){$.unblockUI()});$(".overlayCloseIconDiv").hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")})})});var BitlyUtils={BITLY_VERSION:"2.0.1",shorten:function(b,a){var c={};c.format="json";c.version=BitlyUtils.BITLY_VERSION;c.longUrl=b;c.apiKey="R_60cdce3fae3d41d3337607b13dc343a5";c.login="littleshoot";$.getJSON("http://api.bit.ly/shorten?callback=?",c,function(f){try{var d=f.results[b].shortUrl;a(d)}catch(e){console.error("Error making Bitly callback: "+e)}})},stats:function(a,c){var b={};b.format="json";b.version=BitlyUtils.BITLY_VERSION;b.shortUrl=a;b.apiKey="R_60cdce3fae3d41d3337607b13dc343a5";b.login="littleshoot";$.getJSON("http://api.bit.ly/stats?callback=?",b,function(e){try{c(e)}catch(d){console.error("Error making Bitly callback: "+d)}})}};var Link={linkNotInstalledMessage:function(a,b){jQuery().ready(function(){dojo.addOnLoad(function(){Link.subscribeToInstall(a,b);$("#linkCloseButton").click(function(){$.unblockUI();if(pageTracker){pageTracker._trackPageview("/installFromLink")}CommonUtils.downloadInstaller();Link.showWaitingForInstallMessage()}).hover(function(){$(this).css("border","2px solid #aaa").css("color","black")},function(){$(this).css("border","2px solid #777").css("color","#333")});$.blockUI({message:$("#linkNotInstalledMessageDiv"),css:{top:"10%",width:"50%",left:"25%",border:"none",padding:"15px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px",opacity:".6",color:"#fff",cursor:"default"}})})})},showWaitingForInstallMessage:function(){$("#linkWaitingCloseButton").click(function(){$.unblockUI()}).hover(function(){$(this).css("border","2px solid #aaa").css("color","black")},function(){$(this).css("border","2px solid #777").css("color","#333")});$.blockUI({message:$("#linkWaitingMessageDiv"),css:{top:"10%",width:"50%",left:"25%",border:"none",padding:"15px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px",opacity:".6",color:"#fff",cursor:"default"}})},subscribeToInstall:function(a,b){dojo.subscribe("littleShootDetected",function(c){$.unblockUI();var d=function(){if(pageTracker){pageTracker._trackPageview("/fileFromInstallFromLink")}var e={uri:a,title:b,installed:true};window.location.href="link?"+dojo.objectToQuery(e)};CommonUtils.showConfirmDialog("LittleShoot Detected!","OK great, LittleShoot's running. Click 'OK' to start downloading '"+b+"' now.",d)})}};jQuery().ready(function(){dojo.addOnLoad(function(){$(".overlayCancelButton").click(function(){$.unblockUI()});$(".overlayButton").hover(function(){$(this).css("border","2px solid #aaa").css("color","black")},function(){$(this).css("border","2px solid #777").css("color","#333")})})});var Common={getDownloadUrl:function(){var b="http://cloudfront.littleshoot.org/LittleShoot-";var a=b+"09991";if(/Windows/.test(navigator.userAgent)){return a+".exe"}else{if(/Mac/.test(navigator.userAgent)){return b+"09991.dmg"}else{return a+".tgz"}}}};